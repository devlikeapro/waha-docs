import{u as F,s as ns,a as we,b as ls,_ as xe,l as X}from"./BXs6JJZW.js";import P from"./BZ2JJtB8.js";import is from"./Bh7JKIbV.js";import{Y as fe,Q as W,M as _,t as d,v as C,R as M,x as e,z as o,V as as,_ as ke,N as E,T as _e,y as I,c as T,P as R,O as L,r as w,A as m,W as ae,U as J,X as rs,B as j,$ as ds,S as us,o as Ce,C as cs,D as ps,a0 as be,G as ge,i as Ve,a1 as ms,a2 as vs,L as fs,Z as ce,a3 as _s}from"./CIGJwnNC.js";import De from"./JhQn5bXN.js";import bs from"./CCPXUOVK.js";import re from"./DFvDcOFw.js";import gs from"./CB2XGVpS.js";import Ue from"./BBmKCvB8.js";import hs from"./LGIIHXmh.js";import ys from"./DHKaLWV3.js";import Ss from"./Cfn3WsDU.js";import $s from"./BPJvo-Hg.js";import{a as Re,u as Te,_ as Le}from"./DGGQ8VYD.js";import he from"./BXos0hsK.js";import Be from"./D2vfmq0U.js";import ws from"./CFzf2tbz.js";import Me from"./BvQi5w42.js";import xs from"./CtiYrOrO.js";import ks from"./Q93kctQJ.js";import Ne from"./DX6_GGrw.js";import Cs from"./C0M9rhFA.js";import Vs from"./BpnLNIbJ.js";import Ie from"./CvJ9dQPu.js";import je from"./Dr1R3oXf.js";import Oe from"./D9ekGrth.js";import Ds from"./CLPQ9Hnc.js";import Us from"./CrHjEoOM.js";function Rs(t){return t?Object.keys(t).map(n=>({key:n,value:t[n]})):[]}function Ts(t){return t.reduce((n,i)=>(n[i.key]=i.value,n),{})}const Ls={key:0},Bs={key:1,class:"ml-auto flex align-items-center gap-2 mr-2"},Ms=e("label",{for:"show-duplicates"},"Hide Duplicates",-1),Ns={class:"pi pi-info-circle"},Is={__name:"HideDuplicates",setup(t){const n=F(),{hideDuplicatedSessions:i,servers:s}=fe(n);return n.$subscribe((a,p)=>{ns(p.hideDuplicatedSessions)}),(a,p)=>{const l=is,u=W("tooltip");return _(s)&&_(s).length<2?(d(),C("div",Ls)):(d(),C("div",Bs,[Ms,M(e("i",Ns,null,512),[[u,`Show NOT STOPPED sessions with the same "name" and "me".
Useful when you use multiple workers with the same database`]]),o(l,{id:"show-duplicates",modelValue:_(i),"onUpdate:modelValue":p[0]||(p[0]=v=>as(i)?i.value=v:null)},null,8,["modelValue"])]))}}},js={class:"metadata"},Os={__name:"Metadata",props:["metadata"],setup(t){return(n,i)=>(d(),C("div",js,[(d(!0),C(E,null,_e(t.metadata,(s,a)=>(d(),C("pre",{key:a},I(a)+"="+I(s),1))),128))]))}},Es=ke(Os,[["__scopeId","data-v-cb7cbf08"]]),As={class:"text-center p-1"},qs={class:"text-center"},Ee={__name:"SessionChip",props:{session:Object,image:String},setup(t){const n=t,i=T(()=>{if(n.session.me)return`${n.session.me.id}`});return(s,a)=>{var l,u;const p=hs;return d(),C("div",null,[e("div",As,[e("b",qs,I((u=(l=n.session)==null?void 0:l.me)==null?void 0:u.pushName),1)]),_(i)?(d(),R(p,{key:0,label:_(i),image:t.image},null,8,["label","image"])):L("",!0)])}}},Ae={__name:"RefreshButton",props:["refreshing"],setup(t){const n=t,i=T(()=>n.refreshing?"pi pi-refresh pi-spin":"pi pi-refresh");return(s,a)=>{const p=P;return d(),R(p,{icon:_(i),rounded:"",text:"",disabled:t.refreshing},null,8,["icon","disabled"])}}},Hs=["src"],Fs={__name:"Base64Img",props:{data:String,mimetype:String},setup(t){const n=t,i=T(()=>`data:${n.mimetype};base64, ${n.data}`);return(s,a)=>(d(),C("img",{src:i.value,style:{"max-width":"100%"}},null,8,Hs))}},Ps={key:2,style:{"background-color":"#f8f9fa",padding:"1rem",color:"red","white-space":"pre-wrap"}},qe={__name:"SessionScreenshot",props:{session:Object},setup(t,{expose:n}){const i=F(),s=t,{data:a,pending:p,error:l,refresh:u}=we(`session-screenshot-${s.session.server.id}-${s.session.name}`,async()=>(await ls(1e3),await i.getScreenshot(s.session.server.id,s.session.name)));return n({refresh:u}),(v,f)=>{const V=ys,x=Ss,y=Fs;return d(),C(E,null,[_(p)?(d(),C(E,{key:0},[o(V,{mode:"indeterminate",style:{height:"3px"}}),!_(a)&&!_(l)?(d(),R(x,{key:0,width:"100%",height:"20rem"})):L("",!0)],64)):L("",!0),_(a)?(d(),R(y,{key:1,data:_(a).data,mimetype:_(a).mimetype},null,8,["data","mimetype"])):L("",!0),_(l)?(d(),C("pre",Ps,""+I(_(l).cause.response.data.message||_(l).cause.response.data||_(l))+`
  `,1)):L("",!0)],64)}}},Ws={class:"",style:{"min-width":"20rem"}},Ks={class:"flex justify-content-center align-items-center"},zs=e("h5",{class:"m-0"},"Screenshot",-1),Js={class:"m-auto w-full"},Ys={__name:"ScreenshotButton",props:["disabled","session"],setup(t){const n=w(null),i=w(null),s=p=>{n.value.toggle(p)},a=()=>{i.value.refresh()};return(p,l)=>{const u=P,v=Ae,f=qe,V=$s,x=W("tooltip");return d(),C(E,null,[M(o(u,{disabled:t.disabled,type:"button",icon:"pi pi-camera",onClick:s,rounded:"",outlined:"",severity:"help"},null,8,["disabled"]),[[x,"Screenshot / QR",void 0,{top:!0}]]),o(V,{ref_key:"op",ref:n,appendTo:"body",showCloseIcon:!0},{default:m(()=>[e("div",Ws,[e("div",Ks,[zs,o(v,{onClick:a})]),e("div",Js,[o(f,{ref_key:"screenshot",ref:i,session:t.session},null,8,["session"])])])]),_:1},512)],64)}}},Gs={class:"ml-1"},Qs={key:1},Xs={class:"ml-1"},He={__name:"ServerDropdown",props:ae({showClear:Boolean,placeholder:String,required:Boolean,invalid:Boolean,disabled:Boolean},{server:{},serverModifiers:{}}),emits:["update:server"],setup(t){const n=J(t,"server"),i=F();return(s,a)=>{const p=Re,l=he;return d(),R(l,{optionValue:"id",modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=u=>n.value=u),options:_(i).servers,onChange:a[1]||(a[1]=u=>s.$emit("change",n.value)),placeholder:t.placeholder,class:"p-column-filter",showClear:t.showClear,required:t.required,invalid:t.invalid,disabled:t.disabled},{value:m(u=>[u.value?(d(),C(E,{key:0},[o(p,{connected:_(i).getServer(u.value).connected},null,8,["connected"]),e("span",Gs,I(_(i).getServer(u.value).name),1)],64)):(d(),C("span",Qs,I(u.placeholder),1))]),option:m(u=>[o(p,{connected:u.option.connected},null,8,["connected"]),e("span",Xs,I(u.option.name)+" ("+I(u.option.connection.url)+") ",1)]),_:1},8,["modelValue","options","placeholder","showClear","required","invalid","disabled"])}}},Zs={class:"flex flex-row gap-2 justify-content-end"},Fe={__name:"SessionActionButtons",props:["name","isStarting","isRestarting","isStopping","isLoggingOut","isRemoving","allDisabled","hideActions","skipConfirmation","group"],emits:["view","start","restart","stop","logout","delete"],setup(t,{emit:n}){const i=rs(),s=t,a=n;function p(y){return s.skipConfirmation?!s.skipConfirmation.includes(y):!0}async function l(){if(!p("start")){a("start");return}i.require({group:s.group,target:event.target,message:`Start ${s.name}?`,icon:"pi pi-exclamation-triangle",rejectClass:"p-button-secondary p-button-outlined p-button-sm",acceptClass:"p-button-success p-button-sm",rejectLabel:"No",acceptLabel:"Yes, Start",accept:()=>{a("start")},reject:()=>{}})}const u=T(()=>s.hideActions?!s.hideActions.includes("view"):!0);function v(y){i.require({group:s.group,target:y.target,message:`Restart ${s.name}?`,icon:"pi pi-exclamation-triangle",rejectClass:"p-button-secondary p-button-outlined p-button-sm",acceptClass:"p-button-info p-button-sm",rejectLabel:"No",acceptLabel:"Yes, Restart",accept:()=>{a("restart")},reject:()=>{}})}function f(y){i.require({group:s.group,target:y.target,message:`Stop ${s.name}?`,icon:"pi pi-exclamation-triangle",rejectClass:"p-button-secondary p-button-outlined p-button-sm",acceptClass:"p-button-warning p-button-sm",rejectLabel:"No",acceptLabel:"Yes, Stop",accept:async()=>{a("stop")},reject:()=>{}})}function V(y){i.require({group:s.group,target:y.target,message:`Logout ${s.name}?`,icon:"pi pi-exclamation-triangle",rejectClass:"p-button-secondary p-button-outlined p-button-sm",acceptClass:"p-button-warning p-button-sm",rejectLabel:"No",acceptLabel:"Yes, Logout",accept:async()=>{a("logout")},reject:()=>{}})}function x(y){i.require({group:s.group,target:y.target,message:`Delete ${s.name}?`,icon:"pi pi-exclamation-triangle",rejectClass:"p-button-secondary p-button-outlined p-button-sm",acceptClass:"p-button-danger p-button-sm",rejectLabel:"No",acceptLabel:"Yes, Delete",accept:async()=>{a("delete")},reject:()=>{}})}return(y,k)=>{const D=P,S=Be,r=ws,c=W("tooltip");return d(),C(E,null,[e("div",Zs,[_(u)?M((d(),R(D,{key:0,icon:"pi pi-cog",severity:"help",rounded:"",outlined:"",onClick:k[0]||(k[0]=N=>y.$emit("view")),disabled:t.allDisabled},null,8,["disabled"])),[[c,"Configuration",void 0,{top:!0}]]):L("",!0),M(o(D,{icon:"pi pi-play",severity:"success",rounded:"",outlined:"",onClick:l,loading:t.isStarting,disabled:t.allDisabled},null,8,["loading","disabled"]),[[c,"Start",void 0,{top:!0}]]),M(o(D,{icon:"pi pi-replay",severity:"info",rounded:"",outlined:"",onClick:k[1]||(k[1]=N=>v(N)),loading:t.isRestarting,disabled:t.allDisabled},null,8,["loading","disabled"]),[[c,"Restart",void 0,{top:!0}]]),M(o(D,{icon:"pi pi-stop",severity:"secondary",rounded:"",outlined:"",onClick:k[2]||(k[2]=N=>f(N)),loading:t.isStopping,disabled:t.allDisabled},null,8,["loading","disabled"]),[[c,"Stop",void 0,{top:!0}]]),M(o(D,{icon:"pi pi-sign-out",severity:"warning",rounded:"",outlined:"",onClick:k[3]||(k[3]=N=>V(N)),loading:t.isLoggingOut,disabled:t.allDisabled},null,8,["loading","disabled"]),[[c,"Logout",void 0,{top:!0}]]),M(o(D,{icon:"pi pi-trash",severity:"danger",rounded:"",outlined:"",onClick:k[4]||(k[4]=N=>x(N)),loading:t.isRemoving,disabled:t.allDisabled},null,8,["loading","disabled"]),[[c,"Delete",void 0,{top:!0}]])]),t.group==="popup"?(d(),R(S,{key:0,group:"popup"})):L("",!0),t.group==="dialog"?(d(),R(r,{key:1,group:"dialog"})):L("",!0)],64)}}},et={class:"flex flex-row gap-2 justify-content-end"},st={__name:"SessionActions",props:["session","disabled"],setup(t,{expose:n}){const i=t,s=F(),a=Te(),p=w(!1),l=w(!1),u=w(!1),v=w(!1),f=w(!1),V=T(()=>i.disabled||p.value||l.value||u.value||v.value||f.value);async function x(){const r=i.session;v.value=!0,await a(s.startSession(r.server.id,r.name),"Started","Failed to start session",r.name,r.name).finally(()=>v.value=!1)}async function y(){const r=i.session;f.value=!0,await a(s.restartSession(r.server.id,r.name),"Restarted","Failed to restart session",r.name,r.name).finally(()=>f.value=!1)}async function k(){const r=i.session;p.value=!0,await a(s.stopSession(r.server.id,r.name),"Stopped","Failed to stop session",r.name,r.name).finally(()=>p.value=!1)}async function D(){const r=i.session;l.value=!0,await a(s.logoutSession(r.server.id,r.name),"Logged out","Failed to logout session",r.name,r.name).finally(()=>l.value=!1)}async function S(){const r=i.session;u.value=!0,await a(s.deleteSession(r.server.id,r.name),"Deleted","Failed to delete session",r.name,r.name).finally(()=>u.value=!1)}return n({startSession:x,restartSession:y,stopSession:k,logoutSession:D,deleteSession:S}),(r,c)=>{const N=Fe;return d(),C("div",et,[o(N,{group:"popup",name:`'${t.session.name}' session`,onView:c[0]||(c[0]=Y=>r.$emit("view",t.session)),onStart:x,onRestart:y,onStop:k,onLogout:D,onDelete:S,"is-starting":_(v),"is-restarting":_(f),"is-stopping":_(p),"is-logging-out":_(l),"is-removing":_(u),"all-disabled":_(V),"hide-actions":[],"skip-confirmation":["start"]},null,8,["name","is-starting","is-restarting","is-stopping","is-logging-out","is-removing","all-disabled"])])}}},tt={class:"p-dialog-title flex gap-2 align-items-center"},ot=e("i",{class:"pi pi-whatsapp"},null,-1),nt=e("span",null,"(",-1),lt={class:"ml-1"},it=e("span",null,")",-1),at=["disabled"],rt=e("i",{class:"pi pi-refresh"},null,-1),dt=[rt],Pe={__name:"SessionHeader",props:{session:Object,refresh:Boolean},setup(t){const n=t,i=F(),{refreshing:s}=fe(i),a=T(()=>n.session.server.id?n.session.server:i.getServer(n.session.server));async function p(){await i.refresh()}return(l,u)=>{var y,k;const v=Le,f=Re,V=xe,x=W("tooltip");return d(),C("div",tt,[ot,e("span",null,I((y=t.session)==null?void 0:y.name),1),o(v,{status:t.session.status,value:(k=t.session.status)==null?void 0:k.toUpperCase()},null,8,["status","value"]),e("div",null,[nt,o(f,{connected:a.value.connected},null,8,["connected"]),e("span",lt,I(a.value.name),1),it]),t.refresh?M((d(),C("button",{key:0,onClick:u[0]||(u[0]=D=>p()),class:"p-link layout-topbar-button",disabled:_(s)},dt,8,at)),[[x,"Refresh",void 0,{top:!0}]]):L("",!0),o(V,{refreshing:_(s)},null,8,["refreshing"])])}}},ut={class:"-mt-4 p-0 line-height-3 block",style:{"font-family":"monaco, Consolas, 'Lucida Console', monospace"}},ct={__name:"CodeHighlight",props:["invalid"],setup(t){const n=t,i=T(()=>n.invalid?"p-invalid p-component p-inputtext":"");return(s,a)=>(d(),C("pre",{class:us(["border-round surface-ground text-900 p-5 overflow-auto",i.value])},[j("        "),e("code",ut,[ds(s.$slots,"default")])],2))}},ye=t=>(cs("data-v-aa1b18ec"),t=t(),ps(),t),pt={class:"h-full flex flex-column"},mt={class:"flex justify-content-center align-items-center"},vt=ye(()=>e("h5",{class:"m-0"},"Request",-1)),ft={class:"flex flex-column justify-content-between h-full"},_t={class:"flex flex-column gap-2"},bt={class:"flex gap-2"},gt={class:"text-center"},ht=ye(()=>e("div",{class:"mb-2"},"Body",-1)),yt={class:"text-center mt-2"},St={class:"flex flex-column h-full"},$t={class:"flex justify-content-center align-items-center"},wt=ye(()=>e("h5",{class:"m-0"},"Response",-1)),xt={__name:"SessionRequestResponse",props:["session"],setup(t){const n=F(),i=t,s=w(null),a=w("POST"),p=w("/api/sendText"),l=w(""),u=w(!1),v=w(!1);function f(r){return JSON.stringify(r,null,2)}function V(r){try{return JSON.parse(r)}catch{return r}}const x=T(()=>({method:a.value,uri:p.value,params:void 0,body:V(l.value)})),y=["GET","POST","PUT","DELETE","PATCH"];async function k(r){await navigator.clipboard.writeText(s.value),r.preventDefault()}async function D(r){await navigator.clipboard.writeText(f(x.value)),r.preventDefault()}async function S(){try{v.value=!1,u.value=!0;const r=await n.callServerAPI(i.session.server.id,x.value);s.value=f(r)}catch(r){v.value=!0,r.response?s.value=f(r.response.data):s.value=f(r)}finally{u.value=!1}}return Ce(()=>{const r={chatId:"11111111111@c.us",text:"Hi there!",session:i.session.name};l.value=f(r),s.value="..."}),(r,c)=>{const N=P,Y=he,O=re,le=xs,A=ks,Z=ct,G=W("tooltip");return d(),C(E,null,[e("div",null,[e("div",pt,[e("div",mt,[vt,M(o(N,{rounded:"",text:"",tabindex:0,icon:"pi pi-copy",onClick:c[0]||(c[0]=h=>D(h))},null,512),[[G,{value:"Copied to clipboard"},void 0,{focus:!0,bottom:!0}]])]),e("div",ft,[e("div",_t,[e("div",bt,[o(Y,{modelValue:a.value,"onUpdate:modelValue":c[1]||(c[1]=h=>a.value=h),options:y},null,8,["modelValue"]),o(O,{type:"text",class:"w-full",modelValue:p.value,"onUpdate:modelValue":c[2]||(c[2]=h=>p.value=h),placeholder:"API Endpoint"},null,8,["modelValue"])]),e("div",gt,[ht,o(le,{modelValue:l.value,"onUpdate:modelValue":c[3]||(c[3]=h=>l.value=h),rows:"8",class:"w-full",placeholder:"Request"},null,8,["modelValue"])])]),e("div",yt,[o(N,{onClick:S,loading:u.value,label:"Send",icon:"pi pi-send","icon-pos":"right"},null,8,["loading"])])])])]),o(A),e("div",null,[e("div",St,[e("div",$t,[wt,M(o(N,{rounded:"",text:"",tabindex:0,icon:"pi pi-copy",onClick:c[4]||(c[4]=h=>k(h))},null,512),[[G,{value:"Copied to clipboard"},void 0,{focus:!0,bottom:!0}]])]),o(Z,{class:"m-0 p-4 pretty",invalid:v.value},{default:m(()=>[j(I(s.value),1)]),_:1},8,["invalid"])])])],64)}}},kt=ke(xt,[["__scopeId","data-v-aa1b18ec"]]),Ct={class:"grid pt-4"},Vt={class:"col-12 sm:col-6 h-full"},Dt={class:"grid"},Ut={class:"col-12"},Rt={class:""},Tt={class:"flex justify-content-center align-items-center"},Lt={class:"col-12"},Bt={class:""},Mt={class:"flex justify-content-center align-items-center"},Nt=e("h5",{class:"m-0"},"Screenshot",-1),It={class:"m-auto w-full"},jt={class:"col-12 sm:col-6 h-full card"},Ot={__name:"SessionControl",props:["session"],setup(t){const n=F(),i=t,s=w(null),a=()=>{s.value.refresh()},p=w(null);return Ce(()=>{var l,u;(u=(l=i.session)==null?void 0:l.me)!=null&&u.id&&n.getProfilePicture(i.session.server.id,i.session.name,i.session.me.id).then(v=>{p.value=v.profilePictureURL})}),(l,u)=>{const v=Ee,f=Ae,V=qe,x=kt;return d(),C("div",Ct,[e("div",Vt,[e("div",Dt,[e("div",Ut,[e("div",Rt,[e("div",Tt,[t.session.me?(d(),R(v,{key:0,session:t.session,image:_(p)},null,8,["session","image"])):L("",!0)])])]),e("div",Lt,[e("div",Bt,[e("div",Mt,[Nt,o(f,{onClick:a})]),e("div",It,[o(V,{ref_key:"screenshot",ref:s,session:t.session},null,8,["session"])])])])])]),e("div",jt,[o(x,{session:t.session},null,8,["session"])])])}}},Et={__name:"SessionControlDialog",props:{visible:{},visibleModifiers:{},session:{},sessionModifiers:{}},emits:["update:visible","update:session"],setup(t){const n=J(t,"visible"),i=J(t,"session");return be(),(s,a)=>{const p=Pe,l=Ot,u=Ne;return d(),R(u,{visible:n.value,"onUpdate:visible":a[0]||(a[0]=v=>n.value=v),modal:!0,maximizable:""},{header:m(()=>[o(p,{session:i.value},null,8,["session"])]),default:m(()=>[o(l,{session:i.value},null,8,["session"])]),_:1},8,["visible"])}}},At={class:"card p-fluid"},qt={class:"flex flex-grow-1 justify-content-center"},Ht={class:"flex flex-grow-1 justify-content-center"},We={__name:"KeyValueTable",props:ae(["keyColumn","keyColumnName","prefix"],{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const n=J(t,"modelValue"),i=t,s=w([]),a=v=>{let{newData:f,index:V}=v;n.value[V]=f},p=v=>{let{data:f,newValue:V,field:x}=v;f[x]=V};function l(){const v=n.value.length+1,f=`${i.prefix}${v}`;n.value.unshift({[i.keyColumn]:f,value:"123"})}function u(v){n.value.splice(v,1)}return(v,f)=>{const V=re,x=Ue,y=P,k=Me,D=W("tooltip");return d(),C("div",At,[o(k,{editingRows:s.value,"onUpdate:editingRows":f[0]||(f[0]=S=>s.value=S),value:n.value,editMode:"cell",dataKey:i.keyColumn,onRowEditSave:a,onCellEditComplete:p,pt:{table:{style:"min-width: 50rem"},column:{bodycell:({state:S})=>({style:S.d_editing&&"padding-top: 0.6rem; padding-bottom: 0.6rem"})}}},{default:m(()=>[o(x,{field:i.keyColumn,header:i.keyColumnName,style:{width:"40%"}},{editor:m(({data:S,field:r})=>[o(V,{modelValue:S[r],"onUpdate:modelValue":c=>S[r]=c},null,8,["modelValue","onUpdate:modelValue"])]),_:1},8,["field","header"]),o(x,{style:{width:"40%"},field:"value",header:"Value"},{editor:m(({data:S,field:r})=>[o(V,{modelValue:S[r],"onUpdate:modelValue":c=>S[r]=c},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),o(x,{style:{"min-width":"1rem"}},{header:m(()=>[e("div",qt,[M(o(y,{label:"",rounded:"",text:"",style:{height:"2rem",width:"2rem"},icon:"pi pi-plus",severity:"success",onClick:l},null,512),[[D,"Add",void 0,{top:!0}]])])]),body:m(({index:S})=>[e("div",Ht,[M(o(y,{label:"",rounded:"",text:"",style:{height:"2rem",width:"2rem"},icon:"pi pi-trash",severity:"warning",onClick:r=>u(S)},null,8,["onClick"]),[[D,"Delete",void 0,{top:!0}]])])]),_:1})]),_:1},8,["editingRows","value","dataKey","pt"])])}}},Ft={class:"flex justify-content-between align-items-center w-full"},Pt={class:"field"},Wt=e("label",{for:"url"},"URL",-1),Kt={class:"field mb-4"},zt=e("label",{for:"events"},"Events",-1),Jt=e("div",{class:"font-bold mb-2"},"Retries",-1),Yt={class:"flex gap-3"},Gt={class:"field"},Qt=e("label",{for:"retries-attempts"},"Attempts",-1),Xt=e("span",{class:"pi pi-plus"},null,-1),Zt=e("span",{class:"pi pi-minus"},null,-1),eo={class:"field"},so=e("label",{for:"retries-delay-seconds"},"Delay, seconds",-1),to=e("span",{class:"pi pi-plus"},null,-1),oo=e("span",{class:"pi pi-minus"},null,-1),no={class:"field"},lo=e("label",{for:"hmac"},"HMAC Key (optional)",-1),io={class:"field"},ao={class:"field flex justify-content-between align-items-center"},ro=e("div",null,[e("label",{for:"hmac"},"Custom Headers (optional)")],-1),uo={__name:"SessionWebhook",props:ae({disabled:Boolean,index:Number},{webhook:{},webhookModifiers:{}}),emits:["update:webhook"],setup(t){const n=J(t,"webhook"),i=t,s=["session.status","message","message.any","message.reaction","message.ack","message.revoked","chat.archive","group.join","group.leave","presence.update","poll.vote","poll.vote.failed","call.received","call.accepted","call.rejected","label.upsert","label.deleted","label.chat.added","label.chat.deleted"],a=w(n.value.customHeaders&&n.value.customHeaders.length>0);return ge(a,(p,l)=>{if(l&&!p){n.value.customHeaders=null;return}!l&&p&&(n.value.customHeaders=[{name:"X-Header-1",value:"123"}])}),(p,l)=>{const u=P,v=re,f=De,V=Ds,x=Ve("font-awesome-icon"),y=Ie,k=We,D=je,S=Oe,r=W("tooltip");return d(),R(S,{activeIndex:0},{default:m(()=>[o(D,null,{header:m(()=>[e("div",Ft,[e("div",null," Webhook "+I(i.index+1),1),e("div",null,[M(o(u,{label:"",text:"",rounded:"",style:{height:"2rem",width:"2rem"},icon:"pi pi-trash",severity:"warning",onClick:l[0]||(l[0]=c=>p.$emit("remove"))},null,512),[[r,"Delete Webhook",void 0,{top:!0}]])])])]),default:m(()=>[e("div",Pt,[Wt,o(v,{id:"url",modelValue:n.value.url,"onUpdate:modelValue":l[1]||(l[1]=c=>n.value.url=c),modelModifiers:{trim:!0},required:"true",disabled:t.disabled},null,8,["modelValue","disabled"])]),e("div",Kt,[zt,o(f,{id:"events",modelValue:n.value.events,"onUpdate:modelValue":l[2]||(l[2]=c=>n.value.events=c),options:s,placeholder:"Select Events","max-selected-labels":1,selectedItemsLabel:"{0} events selected",disabled:t.disabled},null,8,["modelValue","disabled"]),e("ul",null,[(d(!0),C(E,null,_e(n.value.events,c=>(d(),C("li",{key:c},I(c),1))),128))])]),e("div",null,[Jt,e("div",Yt,[e("div",Gt,[Qt,o(V,{modelValue:n.value.retries.attempts,"onUpdate:modelValue":l[3]||(l[3]=c=>n.value.retries.attempts=c),inputId:"retries-delay-attempts",showButtons:"",buttonLayout:"horizontal",min:1,step:1,disabled:t.disabled},{incrementbuttonicon:m(()=>[Xt]),decrementbuttonicon:m(()=>[Zt]),_:1},8,["modelValue","disabled"])]),e("div",eo,[so,o(V,{modelValue:n.value.retries.delaySeconds,"onUpdate:modelValue":l[4]||(l[4]=c=>n.value.retries.delaySeconds=c),inputId:"retries-delay-seconds",showButtons:"",buttonLayout:"horizontal",min:1,step:1,disabled:t.disabled},{incrementbuttonicon:m(()=>[to]),decrementbuttonicon:m(()=>[oo]),_:1},8,["modelValue","disabled"])])])]),e("div",no,[lo,o(v,{id:"hmac",modelValue:n.value.hmac.key,"onUpdate:modelValue":l[5]||(l[5]=c=>n.value.hmac.key=c),modelModifiers:{trim:!0},disabled:t.disabled},null,8,["modelValue","disabled"])]),e("div",io,[e("div",ao,[ro,o(y,{modelValue:a.value,"onUpdate:modelValue":l[6]||(l[6]=c=>a.value=c),id:"customHeaders",onLabel:"Headers On",offLabel:"Headers Off"},{icon:m(()=>[o(x,{icon:"fa-solid fa-fingerprint",class:"mr-2"})]),_:1},8,["modelValue"])]),a.value?(d(),R(k,{key:0,modelValue:n.value.customHeaders,"onUpdate:modelValue":l[7]||(l[7]=c=>n.value.customHeaders=c),"key-column":"name","key-column-name":"Header",prefix:"X-Header-"},null,8,["modelValue"])):L("",!0)])]),_:1})]),_:1})}}},co={class:"flex flex-column gap-2"},po={class:"flex justify-content-between align-items-center w-full"},mo=e("h5",null,"ðŸ”„ Webhooks",-1),vo={class:"pr-2"},fo={key:0,class:"text-300 text-center"},_o={__name:"SessionWebhooksField",props:ae({disabled:Boolean},{webhooks:{},webhooksModifiers:{}}),emits:["update:webhooks"],setup(t){const n=J(t,"webhooks");function i(){const a={url:"https://httpbin.org/post",events:["session.status","message"],hmac:{key:null},retries:{delaySeconds:2,attempts:15},customHeaders:null};n.value.push(a)}function s(a){n.value.splice(a,1)}return(a,p)=>{const l=P,u=uo;return d(),C("div",co,[e("div",po,[mo,e("div",vo,[o(l,{label:"Add Webhook",text:"",icon:"pi pi-plus",severity:"success",onClick:i})])]),n.value.length===0?(d(),C("div",fo," No webhooks configured ")):(d(!0),C(E,{key:1},_e(n.value,(v,f)=>(d(),R(u,{webhook:n.value[f],"onUpdate:webhook":V=>n.value[f]=V,index:f,total:n.value.length,onRemove:V=>s(f),disabled:t.disabled},null,8,["webhook","onUpdate:webhook","index","total","onRemove","disabled"]))),256))])}}},bo=e("div",null,[e("h5",null,[e("i",{class:"pi pi-whatsapp"}),j(" Create Session ")])],-1),go={class:"mb-2"},ho=e("b",null,"Server",-1),yo=e("b",null,"Name",-1),So={class:"field"},$o=e("label",{for:"server"},"Server",-1),wo={key:0,class:"p-invalid"},xo={class:"field"},ko=e("label",{for:"name"},"Name (optional)",-1),Co={key:0,class:"mb-4"},Vo=e("div",{class:"mb-3"},[e("h5",null,"ðŸ­ Engine Settings ")],-1),Do={class:"flex flex-column gap-2"},Uo=e("div",null,[e("a",{href:"https://waha.devlike.pro/docs/engines/noweb",target:"_blank"},"Read more about NOWEB settings")],-1),Ro={class:"pi pi-info-circle"},To={class:"field mt-4"},Lo={class:"field flex justify-content-between align-items-center"},Bo=e("div",null,[e("h5",null,[e("label",{for:"proxy"},"ðŸŒ Proxy")])],-1),Mo={key:0,class:"card mb-4"},No={class:"field"},Io=e("label",{for:"proxy-server"},"Server",-1),jo={key:0,class:"p-invalid"},Oo={class:"flex gap-3"},Eo={class:"field w-full"},Ao=e("label",{for:"proxy-username"},"Username (optional)",-1),qo={class:"field w-full"},Ho=e("label",{for:"proxy-password"},"Password (optional)",-1),Fo={class:"field flex justify-content-between align-items-center"},Po=e("div",null,[e("h5",null,[e("label",{for:"debug"},"ðŸ› ï¸ Debug")])],-1),Wo={class:"w-full flex flex-column gap-2"},Ko={class:"flex justify-content-end"},zo={__name:"SessionDialog",props:ae({mode:String},{visible:{},visibleModifiers:{},session:{},sessionModifiers:{}}),emits:["update:visible","update:session"],setup(t){var Z,G;const n=be(),i=J(t,"visible"),s=J(t,"session"),a=t,p=T(()=>a.mode==="new"),l=T(()=>a.mode==="update"),u=T(()=>l.value),v=Te(),f=F(),V=T(()=>f.getServer(s.value.server)),x=T(()=>{var h,b;return((b=(h=V.value)==null?void 0:h.version)==null?void 0:b.engine)==="NOWEB"});T(()=>{var h,b;return((b=(h=V.value)==null?void 0:h.version)==null?void 0:b.engine)==="WEBJS"});const y=w([]),k=w(!!((G=(Z=s.value.config)==null?void 0:Z.proxy)!=null&&G.server));ge(s,async(h,b)=>{var K,q,ee;k.value=(q=(K=h==null?void 0:h.config)==null?void 0:K.proxy)==null?void 0:q.server,y.value=Rs((ee=h.config)==null?void 0:ee.metadata)});const D=w(!1),S=w(!1),r=T(()=>{const h=X.cloneDeep(s.value.config);return k.value||(h.proxy=void 0),h.metadata=Ts(y.value),h}),c=T(()=>{const h={...r.value};return x.value||delete h.noweb,{name:s.value.name,config:h}});async function N(){D.value=!0;try{S.value=!0;const h=X.cloneDeep(c.value);await v(f.updateSession(s.value.server,s.value.name,h.config),void 0,"Failed to update session"),n.add({severity:"success",summary:"Updated",detail:s.value.name,life:3e3})}finally{S.value=!1}s.value=void 0,O()}async function Y(h){D.value=!0;try{S.value=!0;const b=X.cloneDeep(c.value);b.start=h;const K=await v(f.createSession(s.value.server,b),void 0,"Failed to start session"),q=h?"Started":"Created";n.add({severity:"success",summary:q,detail:K.name,life:3e3})}finally{S.value=!1}s.value=void 0,O()}function O(){D.value=!1,i.value=!1}const le=T(()=>s.value.status==="STOPPED");async function A(h){await navigator.clipboard.writeText(JSON.stringify({method:"POST",uri:"/api/sessions",body:c.value},null,2)),h.preventDefault()}return(h,b)=>{const K=Pe,q=Cs,ee=He,ie=re,pe=Vs,se=Ve("font-awesome-icon"),te=Ie,me=je,B=Oe,$=We,de=_o,ue=Us,oe=P,ve=Ne,ne=W("tooltip");return d(),R(ve,{visible:i.value,"onUpdate:visible":b[14]||(b[14]=U=>i.value=U),modal:!0,class:"p-fluid",maximizable:""},ms({footer:m(()=>[e("div",Wo,[e("div",null,[l.value&&!le.value?(d(),R(q,{key:0,severity:"warn"},{default:m(()=>[j(" The session is in '"),e("b",null,I(s.value.status)+"'",1),j(" status, in order to save configuration the session will be restarted. ")]),_:1})):L("",!0)]),e("div",Ko,[M(o(oe,{label:"Copy",text:"",tabindex:0,icon:"pi pi-copy",severity:"secondary",onClick:b[11]||(b[11]=U=>A(U))},null,512),[[ne,{value:"Copied to clipboard"},void 0,{focus:!0,bottom:!0}]]),l.value?L("",!0):(d(),R(oe,{key:0,label:"Create",icon:"pi pi-plus",text:"",onClick:b[12]||(b[12]=U=>Y(!1)),loading:S.value},null,8,["loading"])),l.value?L("",!0):(d(),R(oe,{key:1,label:"Create & Start",icon:"pi pi-play",text:"",onClick:b[13]||(b[13]=U=>Y(!0)),loading:S.value},null,8,["loading"])),l.value?(d(),R(oe,{key:2,label:"Update",icon:"pi pi-save",text:"",onClick:N,loading:S.value},null,8,["loading"])):L("",!0)])])]),default:m(()=>[e("div",go,[l.value?(d(),R(q,{key:0,severity:"info"},{default:m(()=>[j(" To change the "),ho,j(" or "),yo,j(" - please remove the session and run again. ")]),_:1})):L("",!0)]),e("div",So,[$o,o(ee,{placeholder:"Select Server",modelValue:s.value.server,"onUpdate:modelValue":b[0]||(b[0]=U=>s.value.server=U),showClear:!1,required:!0,invalid:D.value&&!s.value.server,disabled:u.value},null,8,["modelValue","invalid","disabled"]),D.value&&!s.value.server?(d(),C("small",wo,"Server is required.")):L("",!0)]),e("div",xo,[ko,o(ie,{id:"name",modelValue:s.value.name,"onUpdate:modelValue":b[1]||(b[1]=U=>s.value.name=U),modelModifiers:{trim:!0},required:"false",autofocus:"",placeholder:"session_1111111111111",disabled:!p.value},null,8,["modelValue","disabled"])]),x.value?(d(),C("div",Co,[Vo,o(B,{activeIndex:0},{default:m(()=>[o(me,{header:"NOWEB"},{header:m(()=>[j(" Â "),o(pe,{value:"New"})]),default:m(()=>[e("div",Do,[Uo,e("div",null,[M((d(),R(te,{modelValue:s.value.config.noweb.store.enabled,"onUpdate:modelValue":b[2]||(b[2]=U=>s.value.config.noweb.store.enabled=U),onLabel:"Store: Enabled",offLabel:"Store: Disabled",disabled:u.value},{icon:m(()=>[o(se,{icon:"fa-solid fa-folder",class:"mr-2"})]),_:1},8,["modelValue","disabled"])),[[ne,"Store contacts, chats, messages in the database, so you can get it in API"]])]),e("div",null,[M((d(),R(te,{modelValue:s.value.config.noweb.store.fullSync,"onUpdate:modelValue":b[3]||(b[3]=U=>s.value.config.noweb.store.fullSync=U),onLabel:"Store: Full Sync On",offLabel:"Store: Full Sync Off",disabled:u.value},{icon:m(()=>[o(se,{icon:"fa-solid fa-sync",class:"mr-2"})]),_:1},8,["modelValue","disabled"])),[[ne,`Sync all contacts, chats, messages from the phone at the start.
Otherwise the store can miss some information.`]])])])]),_:1})]),_:1})])):L("",!0),e("div",null,[e("div",null,[e("h5",null,[j("ðŸ“ Metadata "),M(e("i",Ro,null,512),[[ne,"Key value pairs you can attach to Session and will receive it in webhooks, API and search the values on Dashboard."]])])]),o($,{modelValue:y.value,"onUpdate:modelValue":b[4]||(b[4]=U=>y.value=U),"key-column":"key","key-column-name":"Key",prefix:"user.id."},null,8,["modelValue"])]),e("div",To,[o(de,{ref:"webhooks",webhooks:s.value.config.webhooks,"onUpdate:webhooks":b[5]||(b[5]=U=>s.value.config.webhooks=U)},null,8,["webhooks"])]),e("div",null,[e("div",Lo,[Bo,o(te,{modelValue:k.value,"onUpdate:modelValue":b[6]||(b[6]=U=>k.value=U),id:"proxy",onLabel:"Proxy On",offLabel:"Proxy Off"},{icon:m(()=>[o(se,{icon:"fa-solid fa-server",class:"mr-2"})]),_:1},8,["modelValue"])]),k.value?(d(),C("div",Mo,[e("div",No,[Io,o(ie,{id:"proxy-server",modelValue:s.value.config.proxy.server,"onUpdate:modelValue":b[7]||(b[7]=U=>s.value.config.proxy.server=U),modelModifiers:{trim:!0},required:"true",invalid:D.value&&!s.value.config.proxy.server,placeholder:"host:port"},null,8,["modelValue","invalid"]),D.value&&!s.value.config.proxy.server?(d(),C("small",jo,"Server is required.")):L("",!0)]),e("div",Oo,[e("div",Eo,[Ao,o(ie,{id:"proxy-username",modelValue:s.value.config.proxy.username,"onUpdate:modelValue":b[8]||(b[8]=U=>s.value.config.proxy.username=U),modelModifiers:{trim:!0}},null,8,["modelValue"])]),e("div",qo,[Ho,o(ue,{id:"proxy-password",modelValue:s.value.config.proxy.password,"onUpdate:modelValue":b[9]||(b[9]=U=>s.value.config.proxy.password=U),modelModifiers:{trim:!0},feedback:!1,toggleMask:""},null,8,["modelValue"])])])])):L("",!0)]),e("div",Fo,[Po,o(te,{modelValue:s.value.config.debug,"onUpdate:modelValue":b[10]||(b[10]=U=>s.value.config.debug=U),onLabel:"Debug Enabled",offLabel:"Debug Disabled",onIcon:"fa fa-bug"},{icon:m(()=>[o(se,{icon:"fa-solid fa-bug",class:"mr-2"})]),_:1},8,["modelValue"])])]),_:2},[p.value?{name:"header",fn:m(()=>[bo]),key:"0"}:void 0,p.value?void 0:{name:"header",fn:m(()=>[e("div",null,[o(K,{session:s.value},null,8,["session"])])]),key:"1"}]),1032,["visible"])}}},Jo=["WORKING","FAILED","STARTING","SCAN_QR_CODE","STOPPED"],Yo={class:"flex justify-content-between"},Go={class:"flex align-items-center gap-1"},Qo=e("i",{class:"pi pi-whatsapp"},null,-1),Xo=e("span",{class:"mr-1"}," Sessions ",-1),Zo=["disabled"],en=e("i",{class:"pi pi-refresh"},null,-1),sn=[en],tn={class:"flex justify-content-between flex-column sm:flex-row gap-2 sm:gap-0"},on={class:"flex flex-column"},nn={class:"flex justify-content-between flex-column sm:flex-row gap-2 sm:gap-2"},ln={style:{"text-align":"left"},class:"flex flex-column"},an={class:"text-center"},rn={class:"flex gap-2"},dn={class:"my-auto"},un={class:"flex flex-row gap-2 justify-content-end",style:{order:"2"}},En={__name:"SessionTable",setup(t){const n=be(),i=F(),{visibleSessions:s,refreshing:a,servers:p}=fe(i),l=w({config:{webhooks:[]}}),u=w(!1),v=w(void 0),f=w(!1),V=w(10);w(null);const x=w({}),y=w(null),k=w([]),D=T(()=>k.value.filter(B=>S.value[`session-action-${B.server.id}-${B.name}`])),S=w({});function r(B){D.value.forEach($=>{S.value[`session-action-${$.server.id}-${$.name}`][B]()})}vs(()=>{S.value=[]}),fs(()=>{ee()});const c=w([{field:"name",header:"Name"},{field:"metadata",header:"Metadata"},{field:"me",header:"Me"},{field:"status",header:"Status"},{field:"server",header:"Server"}]);function N(){return JSON.parse(localStorage.getItem("sessions.table.columns.hidden"))||[]}const Y=N(),O=w(X.differenceBy(c.value,Y,"field")),le=B=>{O.value=c.value.filter($=>B.includes($))};function A(B){return!O.value||O.value.length===0?!0:X.find(O.value,{field:B})}const Z=T(()=>A("name")),G=T(()=>A("metadata")),h=T(()=>A("me")),b=T(()=>A("status")),K=T(()=>A("server")),q=T(()=>X.differenceBy(c.value,O.value,"field"));ge(()=>q.value,B=>{localStorage.setItem("sessions.table.columns.hidden",JSON.stringify(B))},{deep:!0});const ee=()=>{x.value={global:{value:null,matchMode:ce.CONTAINS},status:{value:null,matchMode:ce.EQUALS},"server.id":{value:null,matchMode:ce.EQUALS},name:{operator:_s.AND,constraints:[{value:null,matchMode:ce.STARTS_WITH}]}}};function ie(){const B=p.value.find($=>$.connected);if(!B){n.add({severity:"error",summary:"No connected server",detail:"Please connect to a server first",life:3e3});return}l.value={server:B.id,name:"",config:{metadata:{"user.id":"123"},webhooks:[{url:"https://httpbin.org/post",events:["session.status","message"],hmac:{key:null},retries:{delaySeconds:2,attempts:15},customHeaders:null}],noweb:{store:{enabled:!0,fullSync:!1}},proxy:{}}},v.value="new",u.value=!0}function pe(B){l.value=X.cloneDeep({name:B.name,status:B.status,server:B.server.id,config:B.config}),v.value="update",u.value=!0}function se(){we("store",async()=>await i.refresh())}function te(B){f.value=!0,l.value=B}const me=T(()=>["name","me.id","me.pushName","_metadata"]);return(B,$)=>{const de=xe,ue=P,oe=Is,ve=De,ne=bs,U=re,Ke=gs,Q=Ue,ze=Es,Je=Ee,Ye=Ys,Se=Le,Ge=he,Qe=He,Xe=Fe,Ze=st,es=Me,ss=Be,ts=Et,os=zo,$e=W("tooltip");return d(),C(E,null,[e("div",Yo,[e("div",null,[e("h5",Go,[Qo,Xo,o(de,{refreshing:_(a)},null,8,["refreshing"])])]),e("div",null,[M((d(),C("button",{onClick:se,class:"p-link layout-topbar-button",disabled:_(a)},sn,8,Zo)),[[$e,"Refresh",void 0,{top:!0}]])])]),o(es,{selection:k.value,"onUpdate:selection":$[6]||($[6]=g=>k.value=g),value:_(s).length>0?_(s):[],paginator:!0,rows:V.value,rowsPerPageOptions:[5,10,20,50,100,500],dataKey:g=>`${g.server.id}-${g.name}`,rowHover:!0,filters:x.value,"onUpdate:filters":$[7]||($[7]=g=>x.value=g),filterDisplay:"row",loading:y.value,globalFilterFields:_(me),showGridlines:"",style:{"white-space":"nowrap"},sortField:"name",sortOrder:1},{header:m(()=>[e("div",tn,[e("div",on,[o(ue,{label:"Start New",icon:"pi pi-play",severity:"success",onClick:ie})]),e("div",nn,[o(oe),e("div",ln,[o(ve,{placeholder:"Columns",modelValue:O.value,options:c.value,optionLabel:"header",selectedItemsLabel:"Columns",maxSelectedLabels:0,"onUpdate:modelValue":le},null,8,["modelValue","options"])]),o(Ke,{iconPosition:"left"},{default:m(()=>[o(ne,{class:"pi pi-search"}),o(U,{modelValue:x.value.global.value,"onUpdate:modelValue":$[0]||($[0]=g=>x.value.global.value=g),placeholder:"Search by name, phone, metadata",style:{width:"100%"}},null,8,["modelValue"])]),_:1})])])]),empty:m(()=>[j(" No sessions found")]),loading:m(()=>[j(" Loading sessions...")]),default:m(()=>[o(Q,{selectionMode:"multiple",headerStyle:"width: 3rem"}),_(Z)?(d(),R(Q,{key:0,field:"name",header:"Name",sortable:""})):L("",!0),_(G)?(d(),R(Q,{key:1,header:"Metadata"},{body:m(({data:g})=>{var H;return[o(ze,{metadata:(H=g.config)==null?void 0:H.metadata},null,8,["metadata"])]}),_:1})):L("",!0),_(h)?(d(),R(Q,{key:2,header:"Me"},{body:m(({data:g})=>[e("div",an,[o(Je,{session:g},null,8,["session"])])]),_:1})):L("",!0),_(b)?(d(),R(Q,{key:3,field:"status",header:"Status",showFilterMenu:!1,style:{width:"9rem"}},{body:m(({data:g})=>[e("div",rn,[e("div",null,[o(Ye,{session:g},null,8,["session"])]),e("div",null,[M(o(ue,{icon:"pi pi-whatsapp",severity:"",rounded:"",outlined:"",onClick:H=>te(g)},null,8,["onClick"]),[[$e,"Send Request",void 0,{top:!0}]])]),e("div",dn,[o(Se,{status:g.status,value:g.status.toUpperCase()},null,8,["status","value"])])])]),filter:m(({filterModel:g,filterCallback:H})=>[o(Ge,{modelValue:g.value,"onUpdate:modelValue":z=>g.value=z,options:_(Jo),onChange:z=>H(),placeholder:"Any",class:"p-column-filter",showClear:!0},{option:m(({option:z})=>[o(Se,{status:z,value:z},null,8,["status","value"])]),_:2},1032,["modelValue","onUpdate:modelValue","options","onChange"])]),_:1})):L("",!0),_(K)?(d(),R(Q,{key:4,field:"server.name",filterField:"server.id",header:"Server",showFilterMenu:!1},{filter:m(({filterModel:g,filterCallback:H})=>[o(Qe,{placeholder:"Any",onChange:z=>H(),modelValue:g.value,"onUpdate:modelValue":z=>g.value=z,showClear:!0,required:!1},null,8,["onChange","modelValue","onUpdate:modelValue"])]),body:m(({data:g})=>[j(I(g.server.name),1)]),_:1})):L("",!0),o(Q,{showFilterMenu:!1},{filter:m(()=>[e("div",un,[o(Xe,{group:"dialog",name:`'${_(D).length}' sessions`,"all-disabled":_(D).length===0,"hide-actions":["view"],onStart:$[1]||($[1]=g=>r("startSession")),onRestart:$[2]||($[2]=g=>r("restartSession")),onStop:$[3]||($[3]=g=>r("stopSession")),onLogout:$[4]||($[4]=g=>r("logoutSession")),onDelete:$[5]||($[5]=g=>r("deleteSession"))},null,8,["name","all-disabled"])])]),body:m(({data:g})=>[o(Ze,{ref:H=>{S.value[`session-action-${g.server.id}-${g.name}`]=H},session:g,disabled:_(D).length!==0,onView:pe},null,8,["session","disabled"])]),_:1})]),_:1},8,["selection","value","rows","dataKey","filters","loading","globalFilterFields"]),o(ss),o(ts,{visible:f.value,"onUpdate:visible":$[8]||($[8]=g=>f.value=g),session:l.value,"onUpdate:session":$[9]||($[9]=g=>l.value=g)},null,8,["visible","session"]),o(os,{visible:u.value,"onUpdate:visible":$[10]||($[10]=g=>u.value=g),session:l.value,"onUpdate:session":$[11]||($[11]=g=>l.value=g),mode:v.value},null,8,["visible","session","mode"])],64)}}};export{Is as _,En as a};
