import{u as M,_ as R}from"./Bgz-yOjo.js";import{r as d,aK as x,o as N,e as T,c as p,R as w,t as _,v as m,x as t,N as r,z as l,A as b,P as v,$ as D,i as O,O as $}from"./DaB_32Hj.js";import{useLayout as q}from"./pxKgvcv4.js";import{u as z}from"./B3OsGzY7.js";import"./ntNGxQoE.js";import"./BBrFS1ei.js";const U={class:"layout-topbar"},V=t("i",{class:"pi pi-bars"},null,-1),H=[V],I=["src"],K=t("span",null,"Dashboard | WAHA",-1),P=t("i",{class:"pi pi-ellipsis-v"},null,-1),W=[P],j={class:"pi pi-eye",style:{color:"#459e74"}},F={class:"m-auto"},G=["disabled"],J=t("i",{class:"pi pi-refresh"},null,-1),Q=t("span",null,"Refresh",-1),X=[J,Q],at={__name:"AppTopbar",setup(Y){const{layoutConfig:f,onMenuToggle:h}=q(),s=d(null),n=d(!1);x();const i=z();N(()=>{C()}),T(()=>{S()});const y=p(()=>`/dashboard/layout/images/${f.darkTheme.value?"logo-white":"logo-dark"}.svg`),g=()=>{n.value=!n.value},k=p(()=>({"layout-topbar-menu-mobile-active":n.value})),C=()=>{s.value||(s.value=o=>{A(o)&&(n.value=!1)},document.addEventListener("click",s.value))},S=()=>{s.value&&(document.removeEventListener("click",s),s.value=null)},A=o=>{if(!n.value)return;const e=document.querySelector(".layout-topbar-menu"),a=document.querySelector(".layout-topbar-menu-button");return!(e.isSameNode(o.target)||e.contains(o.target)||a.isSameNode(o.target)||a.contains(o.target))};function B(){M("store",async()=>await i.refresh())}const{refreshing:u}=w(i);return(o,e)=>{const a=O("router-link"),E=R,c=$("tooltip");return _(),m("div",U,[t("button",{class:"p-link layout-menu-button layout-topbar-button",onClick:e[0]||(e[0]=L=>r(h)())},H),l(a,{to:"/",class:"layout-topbar-logo"},{default:b(()=>[t("img",{class:"mb-1",src:y.value,alt:"logo"},null,8,I),K]),_:1}),t("button",{class:"p-link layout-topbar-menu-button layout-topbar-button",onClick:e[1]||(e[1]=L=>g())},W),t("div",{class:D(["layout-topbar-menu",k.value])},[l(a,{to:"/event-monitor",class:"layout-topbar-button"},{default:b(()=>[v(t("i",j,null,512),[[c,"Event Monitor",void 0,{bottom:!0}]])]),_:1}),t("div",F,[l(E,{refreshing:r(u)},null,8,["refreshing"])]),v((_(),m("button",{onClick:B,class:"p-link layout-topbar-button",disabled:r(u)},X,8,G)),[[c,"Refresh",void 0,{bottom:!0}]])],2)])}}};export{at as default};
