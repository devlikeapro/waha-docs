import{u as B,_ as L}from"./wxNUjZBG.js";import{r as p,aK as R,o as x,e as N,c as _,R as T,t as r,v as l,x as t,N as i,z as m,A as w,P as b,Z as D,i as O,O as $}from"./DJ4rem_S.js";import{useLayout as q}from"./CLpv4wjG.js";import{u as z}from"./DvmxvTtQ.js";import"./DV9YQReq.js";import"./CAZuQjgm.js";const U={class:"layout-topbar"},V=t("i",{class:"pi pi-bars"},null,-1),H=[V],I=["src"],K=t("span",null,"Dashboard | WAHA",-1),P=t("i",{class:"pi pi-ellipsis-v"},null,-1),W=[P],Z={href:"./event-monitor",class:"p-link layout-topbar-button"},j=t("i",{class:"pi pi-eye",style:{color:"#459e74"}},null,-1),F=t("span",null,"Event Monitor",-1),G=[j,F],J={class:"m-auto"},Q=["disabled"],X=t("i",{class:"pi pi-refresh"},null,-1),Y=t("span",null,"Refresh",-1),tt=[X,Y],it={__name:"AppTopbar",setup(ot){const{layoutConfig:v,onMenuToggle:f}=q(),s=p(null),n=p(!1);R();const u=z();x(()=>{g()}),N(()=>{C()});const h=_(()=>`/dashboard/layout/images/${v.darkTheme.value?"logo-white":"logo-dark"}.svg`),y=()=>{n.value=!n.value},k=_(()=>({"layout-topbar-menu-mobile-active":n.value})),g=()=>{s.value||(s.value=o=>{E(o)&&(n.value=!1)},document.addEventListener("click",s.value))},C=()=>{s.value&&(document.removeEventListener("click",s),s.value=null)},E=o=>{if(!n.value)return;const e=document.querySelector(".layout-topbar-menu"),a=document.querySelector(".layout-topbar-menu-button");return!(e.isSameNode(o.target)||e.contains(o.target)||a.isSameNode(o.target)||a.contains(o.target))};function M(){B("store",async()=>await u.refresh())}const{refreshing:c}=T(u);return(o,e)=>{const a=O("router-link"),S=L,d=$("tooltip");return r(),l("div",U,[t("button",{class:"p-link layout-menu-button layout-topbar-button",onClick:e[0]||(e[0]=A=>i(f)())},H),m(a,{to:"/",class:"layout-topbar-logo"},{default:w(()=>[t("img",{class:"mb-1",src:h.value,alt:"logo"},null,8,I),K]),_:1}),t("button",{class:"p-link layout-topbar-menu-button layout-topbar-button",onClick:e[1]||(e[1]=A=>y())},W),t("div",{class:D(["layout-topbar-menu",k.value])},[b((r(),l("a",Z,G)),[[d,"Event Monitor",void 0,{bottom:!0}]]),t("div",J,[m(S,{refreshing:i(c)},null,8,["refreshing"])]),b((r(),l("button",{onClick:M,class:"p-link layout-topbar-button",disabled:i(c)},tt,8,Q)),[[d,"Refresh",void 0,{bottom:!0}]])],2)])}}};export{it as default};
