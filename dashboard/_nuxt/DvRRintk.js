import{u as R,_ as x}from"./BA1FreOK.js";import{r as d,aK as N,o as T,e as w,c as _,R as D,t as r,v as l,x as t,N as i,z as m,A as O,P as b,Z as $,i as q,O as z}from"./C6RVWvg8.js";import{useLayout as U}from"./CNJEWIzX.js";import{u as V}from"./Du7-gIOb.js";import"./1xe70Tsy.js";import"./Bz4jCqtn.js";const H={class:"layout-topbar"},I=t("i",{class:"pi pi-bars"},null,-1),K=[I],P=["src"],W=t("span",null,"Dashboard | WAHA",-1),Z=t("i",{class:"pi pi-ellipsis-v"},null,-1),j=[Z],F=t("i",{class:"pi pi-eye",style:{color:"#459e74"}},null,-1),G=t("span",null,"Event Monitor",-1),J=[F,G],Q={class:"m-auto"},X=["disabled"],Y=t("i",{class:"pi pi-refresh"},null,-1),tt=t("span",null,"Refresh",-1),ot=[Y,tt],ut={__name:"AppTopbar",setup(et){const{layoutConfig:v,onMenuToggle:f}=U(),s=d(null),n=d(!1),h=N(),u=V();T(()=>{C()}),w(()=>{M()});const y=_(()=>`/dashboard/layout/images/${v.darkTheme.value?"logo-white":"logo-dark"}.svg`),k=()=>{n.value=!n.value},g=_(()=>({"layout-topbar-menu-mobile-active":n.value})),C=()=>{s.value||(s.value=o=>{E(o)&&(n.value=!1)},document.addEventListener("click",s.value))},M=()=>{s.value&&(document.removeEventListener("click",s),s.value=null)},E=o=>{if(!n.value)return;const e=document.querySelector(".layout-topbar-menu"),a=document.querySelector(".layout-topbar-menu-button");return!(e.isSameNode(o.target)||e.contains(o.target)||a.isSameNode(o.target)||a.contains(o.target))};function S(){R("store",async()=>await u.refresh())}function A(){h.push("/event-monitor")}const{refreshing:c}=D(u);return(o,e)=>{const a=q("router-link"),B=x,p=z("tooltip");return r(),l("div",H,[t("button",{class:"p-link layout-menu-button layout-topbar-button",onClick:e[0]||(e[0]=L=>i(f)())},K),m(a,{to:"/",class:"layout-topbar-logo"},{default:O(()=>[t("img",{class:"mb-1",src:y.value,alt:"logo"},null,8,P),W]),_:1}),t("button",{class:"p-link layout-topbar-menu-button layout-topbar-button",onClick:e[1]||(e[1]=L=>k())},j),t("div",{class:$(["layout-topbar-menu",g.value])},[b((r(),l("button",{onClick:A,class:"p-link layout-topbar-button"},J)),[[p,"Event Monitor",void 0,{bottom:!0}]]),t("div",Q,[m(B,{refreshing:i(c)},null,8,["refreshing"])]),b((r(),l("button",{onClick:S,class:"p-link layout-topbar-button",disabled:i(c)},ot,8,X)),[[p,"Refresh",void 0,{bottom:!0}]])],2)])}}};export{ut as default};
