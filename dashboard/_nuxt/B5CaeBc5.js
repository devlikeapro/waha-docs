import{u as A,_ as R}from"./B6VkYQtl.js";import{r as d,aK as x,o as N,e as T,c as p,R as w,t as l,v as _,x as t,N as r,z as m,A as b,P as v,L as D,Z as O,i as $,O as q}from"./qTZtBG9C.js";import{useLayout as z}from"./BpI2EQqX.js";import{u as U}from"./0YJqZkZc.js";import"./DSl-gqjV.js";import"./stY_3GQ3.js";const V={class:"layout-topbar"},H=t("i",{class:"pi pi-bars"},null,-1),I=[H],K=["src"],P=t("span",null,"Dashboard | WAHA",-1),W=t("i",{class:"pi pi-ellipsis-v"},null,-1),Z=[W],j=t("i",{class:"pi pi-eye",style:{color:"#459e74"}},null,-1),F=t("span",null,"Event Monitor",-1),G={class:"m-auto"},J=["disabled"],Q=t("i",{class:"pi pi-refresh"},null,-1),X=t("span",null,"Refresh",-1),Y=[Q,X],rt={__name:"AppTopbar",setup(tt){const{layoutConfig:f,onMenuToggle:h}=z(),s=d(null),n=d(!1);x();const i=U();N(()=>{C()}),T(()=>{B()});const y=p(()=>`/dashboard/layout/images/${f.darkTheme.value?"logo-white":"logo-dark"}.svg`),k=()=>{n.value=!n.value},g=p(()=>({"layout-topbar-menu-mobile-active":n.value})),C=()=>{s.value||(s.value=o=>{E(o)&&(n.value=!1)},document.addEventListener("click",s.value))},B=()=>{s.value&&(document.removeEventListener("click",s),s.value=null)},E=o=>{if(!n.value)return;const e=document.querySelector(".layout-topbar-menu"),a=document.querySelector(".layout-topbar-menu-button");return!(e.isSameNode(o.target)||e.contains(o.target)||a.isSameNode(o.target)||a.contains(o.target))};function L(){A("store",async()=>await i.refresh())}const{refreshing:u}=w(i);return(o,e)=>{const a=$("router-link"),M=R,c=q("tooltip");return l(),_("div",V,[t("button",{class:"p-link layout-menu-button layout-topbar-button",onClick:e[0]||(e[0]=S=>r(h)())},I),m(a,{to:"/",class:"layout-topbar-logo"},{default:b(()=>[t("img",{class:"mb-1",src:y.value,alt:"logo"},null,8,K),P]),_:1}),t("button",{class:"p-link layout-topbar-menu-button layout-topbar-button",onClick:e[1]||(e[1]=S=>k())},Z),t("div",{class:O(["layout-topbar-menu",g.value])},[v((l(),D(a,{to:"/event-monitor",class:"p-link layout-topbar-button"},{default:b(()=>[j,F]),_:1})),[[c,"Event Monitor",void 0,{bottom:!0}]]),t("div",G,[m(M,{refreshing:r(u)},null,8,["refreshing"])]),v((l(),_("button",{onClick:L,class:"p-link layout-topbar-button",disabled:r(u)},Y,8,J)),[[c,"Refresh",void 0,{bottom:!0}]])],2)])}}};export{rt as default};
