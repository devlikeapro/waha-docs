import{u as L,a as M,_ as R}from"./DB4ZlOE3.js";import{r as u,o as x,e as E,c,Y as T,v as d,x as t,M as r,z as p,A as w,R as D,S as N,aJ as O,i as $,Q as q,t as _}from"./C847MIB2.js";import{useLayout as z}from"./BLe_0ndt.js";import"./DXzZkQTO.js";import"./DYoTeA-x.js";const U={class:"layout-topbar"},V=t("i",{class:"pi pi-bars"},null,-1),H=[V],I=["src"],J=t("span",null,"Dashboard | WAHA",-1),Q=t("i",{class:"pi pi-ellipsis-v"},null,-1),W=[Q],Y={class:"m-auto"},j=["disabled"],F=t("i",{class:"pi pi-refresh"},null,-1),G=t("span",null,"Refresh",-1),K=[F,G],st={__name:"AppTopbar",setup(P){const{layoutConfig:m,onMenuToggle:b}=z(),s=u(null),n=u(!1);O();const l=L();x(()=>{g()}),E(()=>{k()});const v=c(()=>`/dashboard/layout/images/${m.darkTheme.value?"logo-white":"logo-dark"}.svg`),f=()=>{n.value=!n.value},h=c(()=>({"layout-topbar-menu-mobile-active":n.value})),g=()=>{s.value||(s.value=o=>{y(o)&&(n.value=!1)},document.addEventListener("click",s.value))},k=()=>{s.value&&(document.removeEventListener("click",s),s.value=null)},y=o=>{if(!n.value)return;const e=document.querySelector(".layout-topbar-menu"),a=document.querySelector(".layout-topbar-menu-button");return!(e.isSameNode(o.target)||e.contains(o.target)||a.isSameNode(o.target)||a.contains(o.target))};function C(){M("store",async()=>await l.refresh())}const{refreshing:i}=T(l);return(o,e)=>{const a=$("router-link"),S=R,A=q("tooltip");return _(),d("div",U,[t("button",{class:"p-link layout-menu-button layout-topbar-button",onClick:e[0]||(e[0]=B=>r(b)())},H),p(a,{to:"/",class:"layout-topbar-logo"},{default:w(()=>[t("img",{class:"mb-1",src:v.value,alt:"logo"},null,8,I),J]),_:1}),t("button",{class:"p-link layout-topbar-menu-button layout-topbar-button",onClick:e[1]||(e[1]=B=>f())},W),t("div",{class:N(["layout-topbar-menu",h.value])},[t("div",Y,[p(S,{refreshing:r(i)},null,8,["refreshing"])]),D((_(),d("button",{onClick:C,class:"p-link layout-topbar-button",disabled:r(i)},K,8,j)),[[A,"Refresh",void 0,{bottom:!0}]])],2)])}}};export{st as default};
