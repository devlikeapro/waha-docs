import{u as Ve,_ as Je}from"./D2cBBq2-.js";import K from"./pqfxJUpO.js";import js from"./CL2uHYRt.js";import{u as Q,a as Ns,s as ve,C as me,W as Bs,l as ae}from"./ZqrvbXVd.js";import{O as W,S as qe,P as X,N as o,t as c,v as h,x as s,y as p,Q as M,z as n,X as Te,_ as pe,U as H,Y as be,V,L as R,A as v,r as w,o as Ie,c as O,Z as Ye,B as N,$ as te,M as Qe,H as ne,a0 as qs,a1 as Ze,a2 as Y,R as ge,a3 as Ws,a4 as ye,i as we,a5 as Hs,d as De,C as Fs,D as zs,a6 as Ks,W as Gs,T as he}from"./DKQnC592.js";import Qs from"./B0SjwXd2.js";import ie from"./DTLlfXaW.js";import Xs from"./DEF2i6kF.js";import es from"./9NrsBymM.js";import Ae from"./B5dKh-v3.js";import ss from"./CZNm1B_0.js";import os from"./DFw9rsFy.js";import ts from"./0840QRQe.js";import Js from"./CtT8WNSM.js";import{u as fe,_ as ns}from"./BLdChqrz.js";import $e from"./Bvnb9mMD.js";import{_ as Ys,a as Zs,b as ls}from"./DeEjyIHM.js";import We from"./DMPTX9zG.js";import eo from"./BJQ29RKi.js";import Re from"./BOEE2nhJ.js";import{_ as so}from"./Clz6KAQH.js";import oo from"./B9uZyX81.js";import to from"./Ms2BkLd-.js";import no from"./2ve-kUr7.js";import _e from"./DrWCErUf.js";import is from"./CIIC1jLl.js";import as from"./CUYqVDtk.js";import rs from"./YEFu_eHk.js";import cs from"./C2E5B46z.js";import He from"./4cKIYq0I.js";import Fe from"./Cl_zESBK.js";import us from"./0p6meMi9.js";import ds from"./CL-Kk8ZX.js";import lo from"./ChnjEJk-.js";import io from"./cCqXpoUi.js";function ps(l="app"){const i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let e="";for(let a=0;a<8;a++)e+=i.charAt(Math.floor(Math.random()*i.length));return`${l}_${e}`}function ao(l){return l?Object.keys(l).map(i=>({key:i,value:l[i]})):[]}function ro(l){return l.reduce((i,e)=>(i[e.key]=e.value,i),{})}const co={key:0},uo={key:1,class:"ml-auto flex align-items-center gap-2 mr-2"},po={for:"show-duplicates"},mo={class:"pi pi-info-circle"},vo={__name:"HideDuplicates",setup(l){const{t:i}=W(),e=Q(),{hideDuplicatedSessions:a,servers:t}=qe(e);return e.$subscribe((u,m)=>{Ns(m.hideDuplicatedSessions)}),(u,m)=>{const r=js,f=X("tooltip");return o(t)&&o(t).length<2?(c(),h("div",co)):(c(),h("div",uo,[s("label",po,p(o(i)("sessions.hideDuplicates")),1),M(s("i",mo,null,512),[[f,o(i)("sessions.hideDuplicatesTooltip")]]),n(r,{id:"show-duplicates",modelValue:o(a),"onUpdate:modelValue":m[0]||(m[0]=d=>Te(a)?a.value=d:null)},null,8,["modelValue"])]))}}},fo={class:"metadata"},_o={__name:"Metadata",props:["metadata"],setup(l){return(i,e)=>(c(),h("div",fo,[(c(!0),h(H,null,be(l.metadata,(a,t)=>(c(),h("pre",{key:t},p(t)+"="+p(a),1))),128))]))}},ho=pe(_o,[["__scopeId","data-v-cb7cbf08"]]),bo={key:0,class:"text-center p-1"},go={class:"text-center"},yo=s("i",{class:"mr-3 pi pi-user",style:{color:"#34d399"}},null,-1),Se={__name:"ContactChip",props:{id:String,name:String,image:String},setup(l){return(i,e)=>{const a=ss;return c(),h("div",null,[l.name?(c(),h("div",bo,[s("b",go,p(l.name),1)])):V("",!0),l.id?(c(),R(a,{key:1,label:l.id,image:l.image,icon:"pi pi-user"},{icon:v(()=>[yo]),_:1},8,["label","image"])):V("",!0)])}}},ze={__name:"SessionChip",props:{session:Object},setup(l){const i=l,e=Q(),a=w(null);return Ie(()=>{var t,u,m;(u=(t=i.session)==null?void 0:t.me)!=null&&u.id&&((m=i.session)==null?void 0:m.status)==="WORKING"&&e.getProfilePicture(i.session.server.id,i.session.name,i.session.me.id).then(r=>{a.value=r.profilePictureURL})}),(t,u)=>{var m,r,f,d;return c(),R(Se,{id:(r=(m=i.session)==null?void 0:m.me)==null?void 0:r.id,name:(d=(f=i.session)==null?void 0:f.me)==null?void 0:d.pushName,image:o(a)},null,8,["id","name","image"])}}},ke={__name:"RefreshButton",props:["refreshing"],setup(l){const i=l,e=O(()=>i.refreshing?"pi pi-refresh pi-spin":"pi pi-refresh");return(a,t)=>{const u=K;return c(),R(u,{icon:o(e),rounded:"",text:"",disabled:l.refreshing},null,8,["icon","disabled"])}}},wo=["src"],ms={__name:"Base64Img",props:{data:String,mimetype:String},setup(l){const i=l,e=O(()=>`data:${i.mimetype};base64, ${i.data}`);return(a,t)=>(c(),h("img",{src:e.value,style:{"max-width":"100%"}},null,8,wo))}},$o={key:2,style:{"background-color":"#f8f9fa",padding:"1rem",color:"red","white-space":"pre-wrap"}},vs={__name:"SessionScreenshot",props:{session:Object},setup(l,{expose:i}){const e=Q(),a=l,{data:t,pending:u,error:m,refresh:r}=Ve(`session-screenshot-${a.session.server.id}-${a.session.name}`,async()=>(await ve(1e3),await e.getScreenshot(a.session.server.id,a.session.name)));return i({refresh:r}),(f,d)=>{const b=os,g=ts,k=ms;return c(),h(H,null,[o(u)?(c(),h(H,{key:0},[n(b,{mode:"indeterminate",style:{height:"3px"}}),!o(t)&&!o(m)?(c(),R(g,{key:0,width:"100%",height:"20rem"})):V("",!0)],64)):V("",!0),o(t)?(c(),R(k,{key:1,data:o(t).data,mimetype:o(t).mimetype},null,8,["data","mimetype"])):V("",!0),o(m)?(c(),h("pre",$o,""+p(o(m).cause.response.data.message||o(m).cause.response.data||o(m))+`
  `,1)):V("",!0)],64)}}},ko={class:"",style:{"min-width":"20rem"}},xo={class:"flex justify-content-center align-items-center"},Co={class:"m-0"},So={class:"m-auto w-full"},Vo={__name:"ScreenshotButton",props:["session"],setup(l){const{t:i}=W(),e=l,a=w(null),t=w(null),u=f=>{a.value.toggle(f)},m=()=>{t.value.refresh()},r=O(()=>e.session.status==="STOPPED");return(f,d)=>{const b=K,g=ke,k=vs,S=Js,y=X("tooltip");return c(),h(H,null,[M(n(b,{disabled:o(r),type:"button",icon:"pi pi-camera",onClick:u,rounded:"",outlined:"",severity:"help"},null,8,["disabled"]),[[y,o(i)("screenshot.screenshotQR"),void 0,{top:!0}]]),n(S,{ref_key:"op",ref:a,appendTo:"body",showCloseIcon:!0},{default:v(()=>[s("div",ko,[s("div",xo,[s("h5",Co,p(o(i)("screenshot.screenshot")),1),n(g,{onClick:m})]),s("div",So,[n(k,{ref_key:"screenshot",ref:t,session:l.session},null,8,["session"])])])]),_:1},512)],64)}}},To={class:"flex flex-row gap-2 justify-content-end"},fs={__name:"SessionActionButtons",props:["name","isStarting","isRestarting","isStopping","isLoggingOut","isRemoving","allDisabled","hideActions","skipConfirmation","group"],emits:["view","start","restart","stop","logout","delete","apps"],setup(l,{emit:i}){const{t:e}=W(),a=Ye(),t=l,u=i;function m(y){return t.skipConfirmation?!t.skipConfirmation.includes(y):!0}async function r(){if(!m("start")){u("start");return}a.require({group:t.group,target:event.target,message:e("sessions.startConfirm",{name:t.name}),icon:"pi pi-exclamation-triangle",rejectClass:"p-button-secondary p-button-outlined p-button-sm",acceptClass:"p-button-success p-button-sm",rejectLabel:e("sessions.no"),acceptLabel:e("sessions.yesStart"),accept:()=>{u("start")},reject:()=>{}})}const f=O(()=>t.hideActions?!t.hideActions.includes("view"):!0),d=O(()=>t.hideActions?!t.hideActions.includes("apps"):!0);function b(y){a.require({group:t.group,target:y.target,message:e("sessions.restartConfirm",{name:t.name}),icon:"pi pi-exclamation-triangle",rejectClass:"p-button-secondary p-button-outlined p-button-sm",acceptClass:"p-button-info p-button-sm",rejectLabel:e("sessions.no"),acceptLabel:e("sessions.yesRestart"),accept:()=>{u("restart")},reject:()=>{}})}function g(y){a.require({group:t.group,target:y.target,message:e("sessions.stopConfirm",{name:t.name}),icon:"pi pi-exclamation-triangle",rejectClass:"p-button-secondary p-button-outlined p-button-sm",acceptClass:"p-button-warning p-button-sm",rejectLabel:e("sessions.no"),acceptLabel:e("sessions.yesStop"),accept:async()=>{u("stop")},reject:()=>{}})}function k(y){a.require({group:t.group,target:y.target,message:e("sessions.logoutConfirm",{name:t.name}),icon:"pi pi-exclamation-triangle",rejectClass:"p-button-secondary p-button-outlined p-button-sm",acceptClass:"p-button-warning p-button-sm",rejectLabel:e("sessions.no"),acceptLabel:e("sessions.yesLogout"),accept:async()=>{u("logout")},reject:()=>{}})}function S(y){a.require({group:t.group,target:y.target,message:e("sessions.deleteConfirm",{name:t.name}),icon:"pi pi-exclamation-triangle",rejectClass:"p-button-secondary p-button-outlined p-button-sm",acceptClass:"p-button-danger p-button-sm",rejectLabel:e("sessions.no"),acceptLabel:e("sessions.yesDelete"),accept:async()=>{u("delete")},reject:()=>{}})}return(y,$)=>{const E=K,D=We,_=eo,L=X("tooltip");return c(),h(H,null,[s("div",To,[o(f)?M((c(),R(E,{key:0,icon:"pi pi-cog",severity:"help",rounded:"",outlined:"",onClick:$[0]||($[0]=U=>y.$emit("view")),disabled:l.allDisabled},null,8,["disabled"])),[[L,o(e)("sessions.configuration"),void 0,{top:!0}]]):V("",!0),o(d)?M((c(),R(E,{key:1,icon:"pi pi-th-large",severity:"info",rounded:"",outlined:"",onClick:$[1]||($[1]=U=>y.$emit("apps")),disabled:l.allDisabled},null,8,["disabled"])),[[L,o(e)("sessions.apps"),void 0,{top:!0}]]):V("",!0),M(n(E,{icon:"pi pi-play",severity:"success",rounded:"",outlined:"",onClick:r,loading:l.isStarting,disabled:l.allDisabled},null,8,["loading","disabled"]),[[L,o(e)("sessions.start"),void 0,{top:!0}]]),M(n(E,{icon:"pi pi-replay",severity:"info",rounded:"",outlined:"",onClick:$[2]||($[2]=U=>b(U)),loading:l.isRestarting,disabled:l.allDisabled},null,8,["loading","disabled"]),[[L,o(e)("sessions.restart"),void 0,{top:!0}]]),M(n(E,{icon:"pi pi-stop",severity:"secondary",rounded:"",outlined:"",onClick:$[3]||($[3]=U=>g(U)),loading:l.isStopping,disabled:l.allDisabled},null,8,["loading","disabled"]),[[L,o(e)("sessions.stop"),void 0,{top:!0}]]),M(n(E,{icon:"pi pi-sign-out",severity:"warning",rounded:"",outlined:"",onClick:$[4]||($[4]=U=>k(U)),loading:l.isLoggingOut,disabled:l.allDisabled},null,8,["loading","disabled"]),[[L,o(e)("sessions.logout"),void 0,{top:!0}]]),M(n(E,{icon:"pi pi-trash",severity:"danger",rounded:"",outlined:"",onClick:$[5]||($[5]=U=>S(U)),loading:l.isRemoving,disabled:l.allDisabled},null,8,["loading","disabled"]),[[L,o(e)("sessions.delete"),void 0,{top:!0}]])]),l.group==="popup"?(c(),R(D,{key:0,group:"popup"})):V("",!0),l.group==="dialog"?(c(),R(_,{key:1,group:"dialog"})):V("",!0)],64)}}},Io={class:"flex flex-row gap-2 justify-content-end"},Do={__name:"SessionActions",props:["session","disabled"],emits:["view","apps"],setup(l,{expose:i,emit:e}){const{t:a}=W(),t=l,u=Q(),m=fe(),r=w(!1),f=w(!1),d=w(!1),b=w(!1),g=w(!1),k=O(()=>t.disabled||r.value||f.value||d.value||b.value||g.value);async function S(){const _=t.session;b.value=!0,await m(u.startSession(_.server.id,_.name),a("sessions.started"),a("sessions.failedToStartSession"),_.name,_.name).finally(()=>b.value=!1)}async function y(){const _=t.session;g.value=!0,await m(u.restartSession(_.server.id,_.name),a("sessions.restarted"),a("sessions.failedToRestartSession"),_.name,_.name).finally(()=>g.value=!1)}async function $(){const _=t.session;r.value=!0,await m(u.stopSession(_.server.id,_.name),a("sessions.stopped"),a("sessions.failedToStopSession"),_.name,_.name).finally(()=>r.value=!1)}async function E(){const _=t.session;f.value=!0,await m(u.logoutSession(_.server.id,_.name),a("sessions.loggedOut"),a("sessions.failedToLogoutSession"),_.name,_.name).finally(()=>f.value=!1)}async function D(){const _=t.session;d.value=!0,await m(u.deleteSession(_.server.id,_.name),a("sessions.deleted"),a("sessions.failedToDeleteSession"),_.name,_.name).finally(()=>d.value=!1)}return i({startSession:S,restartSession:y,stopSession:$,logoutSession:E,deleteSession:D}),(_,L)=>{const U=fs;return c(),h("div",Io,[n(U,{group:"popup",name:`'${l.session.name}' ${o(a)("sessions.session")}`,onView:L[0]||(L[0]=T=>_.$emit("view",l.session)),onApps:L[1]||(L[1]=T=>_.$emit("apps",l.session)),onStart:S,onRestart:y,onStop:$,onLogout:E,onDelete:D,"is-starting":o(b),"is-restarting":o(g),"is-stopping":o(r),"is-logging-out":o(f),"is-removing":o(d),"all-disabled":o(k),"hide-actions":[],"skip-confirmation":["start"]},null,8,["name","is-starting","is-restarting","is-stopping","is-logging-out","is-removing","all-disabled"])])}}},Ao={class:"p-dialog-title flex gap-2 align-items-center"},Ro=s("i",{class:"pi pi-whatsapp"},null,-1),Lo=s("span",null,"(",-1),Uo={class:"ml-1"},Eo=s("span",null,")",-1),Oo=["disabled"],Mo=s("i",{class:"pi pi-refresh"},null,-1),Po=[Mo],xe={__name:"SessionHeader",props:{session:Object,refresh:Boolean},setup(l){const{t:i}=W(),e=l,a=Q(),{refreshing:t}=qe(a),u=O(()=>e.session.server.id?e.session.server:a.getServer(e.session.server));async function m(){await a.refresh()}return(r,f)=>{var S;const d=ns,b=so,g=Je,k=X("tooltip");return c(),h("div",Ao,[Ro,s("span",null,p((S=l.session)==null?void 0:S.name),1),n(d,{status:l.session.status},null,8,["status"]),s("div",null,[Lo,n(b,{connected:u.value.connected},null,8,["connected"]),s("span",Uo,p(u.value.name),1),Eo]),l.refresh?M((c(),h("button",{key:0,onClick:f[0]||(f[0]=y=>m()),class:"p-link layout-topbar-button",disabled:o(t)},Po,8,Oo)),[[k,o(i)("sessions.refresh"),void 0,{top:!0}]]):V("",!0),n(g,{refreshing:o(t)},null,8,["refreshing"])])}}},jo=s("br",null,null,-1),No={href:"https://waha.devlike.pro/",target:"_blank"},Bo=s("br",null,null,-1),qo={href:"https://waha.devlike.pro/docs/how-to/chats/",target:"_blank"},Wo={href:"https://waha.devlike.pro/docs/how-to/send-messages/",target:"_blank"},Ho={href:"https://waha.devlike.pro/docs/how-to/webhooks/#messageack",target:"_blank"},Fo={href:"https://waha.devlike.pro/docs/how-to/webhooks/#websockets",target:"_blank"},zo={href:"https://github.com/devlikeapro/waha-hub/tree/main/ui/components/chat",target:"_blank"},Ko={href:"https://waha.devlike.pro/pricing/#tier-pro",target:"_blank"},Go={__name:"ChatPromo",emits:["close"],setup(l,{emit:i}){const e=i;return(a,t)=>{const u=oo;return c(),R(u,{onClose:t[0]||(t[0]=m=>e("close"))},{default:v(()=>[N(p(a.$t("chat.promo.exampleChatsUI")),1),jo,N(" "+p(a.$t("chat.promo.implementFeatures"))+" ",1),s("a",No,[s("b",null,p(a.$t("chat.promo.wahaAPI")),1)]),N(" :"),Bo,s("ul",null,[s("li",null,[s("a",qo,[s("b",null,p(a.$t("chat.promo.chatsAPI")),1)]),N(" "+p(a.$t("chat.promo.getChatsOverview")),1)]),s("li",null,[s("a",Wo,[s("b",null,p(a.$t("chat.promo.sendAPI")),1)]),N(" "+p(a.$t("chat.promo.sendMessages")),1)]),s("li",null,[s("a",Ho,[s("b",null,p(a.$t("chat.promo.messageACK")),1)]),N(" "+p(a.$t("chat.promo.getMessageStatus")),1)]),s("li",null,[s("a",Fo,[s("b",null,p(a.$t("chat.promo.websockets")),1)]),N(" "+p(a.$t("chat.promo.getRealTimeMessages")),1)])]),N(" 👉 "),s("a",zo,[s("b",null,p(a.$t("chat.promo.sourceCodeOnGithub")),1)]),N(" "+p(a.$t("chat.promo.availableFor"))+" ",1),s("a",Ko,p(a.$t("chat.promo.wahaPro")),1),N(" "+p(a.$t("chat.promo.supporters")),1)]),_:1})}}},Qo={class:"flex"},_s={__name:"MessageAck",props:{ack:Number},setup(l){const i=l,e={ERROR:-1,PENDING:0,SERVER:1,DEVICE:2,READ:3,PLAYED:4},a=O(()=>{switch(i.ack){case e.ERROR:return"pi-exclamation-circle";case e.PENDING:return"pi-clock";case e.SERVER:return"pi-check";case e.DEVICE:return"pi-check";case e.READ:return"pi-check";case e.PLAYED:return"pi-microphone"}}),t=O(()=>{switch(i.ack){case e.ERROR:return"color: red";case e.PENDING:return"color: blue";case e.SERVER:return"";case e.DEVICE:return"";case e.READ:return"color: blue";case e.PLAYED:return"color: blue"}});return(u,m)=>(c(),h("div",Qo,[s("i",{class:te(["pi",o(a)]),style:Qe(o(t))},null,6),l.ack===e.READ||l.ack===e.DEVICE?(c(),h("i",{key:0,class:te(["pi",o(a)]),style:Qe([o(t),{"margin-left":"-0.7rem"}])},null,6)):V("",!0)]))}},Xo={class:"p-2"},Jo=["innerHTML"],Yo={class:"flex flex-column justify-content-end",style:{height:"100%"}},Zo={__name:"ChatMessage",props:{message:Object},setup(l){return(i,e)=>{const a=ss;return c(),R(a,null,{default:v(()=>[s("div",Xo,[s("p",{innerHTML:l.message.body.replace(/\n/g,"<br>")},null,8,Jo)]),s("div",Yo,[n(_s,{ack:l.message.ack,class:"pb-2"},null,8,["ack"])])]),_:1})}}},et={class:"flex flex-column gap-2"},st={__name:"ChatMessages",props:{messages:Array},setup(l){const i=l,e=w(null);async function a(){await ve(10),e.value&&(e.value.scrollTop=e.value.scrollHeight)}return ne(()=>i.messages,a),(t,u)=>{const m=Zo;return c(),h("div",{class:"my-2 pb-3",style:{width:"100%",height:"100%",overflow:"auto"},ref_key:"scroll",ref:e},[s("div",et,[(c(!0),h(H,null,be(l.messages,r=>(c(),h(H,null,[r.body?(c(),h("div",{key:0,class:te({"flex justify-content-end":r.fromMe})},[(c(),R(m,{key:r.key,message:r},null,8,["message"]))],2)):V("",!0)],64))),256))])],512)}}},ot={class:"flex justify-content-between gap-2 my-2"},tt={class:"flex gap-2 align-items-center"},nt={__name:"ChatHeader",props:{chat:Object,me:Object,mePicture:Object,fetching:Boolean,fetch:Function},setup(l){return(i,e)=>{var t;const a=ke;return c(),h("div",ot,[s("div",tt,[n(Se,{id:l.chat.name||l.chat.id,image:l.chat.picture},null,8,["id","image"])]),n(a,{onClick:l.fetch,refreshing:l.fetching},null,8,["onClick","refreshing"]),n(Se,{id:(t=l.me)==null?void 0:t.pushName,image:l.mePicture},null,8,["id","image"])])}}},lt={class:"flex gap-1 mt-1"},Xe=60,it={__name:"ChatPreview",props:{id:String,name:String,picture:String,message:Object},setup(l){const i=l,e=O(()=>{var t,u,m;return((t=i.message)==null?void 0:t.body)?((m=(u=i.message)==null?void 0:u.body)==null?void 0:m.length)>Xe?i.message.body.slice(0,Xe)+"...":i.message.body:""});return(a,t)=>(c(),h(H,null,[n(Se,{id:i.name||i.id,image:i.picture},null,8,["id","image"]),s("div",lt,[o(e)?(c(),R(_s,{key:0,ack:l.message.ack,class:"pb-2"},null,8,["ack"])):V("",!0),N(" "+p(o(e)),1)])],64))}},at={class:"flex justify-content-center align-items-center gap-1"},rt={__name:"ChatList",props:{chats:Array,pending:Boolean},emits:["clickOnChat","refreshChats"],setup(l,{emit:i}){const e=i;return(a,t)=>{const u=ke,m=it,r=Ae,f=Re;return c(),R(f,{value:l.chats,loading:l.pending,class:"p-datatable--clickable",onRowClick:t[1]||(t[1]=d=>e("clickOnChat",d.data)),scrollable:"",scrollHeight:"100%",rowHover:!0},{default:v(()=>[n(r,null,{header:v(()=>[s("div",at,[s("div",null,p(a.$t("chat.last20Chats")),1),n(u,{onClick:t[0]||(t[0]=d=>e("refreshChats")),refreshing:l.pending},null,8,["refreshing"])])]),body:v(({data:d})=>[n(m,{id:d.id,name:d.name,picture:d.picture,message:d.lastMessage},null,8,["id","name","picture","message"])]),_:1})]),_:1},8,["value","loading"])}}},ct={class:"flex justify-content-end",style:{width:"100%"}},ut={style:{width:"100%"}},dt={class:"my-auto pl-2"},pt={__name:"ChatInputFooter",props:{disabled:Boolean,sendText:Function},setup(l){const i=l,e=w(!1),a=w("");function t(){e.value=!0,i.sendText(a.value).then(()=>{a.value=""}).finally(()=>{e.value=!1})}return(u,m)=>{const r=is,f=K;return c(),h("div",ct,[s("div",ut,[n(r,{modelValue:o(a),"onUpdate:modelValue":m[0]||(m[0]=d=>Te(a)?a.value=d:null),rows:"2",cols:"50",onKeydown:qs(Ze(t,["ctrl"]),["enter"]),style:{width:"100%"}},null,8,["modelValue","onKeydown"])]),s("div",dt,[n(f,{onClick:t,disabled:l.disabled||!o(a),loading:o(e),label:"",icon:"pi pi-send",class:"p-button-success"},null,8,["disabled","loading"])])])}}},mt={class:"pb-3 flex"},vt={class:"flex align-items-center gap-1"},ft={class:"m-auto pb-2"},_t={class:"text-center"},ht={class:"flex flex-column justify-content-between",style:{height:"100%"}},bt=s("hr",null,null,-1),gt={__name:"SessionChatDialog",props:{visible:{},visibleModifiers:{},session:{},sessionModifiers:{}},emits:["update:visible","update:session"],setup(l){const i=Y(l,"visible"),e=Y(l,"session");ne(i,()=>{i.value||(f.value=null,d.value=[],_())}),ge();const a=Q(),{data:t,pending:u,error:m,refresh:r}=Ve(`session-${e.value.name}-chats`,async()=>await a.getChatsOverview(e.value.server.id,e.value.name,20)),f=w(null),d=w([]),b=w(null);ne(f,()=>{f.value&&L()});const g=w(!1),k=w(20),S=w(0);let y=null;const $=w(me.DISCONNECTED);function E(){const q=a.getServer(e.value.server.id),B=["message.any"];y=new Bs(q,B,e.value.name),y.connect(),$.value=me.CONNECTING,y.on("open",()=>{$.value=me.CONNECTED}),y.on("close",()=>{$.value=me.DISCONNECTED}),y.on("error",()=>{$.value=me.ERROR}),y.on("event",D)}async function D(q){var F;await ve(100);const B=(F=f.value)==null?void 0:F.id;B&&((q.payload.from===B||q.payload.to===B)&&L(),r())}function _(){y==null||y.stop(),y=null,$.value=me.DISCONNECTED}function L(){g.value=!0,a.getChatsMessages(e.value.server.id,e.value.name,f.value.id,k.value,S.value,!1).then(q=>{d.value=q.reverse()}).finally(()=>{g.value=!1})}ne(e,()=>{var q,B;(B=(q=e.value)==null?void 0:q.me)!=null&&B.id&&(_(),E(),r(),a.getProfilePicture(e.value.server.id,e.value.name,e.value.me.id).then(F=>{b.value=F.profilePictureURL}))});function U(q){f.value=q}function T(q){return a.sendText(e.value.server.id,e.value.name,f.value.id,q).then(()=>{ve(100)})}const z=w(!1);return(q,B)=>{const F=xe,A=ze,x=Go,G=to,ee=no,J=_e;return c(),R(J,{visible:i.value,"onUpdate:visible":B[2]||(B[2]=le=>i.value=le),modal:!0,maximizable:"",style:{width:"90%",height:"90%"}},{header:v(()=>[s("div",null,[n(F,{session:e.value},null,8,["session"])])]),default:v(()=>[s("div",mt,[s("div",vt,[e.value.me?(c(),R(A,{key:0,session:e.value,image:b.value},null,8,["session","image"])):V("",!0),n(Ys,{status:$.value},null,8,["status"])]),s("div",ft,[s("div",_t,[s("a",{href:"#",onClick:B[0]||(B[0]=le=>z.value=!0)},[s("b",null,p(q.$t("chat.aboutChatUI")),1)])]),z.value?(c(),R(x,{key:0,style:{"max-width":"50em"},onClose:B[1]||(B[1]=le=>z.value=!1)})):V("",!0)])]),n(ee,{style:{"max-height":"90%"}},{default:v(()=>[n(G,{size:30,class:"flex items-center justify-center"},{default:v(()=>[n(rt,{chats:o(t),loading:o(u),onClickOnChat:U,onRefreshChats:o(r)},null,8,["chats","loading","onRefreshChats"])]),_:1}),n(G,{size:70,class:"flex flex-column gap-2 justify-content-between p-2"},{default:v(()=>[s("div",ht,[f.value?(c(),h(H,{key:0},[n(nt,{chat:f.value,me:e.value.me,mePicture:b.value,fetch:L,fetching:g.value},null,8,["chat","me","mePicture","fetching"]),bt,n(st,{messages:d.value},null,8,["messages"]),n(pt,{disabled:!f.value||g.value,sendText:T},null,8,["disabled"])],64)):V("",!0)])]),_:1})]),_:1})]),_:1},8,["visible"])}}},yt={class:"-mt-4 p-0 line-height-3 block",style:{"font-family":"monaco, Consolas, 'Lucida Console', monospace"}},wt={__name:"CodeHighlight",props:["invalid"],setup(l){const i=l,e=O(()=>i.invalid?"p-invalid p-component p-inputtext":"");return(a,t)=>(c(),h("pre",{class:te(["border-round surface-ground text-900 p-5 overflow-auto",e.value])},[N("        "),s("code",yt,[Ws(a.$slots,"default")])],2))}},$t={class:"h-full flex flex-column"},kt={class:"flex justify-content-center align-items-center"},xt={class:"m-0"},Ct={class:"flex flex-column justify-content-between h-full"},St={class:"flex flex-column gap-2"},Vt={class:"flex gap-2"},Tt={class:"text-center"},It={class:"mb-2"},Dt={class:"text-center mt-2"},At={class:"flex flex-column h-full"},Rt={class:"flex justify-content-center align-items-center"},Lt={class:"m-0"},Ut={__name:"SessionRequestResponse",props:["session"],setup(l){const{t:i}=W(),e=Q(),a=l,t=w(null),u=w("POST"),m=w("/api/sendText"),r=w(""),f=w(!1),d=w(!1);function b(D){return JSON.stringify(D,null,2)}function g(D){try{return JSON.parse(D)}catch{return D}}const k=O(()=>({method:u.value,uri:m.value,params:void 0,body:g(r.value)})),S=["GET","POST","PUT","DELETE","PATCH"];async function y(D){await navigator.clipboard.writeText(t.value),D.preventDefault()}async function $(D){await navigator.clipboard.writeText(b(k.value)),D.preventDefault()}async function E(){try{d.value=!1,f.value=!0;const D=await e.callServerAPI(a.session.server.id,k.value);t.value=b(D)}catch(D){d.value=!0,D.response?t.value=b(D.response.data):t.value=b(D)}finally{f.value=!1}}return Ie(()=>{const D={chatId:"11111111111@c.us",text:"Hi there!",session:a.session.name};r.value=b(D),t.value="..."}),(D,_)=>{const L=K,U=$e,T=ie,z=is,q=as,B=wt,F=X("tooltip");return c(),h(H,null,[s("div",null,[s("div",$t,[s("div",kt,[s("h5",xt,p(o(i)("sessions.request")),1),M(n(L,{rounded:"",text:"",tabindex:0,icon:"pi pi-copy",onClick:_[0]||(_[0]=A=>$(A))},null,512),[[F,{value:o(i)("sessions.copiedToClipboard")},void 0,{focus:!0,bottom:!0}]])]),s("div",Ct,[s("div",St,[s("div",Vt,[n(U,{modelValue:u.value,"onUpdate:modelValue":_[1]||(_[1]=A=>u.value=A),options:S},null,8,["modelValue"]),n(T,{type:"text",class:"w-full",modelValue:m.value,"onUpdate:modelValue":_[2]||(_[2]=A=>m.value=A),placeholder:o(i)("sessions.apiEndpoint")},null,8,["modelValue","placeholder"])]),s("div",Tt,[s("div",It,p(o(i)("sessions.body")),1),n(z,{modelValue:r.value,"onUpdate:modelValue":_[3]||(_[3]=A=>r.value=A),rows:"8",class:"w-full",placeholder:o(i)("sessions.request")},null,8,["modelValue","placeholder"])])]),s("div",Dt,[n(L,{onClick:E,loading:f.value,label:o(i)("sessions.send"),icon:"pi pi-send","icon-pos":"right"},null,8,["loading","label"])])])])]),n(q),s("div",null,[s("div",At,[s("div",Rt,[s("h5",Lt,p(o(i)("sessions.response")),1),M(n(L,{rounded:"",text:"",tabindex:0,icon:"pi pi-copy",onClick:_[4]||(_[4]=A=>y(A))},null,512),[[F,{value:o(i)("sessions.copiedToClipboard")},void 0,{focus:!0,bottom:!0}]])]),n(B,{class:"m-0 p-4 pretty",invalid:d.value},{default:v(()=>[N(p(t.value),1)]),_:1},8,["invalid"])])])],64)}}},Et=pe(Ut,[["__scopeId","data-v-1e461245"]]),Ot={class:"grid pt-4"},Mt={class:"col-12 sm:col-6 h-full"},Pt={class:"grid"},jt={class:"col-12"},Nt={class:""},Bt={class:"flex justify-content-center align-items-center"},qt={class:"col-12"},Wt={class:""},Ht={class:"flex justify-content-center align-items-center"},Ft=s("h5",{class:"m-0"},"Screenshot",-1),zt={class:"m-auto w-full"},Kt={class:"col-12 sm:col-6 h-full card"},Gt={__name:"SessionControl",props:["session"],setup(l){const i=w(null),e=()=>{i.value.refresh()};return(a,t)=>{const u=ze,m=ke,r=vs,f=Et;return c(),h("div",Ot,[s("div",Mt,[s("div",Pt,[s("div",jt,[s("div",Nt,[s("div",Bt,[l.session.me?(c(),R(u,{key:0,session:l.session},null,8,["session"])):V("",!0)])])]),s("div",qt,[s("div",Wt,[s("div",Ht,[Ft,n(m,{onClick:e})]),s("div",zt,[n(r,{ref_key:"screenshot",ref:i,session:l.session},null,8,["session"])])])])])]),s("div",Kt,[n(f,{session:l.session},null,8,["session"])])])}}},Qt={__name:"SessionControlDialog",props:{visible:{},visibleModifiers:{},session:{},sessionModifiers:{}},emits:["update:visible","update:session"],setup(l){const i=Y(l,"visible"),e=Y(l,"session");return ge(),(a,t)=>{const u=xe,m=Gt,r=_e;return c(),R(r,{visible:i.value,"onUpdate:visible":t[0]||(t[0]=f=>i.value=f),modal:!0,maximizable:""},{header:v(()=>[n(u,{session:e.value},null,8,["session"])]),default:v(()=>[n(m,{session:e.value},null,8,["session"])]),_:1},8,["visible"])}}},Xt={class:"card p-fluid"},Jt={class:"flex flex-grow-1 justify-content-center"},Yt={class:"flex flex-grow-1 justify-content-center"},hs={__name:"KeyValueTable",props:ye(["keyColumn","keyColumnName","prefix","entityName"],{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(l){const{t:i}=W(),e=Y(l,"modelValue"),a=l,t=w([]),u=d=>{let{newData:b,index:g}=d;e.value[g]=b},m=d=>{let{data:b,newValue:g,field:k}=d;b[k]=g};function r(){const d=e.value.length+1,b=`${a.prefix}${d}`;e.value.unshift({[a.keyColumn]:b,value:"123"})}function f(d){e.value.splice(d,1)}return(d,b)=>{const g=ie,k=Ae,S=K,y=Re,$=X("tooltip");return c(),h("div",Xt,[n(y,{editingRows:t.value,"onUpdate:editingRows":b[0]||(b[0]=E=>t.value=E),value:e.value,editMode:"cell",dataKey:a.keyColumn,onRowEditSave:u,onCellEditComplete:m,pt:{table:{style:"min-width: 50rem"},column:{bodycell:({state:E})=>({style:E.d_editing&&"padding-top: 0.6rem; padding-bottom: 0.6rem"})}},resizableColumns:""},{default:v(()=>[n(k,{field:a.keyColumn,header:a.keyColumnName,style:{width:"40%"}},{editor:v(({data:E,field:D})=>[n(g,{modelValue:E[D],"onUpdate:modelValue":_=>E[D]=_},null,8,["modelValue","onUpdate:modelValue"])]),_:1},8,["field","header"]),n(k,{style:{width:"40%"},field:"value",header:o(i)("common.value")},{editor:v(({data:E,field:D})=>[n(g,{modelValue:E[D],"onUpdate:modelValue":_=>E[D]=_},null,8,["modelValue","onUpdate:modelValue"])]),_:1},8,["header"]),n(k,{style:{"min-width":"1rem"}},{header:v(()=>[s("div",Jt,[M(n(S,{label:l.entityName,text:"",icon:"pi pi-plus",severity:"success",onClick:r},null,8,["label"]),[[$,`${o(i)("common.add")} ${l.entityName}`,void 0,{top:!0}]])])]),body:v(({index:E})=>[s("div",Yt,[M(n(S,{label:"",rounded:"",text:"",style:{height:"2rem",width:"2rem"},icon:"pi pi-trash",severity:"warning",onClick:D=>f(E)},null,8,["onClick"]),[[$,o(i)("common.delete"),void 0,{top:!0}]])])]),_:1})]),_:1},8,["editingRows","value","dataKey","pt"])])}}},Zt={class:"flex justify-content-between align-items-center w-full"},en={class:"field"},sn={for:"url"},on={class:"field mb-4"},tn={for:"events"},nn={class:"font-bold mb-2"},ln={class:"flex gap-3"},an={class:"field",style:{width:"10em"}},rn={for:"retries-attempts"},cn=s("span",{class:"pi pi-plus"},null,-1),un=s("span",{class:"pi pi-minus"},null,-1),dn={class:"field",style:{width:"10em"}},pn={for:"retries-delay-seconds"},mn=s("span",{class:"pi pi-plus"},null,-1),vn=s("span",{class:"pi pi-minus"},null,-1),fn={class:"field"},_n={for:"retries-delay-policy"},hn={class:"pi pi-info-circle"},bn={style:{"text-transform":"capitalize"}},gn={style:{"text-transform":"capitalize"}},yn={class:"field"},wn={for:"hmac"},$n={class:"field"},kn={class:"field flex justify-content-between align-items-center"},xn={for:"hmac"},Cn={__name:"SessionWebhook",props:ye({disabled:Boolean,index:Number},{webhook:{},webhookModifiers:{}}),emits:["update:webhook"],setup(l){const{t:i}=W(),e=Y(l,"webhook"),a=l,t=["constant","linear","exponential"],u=O(()=>{var S;const f=((S=e.value.retries)==null?void 0:S.delaySeconds)??2,d=4,b=Array.from({length:d},(y,$)=>f),g=Array.from({length:d},(y,$)=>f*($+1)),k=Array.from({length:d},(y,$)=>f*2**$);return[i("sessions.webhooks.constant",{values:b.join(", ")}),i("sessions.webhooks.linear",{values:g.join(", ")}),i("sessions.webhooks.exponential",{values:k.join(", ")})].join(`
`)}),m=Zs,r=w(e.value.customHeaders&&e.value.customHeaders.length>0);return ne(r,(f,d)=>{if(d&&!f){e.value.customHeaders=null;return}!d&&f&&(e.value.customHeaders=[{name:"X-Header-1",value:"123"}])}),(f,d)=>{const b=K,g=ie,k=es,S=us,y=$e,$=we("font-awesome-icon"),E=cs,D=hs,_=He,L=Fe,U=X("tooltip");return c(),R(L,{activeIndex:0},{default:v(()=>[n(_,null,{header:v(()=>[s("div",Zt,[s("div",null,p(o(i)("sessions.webhooks.webhookNumber",{number:a.index+1})),1),s("div",null,[M(n(b,{label:"",text:"",rounded:"",style:{height:"2rem",width:"2rem"},icon:"pi pi-trash",severity:"warning",onClick:d[0]||(d[0]=T=>f.$emit("remove"))},null,512),[[U,o(i)("sessions.webhooks.deleteWebhook"),void 0,{top:!0}]])])])]),default:v(()=>[s("div",en,[s("label",sn,p(o(i)("sessions.webhooks.url")),1),n(g,{id:"url",modelValue:e.value.url,"onUpdate:modelValue":d[1]||(d[1]=T=>e.value.url=T),modelModifiers:{trim:!0},required:"true",disabled:l.disabled},null,8,["modelValue","disabled"])]),s("div",on,[s("label",tn,p(o(i)("sessions.webhooks.events")),1),n(k,{id:"events",modelValue:e.value.events,"onUpdate:modelValue":d[2]||(d[2]=T=>e.value.events=T),options:o(m),placeholder:o(i)("sessions.webhooks.selectEvents"),"max-selected-labels":1,selectedItemsLabel:o(i)("sessions.webhooks.eventsSelected"),disabled:l.disabled},null,8,["modelValue","options","placeholder","selectedItemsLabel","disabled"]),s("ul",null,[(c(!0),h(H,null,be(e.value.events,T=>(c(),h("li",{key:T},p(T),1))),128))])]),s("div",null,[s("div",nn,p(o(i)("sessions.webhooks.retries")),1),s("div",ln,[s("div",an,[s("label",rn,p(o(i)("sessions.webhooks.attempts")),1),n(S,{modelValue:e.value.retries.attempts,"onUpdate:modelValue":d[3]||(d[3]=T=>e.value.retries.attempts=T),inputId:"retries-delay-attempts",showButtons:"",buttonLayout:"horizontal",min:1,step:1,disabled:l.disabled},{incrementbuttonicon:v(()=>[cn]),decrementbuttonicon:v(()=>[un]),_:1},8,["modelValue","disabled"])]),s("div",dn,[s("label",pn,p(o(i)("sessions.webhooks.delaySeconds")),1),n(S,{modelValue:e.value.retries.delaySeconds,"onUpdate:modelValue":d[4]||(d[4]=T=>e.value.retries.delaySeconds=T),inputId:"retries-delay-seconds",showButtons:"",buttonLayout:"horizontal",min:1,step:1,disabled:l.disabled},{incrementbuttonicon:v(()=>[mn]),decrementbuttonicon:v(()=>[vn]),_:1},8,["modelValue","disabled"])]),s("div",fn,[s("label",_n,[N(p(o(i)("sessions.webhooks.retryPolicy"))+"   ",1),M(s("i",hn,null,512),[[U,o(u)]])]),n(y,{id:"retries-delay-policy",modelValue:e.value.retries.policy,"onUpdate:modelValue":d[5]||(d[5]=T=>e.value.retries.policy=T),options:t,placeholder:o(i)("sessions.webhooks.selectRetryPolicy"),"max-selected-labels":1,disabled:l.disabled},{option:v(T=>[s("span",bn,p(T.option),1)]),value:v(T=>[s("span",gn,p(T.value),1)]),_:1},8,["modelValue","placeholder","disabled"])])])]),s("div",yn,[s("label",wn,p(o(i)("sessions.webhooks.hmacKey")),1),n(g,{id:"hmac",modelValue:e.value.hmac.key,"onUpdate:modelValue":d[6]||(d[6]=T=>e.value.hmac.key=T),modelModifiers:{trim:!0},disabled:l.disabled},null,8,["modelValue","disabled"])]),s("div",$n,[s("div",kn,[s("div",null,[s("label",xn,p(o(i)("sessions.webhooks.customHeaders")),1)]),n(E,{modelValue:r.value,"onUpdate:modelValue":d[7]||(d[7]=T=>r.value=T),id:"customHeaders",onLabel:o(i)("sessions.webhooks.headersOn"),offLabel:o(i)("sessions.webhooks.headersOff")},{icon:v(()=>[n($,{icon:"fa-solid fa-fingerprint",class:"mr-2"})]),_:1},8,["modelValue","onLabel","offLabel"])]),r.value?(c(),R(D,{key:0,modelValue:e.value.customHeaders,"onUpdate:modelValue":d[8]||(d[8]=T=>e.value.customHeaders=T),"entity-name":"Header","key-column":"name","key-column-name":"Header",prefix:"X-Header-"},null,8,["modelValue"])):V("",!0)])]),_:1})]),_:1})}}},Sn={class:"flex flex-column gap-2"},Vn={class:"flex justify-content-between align-items-center w-full"},Tn={class:"pr-2"},In={key:0,class:"text-300 text-center"},Dn={__name:"SessionWebhooksField",props:ye({disabled:Boolean},{webhooks:{},webhooksModifiers:{}}),emits:["update:webhooks"],setup(l){const{t:i}=W(),e=Y(l,"webhooks");function a(){const u={url:"https://httpbin.org/post",events:["session.status","message"],hmac:{key:null},retries:{delaySeconds:2,attempts:15,policy:"exponential"},customHeaders:null};e.value.push(u)}function t(u){e.value.splice(u,1)}return(u,m)=>{const r=K,f=Cn,d=X("tooltip");return c(),h("div",Sn,[s("div",Vn,[s("h5",null,p(o(i)("sessions.webhooks.title")),1),s("div",Tn,[M(n(r,{label:o(i)("sessions.webhooks.webhook"),text:"",icon:"pi pi-plus",severity:"success",onClick:a},null,8,["label"]),[[d,o(i)("sessions.webhooks.addWebhook"),void 0,{top:!0}]])])]),e.value.length===0?(c(),h("div",In,p(o(i)("sessions.webhooks.noWebhooksConfigured")),1)):(c(!0),h(H,{key:1},be(e.value,(b,g)=>(c(),R(f,{webhook:e.value[g],"onUpdate:webhook":k=>e.value[g]=k,index:g,total:e.value.length,onRemove:k=>t(g),disabled:l.disabled},null,8,["webhook","onUpdate:webhook","index","total","onRemove","disabled"]))),256))])}}},An=s("i",{class:"pi pi-whatsapp"},null,-1),Rn={class:"mb-2"},Ln={class:"field"},Un={for:"server"},En={key:0,class:"p-invalid"},On={class:"field"},Mn={for:"name"},Pn={key:0,class:"mb-4"},jn={class:"mb-3"},Nn={class:"flex flex-column gap-2"},Bn={href:"https://waha.devlike.pro/docs/engines/noweb",target:"_blank"},qn={class:"flex gap-2"},Wn={class:"pi pi-info-circle"},Hn={class:"field mt-4"},Fn={class:"field flex justify-content-between align-items-center"},zn={for:"proxy"},Kn={key:0,class:"card mb-4"},Gn={class:"field"},Qn={for:"proxy-server"},Xn={key:0,class:"p-invalid"},Jn={class:"flex gap-3"},Yn={class:"field w-full"},Zn={for:"proxy-username"},el={class:"field w-full"},sl={for:"proxy-password"},ol={class:"field flex justify-content-between align-items-center"},tl={for:"debug"},nl={class:"w-full flex flex-column gap-2"},ll={class:"flex justify-content-end"},il={__name:"SessionDialog",props:ye({mode:String},{visible:{},visibleModifiers:{},session:{},sessionModifiers:{}}),emits:["update:visible","update:session"],setup(l){var B,F;const i=ge(),{t:e}=W(),a=Y(l,"visible"),t=Y(l,"session"),u=l,m=O(()=>u.mode==="new"),r=O(()=>u.mode==="update"),f=O(()=>r.value),d=fe(),b=Q(),g=O(()=>b.getServer(t.value.server)),k=O(()=>{var A,x;return((x=(A=g.value)==null?void 0:A.version)==null?void 0:x.engine)==="NOWEB"});O(()=>{var A,x;return((x=(A=g.value)==null?void 0:A.version)==null?void 0:x.engine)==="WEBJS"});const S=w([]),y=w(!!((F=(B=t.value.config)==null?void 0:B.proxy)!=null&&F.server));ne(t,async(A,x)=>{var G,ee,J;y.value=(ee=(G=A==null?void 0:A.config)==null?void 0:G.proxy)==null?void 0:ee.server,S.value=ao((J=A.config)==null?void 0:J.metadata)});const $=w(!1),E=w(!1),D=O(()=>{const A=ae.cloneDeep(t.value.config);return y.value||(A.proxy=void 0),A.metadata=ro(S.value),A}),_=O(()=>{const A={...D.value};return k.value||delete A.noweb,{name:t.value.name,config:A}});async function L(){$.value=!0;try{E.value=!0;const A=ae.cloneDeep(_.value);await d(b.updateSession(t.value.server,t.value.name,A.config),void 0,e("sessions.failedToUpdateSession")),i.add({severity:"success",summary:e("sessions.updated"),detail:t.value.name,life:3e3})}finally{E.value=!1}t.value=void 0,T()}async function U(A){$.value=!0;try{E.value=!0;const x=ae.cloneDeep(_.value);x.start=A;const G=await d(b.createSession(t.value.server,x),void 0,e("sessions.failedToStartSession")),ee=e(A?"sessions.started":"sessions.created");i.add({severity:"success",summary:ee,detail:G.name,life:3e3})}finally{E.value=!1}t.value=void 0,T()}function T(){$.value=!1,a.value=!1}const z=O(()=>t.value.status==="STOPPED");async function q(A){await navigator.clipboard.writeText(JSON.stringify({method:"POST",uri:"/api/sessions",body:_.value},null,2)),A.preventDefault()}return(A,x)=>{const G=xe,ee=rs,J=ls,le=ie,se=we("font-awesome-icon"),re=cs,Le=He,Ue=Fe,Ee=hs,Oe=Dn,Me=ds,ce=K,Pe=_e,ue=X("tooltip");return c(),R(Pe,{visible:a.value,"onUpdate:visible":x[15]||(x[15]=j=>a.value=j),modal:!0,class:"p-fluid",maximizable:""},Hs({footer:v(()=>[s("div",nl,[s("div",null,[r.value&&!z.value?(c(),R(ee,{key:0,severity:"warn"},{default:v(()=>[N(p(o(e)("sessions.sessionRestartWarning",{status:t.value.status})),1)]),_:1})):V("",!0)]),s("div",ll,[n(ce,{label:o(e)("common.cancel"),icon:"pi pi-times",text:"",onClick:T,severity:"secondary"},null,8,["label"]),M(n(ce,{label:o(e)("sessions.copy"),text:"",tabindex:0,icon:"pi pi-copy",severity:"secondary",onClick:x[12]||(x[12]=j=>q(j))},null,8,["label"]),[[ue,{value:o(e)("sessions.copiedToClipboard")},void 0,{focus:!0,bottom:!0}]]),r.value?V("",!0):(c(),R(ce,{key:0,label:o(e)("sessions.create"),icon:"pi pi-plus",text:"",onClick:x[13]||(x[13]=j=>U(!1)),loading:E.value},null,8,["label","loading"])),r.value?V("",!0):(c(),R(ce,{key:1,label:o(e)("sessions.createAndStart"),icon:"pi pi-play",text:"",onClick:x[14]||(x[14]=j=>U(!0)),loading:E.value},null,8,["label","loading"])),r.value?(c(),R(ce,{key:2,label:o(e)("sessions.update"),icon:"pi pi-save",text:"",onClick:L,loading:E.value},null,8,["label","loading"])):V("",!0)])])]),default:v(()=>[s("div",Rn,[r.value?(c(),R(ee,{key:0,severity:"info"},{default:v(()=>[N(p(o(e)("sessions.changeServerOrNameInfo")),1)]),_:1})):V("",!0)]),s("div",Ln,[s("label",Un,p(o(e)("sessions.server")),1),n(J,{placeholder:o(e)("sessions.selectServer"),modelValue:t.value.server,"onUpdate:modelValue":x[0]||(x[0]=j=>t.value.server=j),showClear:!1,required:!0,invalid:$.value&&!t.value.server,disabled:f.value},null,8,["placeholder","modelValue","invalid","disabled"]),$.value&&!t.value.server?(c(),h("small",En,p(o(e)("sessions.serverRequired")),1)):V("",!0)]),s("div",On,[s("label",Mn,p(o(e)("sessions.nameOptional")),1),n(le,{id:"name",modelValue:t.value.name,"onUpdate:modelValue":x[1]||(x[1]=j=>t.value.name=j),modelModifiers:{trim:!0},required:"false",autofocus:"",placeholder:o(e)("sessions.sessionIdPlaceholder"),disabled:!m.value},null,8,["modelValue","placeholder","disabled"])]),k.value?(c(),h("div",Pn,[s("div",jn,[s("h5",null,"🏭 "+p(o(e)("sessions.engineSettings")),1)]),n(Ue,{activeIndex:0},{default:v(()=>[n(Le,{header:"NOWEB"},{default:v(()=>[s("div",Nn,[s("div",null,[s("a",Bn,p(o(e)("sessions.readMoreAboutNOWEB")),1)]),s("div",null,[M((c(),R(re,{modelValue:t.value.config.noweb.markOnline,"onUpdate:modelValue":x[2]||(x[2]=j=>t.value.config.noweb.markOnline=j),onLabel:o(e)("sessions.presenceOnline"),offLabel:o(e)("sessions.presenceOffline")},{icon:v(()=>[n(se,{icon:"fa-solid fa-sync",class:"mr-2"})]),_:1},8,["modelValue","onLabel","offLabel"])),[[ue,o(e)("sessions.presenceTooltip")]])]),s("div",qn,[s("div",null,[M((c(),R(re,{modelValue:t.value.config.noweb.store.enabled,"onUpdate:modelValue":x[3]||(x[3]=j=>t.value.config.noweb.store.enabled=j),onLabel:o(e)("sessions.storeEnabled"),offLabel:o(e)("sessions.storeDisabled")},{icon:v(()=>[n(se,{icon:"fa-solid fa-folder",class:"mr-2"})]),_:1},8,["modelValue","onLabel","offLabel"])),[[ue,o(e)("sessions.storeTooltip")]])]),s("div",null,[M((c(),R(re,{modelValue:t.value.config.noweb.store.fullSync,"onUpdate:modelValue":x[4]||(x[4]=j=>t.value.config.noweb.store.fullSync=j),onLabel:o(e)("sessions.storeFullSyncOn"),offLabel:o(e)("sessions.storeFullSyncOff")},{icon:v(()=>[n(se,{icon:"fa-solid fa-sync",class:"mr-2"})]),_:1},8,["modelValue","onLabel","offLabel"])),[[ue,o(e)("sessions.storeFullSyncTooltip")]])])])])]),_:1})]),_:1})])):V("",!0),s("div",null,[s("div",null,[s("h5",null,[N("📝 "+p(o(e)("sessions.metadata"))+"  ",1),M(s("i",Wn,null,512),[[ue,o(e)("sessions.metadataTooltip")]])])]),n(Ee,{modelValue:S.value,"onUpdate:modelValue":x[5]||(x[5]=j=>S.value=j),"entity-name":o(e)("sessions.metadata"),"key-column":"key","key-column-name":o(e)("sessions.key"),prefix:"user.id."},null,8,["modelValue","entity-name","key-column-name"])]),s("div",Hn,[n(Oe,{ref:"webhooks",webhooks:t.value.config.webhooks,"onUpdate:webhooks":x[6]||(x[6]=j=>t.value.config.webhooks=j)},null,8,["webhooks"])]),s("div",null,[s("div",Fn,[s("div",null,[s("h5",null,[s("label",zn,"🌐 "+p(o(e)("sessions.proxy")),1)])]),n(re,{modelValue:y.value,"onUpdate:modelValue":x[7]||(x[7]=j=>y.value=j),id:"proxy",onLabel:o(e)("sessions.proxyOn"),offLabel:o(e)("sessions.proxyOff")},{icon:v(()=>[n(se,{icon:"fa-solid fa-server",class:"mr-2"})]),_:1},8,["modelValue","onLabel","offLabel"])]),y.value?(c(),h("div",Kn,[s("div",Gn,[s("label",Qn,p(o(e)("sessions.server")),1),n(le,{id:"proxy-server",modelValue:t.value.config.proxy.server,"onUpdate:modelValue":x[8]||(x[8]=j=>t.value.config.proxy.server=j),modelModifiers:{trim:!0},required:"true",invalid:$.value&&!t.value.config.proxy.server,placeholder:o(e)("sessions.hostPort")},null,8,["modelValue","invalid","placeholder"]),$.value&&!t.value.config.proxy.server?(c(),h("small",Xn,p(o(e)("sessions.serverRequired")),1)):V("",!0)]),s("div",Jn,[s("div",Yn,[s("label",Zn,p(o(e)("sessions.usernameOptional")),1),n(le,{id:"proxy-username",modelValue:t.value.config.proxy.username,"onUpdate:modelValue":x[9]||(x[9]=j=>t.value.config.proxy.username=j),modelModifiers:{trim:!0}},null,8,["modelValue"])]),s("div",el,[s("label",sl,p(o(e)("sessions.passwordOptional")),1),n(Me,{id:"proxy-password",modelValue:t.value.config.proxy.password,"onUpdate:modelValue":x[10]||(x[10]=j=>t.value.config.proxy.password=j),modelModifiers:{trim:!0},feedback:!1,toggleMask:""},null,8,["modelValue"])])])])):V("",!0)]),s("div",ol,[s("div",null,[s("h5",null,[s("label",tl,"🛠️ "+p(o(e)("sessions.debug")),1)])]),n(re,{modelValue:t.value.config.debug,"onUpdate:modelValue":x[11]||(x[11]=j=>t.value.config.debug=j),onLabel:o(e)("sessions.debugEnabled"),offLabel:o(e)("sessions.debugDisabled"),onIcon:"fa fa-bug"},{icon:v(()=>[n(se,{icon:"fa-solid fa-bug",class:"mr-2"})]),_:1},8,["modelValue","onLabel","offLabel"])])]),_:2},[m.value?{name:"header",fn:v(()=>[s("div",null,[s("h5",null,[An,N(" "+p(o(e)("sessions.createSession")),1)])])]),key:"0"}:void 0,m.value?void 0:{name:"header",fn:v(()=>[s("div",null,[n(G,{session:t.value},null,8,["session"])])]),key:"1"}]),1032,["visible"])}}},al=["WORKING","FAILED","STARTING","SCAN_QR_CODE","STOPPED"],rl={class:"",style:{"min-width":"20rem"}},cl={class:"flex justify-content-center align-items-center"},ul=s("h5",{class:"m-0"},"QR",-1),dl={class:"m-auto w-full"},pl={class:"flex justify-content-center"},ml={key:1,style:{"background-color":"#f8f9fa",padding:"1rem",color:"red","white-space":"pre-wrap"}},vl={__name:"QRImage",props:{session:Object},setup(l){const i=Q(),e=l,{data:a,pending:t,error:u,refresh:m}=Ve(`session-qr-${e.session.server.id}-${e.session.name}`,async()=>(await ve(1e3),await i.getQR(e.session.server.id,e.session.name)));return(r,f)=>{const d=ke,b=os,g=ts,k=ms;return c(),h("div",rl,[s("div",cl,[ul,n(d,{onClick:o(m)},null,8,["onClick"])]),s("div",dl,[o(t)?(c(),h(H,{key:0},[n(b,{mode:"indeterminate",style:{height:"3px"}}),!o(a)&&!o(u)?(c(),R(g,{key:0,width:"100%",height:"20rem"})):V("",!0)],64)):V("",!0),s("div",pl,[o(a)?(c(),R(k,{key:0,data:o(a).data,mimetype:o(a).mimetype},null,8,["data","mimetype"])):V("",!0),o(u)?(c(),h("pre",ml,""+p(o(u).cause.response.data.message||o(u).cause.response.data||o(u))+`
  `,1)):V("",!0)])])])}}},fl={class:"pl-4"},_l=s("b",null,"WhatsApp",-1),hl=s("i",{class:"pi pi-ellipsis-v"},null,-1),bl=s("i",{class:"pi pi-cog"},null,-1),gl={__name:"EnterCodeGuide",setup(l){const{t:i}=W();return(e,a)=>{const t=we("i18n-t");return c(),h("ul",fl,[s("li",null,[n(t,{keypath:"sessions.guide.code.openWhatsApp"},{app:v(()=>[_l]),_:1})]),s("li",null,[n(t,{keypath:"sessions.guide.code.tapMoreOptions"},{options:v(()=>[s("b",null,p(o(i)("whatsapp.MoreOptions")),1),N(),hl]),settings:v(()=>[s("b",null,p(o(i)("whatsapp.Settings")),1),N(),bl]),_:1})]),s("li",null,[n(t,{keypath:"sessions.guide.code.tapLinkedDevices"},{linkedDevices:v(()=>[s("b",null,p(o(i)("whatsapp.LinkedDevices")),1)]),linkDevice:v(()=>[s("b",null,p(o(i)("whatsapp.LinkADevice")),1)]),_:1})]),s("li",null,[n(t,{keypath:"sessions.guide.code.linkWithPhone"},{linkWithPhone:v(()=>[s("b",null,p(o(i)("sessions.guide.code.linkWithPhoneText")),1)]),_:1})])])}}},yl={class:"flex flex-column gap-2 mt-4"},wl={class:"flex justify-content-between gap-2"},$l={class:"field"},kl={class:"card flex justify-content-center align-items-center"},xl={class:"mx-1",style:{"font-size":"2rem"}},Cl={__name:"PairingCodeSteps",props:["session"],setup(l){const i=l,e=w(null),a=w(!1),t=w("XXXX-XXXX"),u=fe(),m=Q(),{t:r}=W();function f(b){return b.replace(/\D/g,"")}async function d(){e.value=f(e.value),a.value=!0;try{await ve(1e3);const b=await u(m.getPairingCode(i.session.server.id,i.session.name,e.value),r("sessions.guide.code.requestSent"),r("sessions.guide.code.failedToRequestCode"),i.session.name,i.session.name);t.value=b.code}finally{a.value=!1}}return ne(e,ae.debounce(b=>{e.value=f(b)},1e3)),(b,g)=>{const k=ie,S=K,y=as;return c(),h(H,null,[s("div",yl,[s("form",{onSubmit:Ze(d,["prevent"])},[s("div",wl,[s("div",$l,[n(k,{id:"phone","input-id":"phone",name:"phone",modelValue:o(e),"onUpdate:modelValue":g[0]||(g[0]=$=>Te(e)?e.value=$:null),modelModifiers:{trim:!0},useGrouping:!1,required:"true",autofocus:"",placeholder:o(r)("sessions.guide.code.phonePlaceholder")},null,8,["modelValue","placeholder"])]),s("div",null,[n(S,{type:"submit",label:o(r)("sessions.guide.code.showCode"),icon:"pi pi-send",loading:o(a)},null,8,["label","loading"])])])],32)]),o(t)?(c(),h(H,{key:0},[n(y),s("div",null,[n(gl)]),s("div",kl,[s("div",null,[o(t)?(c(!0),h(H,{key:0},be(o(t),$=>(c(),h("span",xl,p($),1))),256)):V("",!0)])])],64)):V("",!0)],64)}}},Sl={class:"pl-4"},Vl=s("b",null,"WhatsApp",-1),Tl=s("i",{class:"pi pi-ellipsis-v"},null,-1),Il=s("i",{class:"pi pi-cog"},null,-1),Dl={__name:"ScanQRCodeGuide",setup(l){const{t:i}=W();return(e,a)=>{const t=we("i18n-t");return c(),h("ul",Sl,[s("li",null,[n(t,{keypath:"sessions.guide.qr.openWhatsApp"},{app:v(()=>[Vl]),_:1})]),s("li",null,[n(t,{keypath:"sessions.guide.qr.tapMoreOptions"},{options:v(()=>[s("b",null,p(o(i)("whatsapp.MoreOptions")),1),N(),Tl]),settings:v(()=>[s("b",null,p(o(i)("whatsapp.Settings")),1),N(),Il]),_:1})]),s("li",null,[n(t,{keypath:"sessions.guide.qr.tapLinkedDevices"},{linkedDevices:v(()=>[s("b",null,p(o(i)("whatsapp.LinkedDevices")),1)]),linkDevice:v(()=>[s("b",null,p(o(i)("whatsapp.LinkADevice")),1)]),_:1})]),s("li",null,[n(t,{keypath:"sessions.guide.qr.pointPhone"},{qrCode:v(()=>[s("b",null,p(o(i)("sessions.qr")),1)]),_:1})])])}}},Al=s("i",{class:"pi pi-qrcode mr-2"},null,-1),Rl=s("i",{class:"pi pi-send mr-2"},null,-1),Ll=["innerHTML"],Ul={__name:"SessionLoginDialog",props:ye(["session"],{visible:{},visibleModifiers:{}}),emits:["update:visible"],setup(l){const i=Y(l,"visible"),{t:e}=W();return(a,t)=>{const u=we("i18n-t"),m=lo,r=io,f=_e;return c(),R(f,{visible:i.value,"onUpdate:visible":t[0]||(t[0]=d=>i.value=d),modal:!0,class:"p-fluid",maximizable:""},{header:v(()=>[n(xe,{session:l.session},null,8,["session"])]),default:v(()=>[n(r,null,{default:v(()=>[n(m,null,{header:v(()=>[Al,N(" "+p(o(e)("sessions.scanQRTab")),1)]),default:v(()=>[n(u,{keypath:"sessions.scanQRCode",tag:"p"},{qr:v(()=>[s("b",null,p(o(e)("sessions.qr")),1)]),_:1}),n(Dl),s("div",null,[n(vl,{session:l.session},null,8,["session"])])]),_:1}),n(m,null,{header:v(()=>[Rl,N(" "+p(o(e)("sessions.enterCodeTab")),1)]),default:v(()=>[s("p",{innerHTML:o(e)("sessions.enterPhoneNumber"),class:"m-0"},null,8,Ll),s("div",null,[n(Cl,{session:l.session},null,8,["session"])])]),_:1})]),_:1})]),_:1},8,["visible"])}}},El={__name:"SessionLogin",props:["session"],setup(l){const{t:i}=W(),e=w(!1);return(a,t)=>{const u=K,m=X("tooltip");return c(),h(H,null,[M(n(u,{icon:"pi pi-sign-in",severity:"",rounded:"",outlined:"",onClick:t[0]||(t[0]=r=>e.value=!0),disabled:l.session.status!=="SCAN_QR_CODE"},null,8,["disabled"]),[[m,o(i)("sessions.login"),void 0,{top:!0}]]),n(Ul,{visible:o(e),"onUpdate:visible":t[1]||(t[1]=r=>Te(e)?e.value=r:null),session:l.session},null,8,["visible","session"])],64)}}},Ol={class:"chatwoot-config"},Ml={class:"field"},Pl={for:"url"},jl={key:0,class:"p-error"},Nl={class:"grid"},Bl={class:"col-6"},ql={class:"field"},Wl={for:"accountId"},Hl={key:0,class:"p-error"},Fl={class:"col-6"},zl={class:"field"},Kl={for:"accountToken"},Gl={key:0,class:"p-error"},Ql={class:"grid"},Xl={class:"col-6"},Jl={class:"field"},Yl={for:"inboxId"},Zl={class:"pi pi-info-circle"},ei={key:0,class:"p-error"},si={class:"col-6"},oi={class:"field"},ti={for:"inboxIdentifier"},ni={key:0,class:"p-error"},li={class:"field"},ii={for:"locale"},ai={class:"pi pi-info-circle"},ri={key:0,class:"p-error"},ci=De({__name:"AppConfigChatWoot",props:{modelValue:{type:Object,required:!0},server:{type:Object,required:!0},submitted:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(l,{emit:i}){const{t:e}=W(),a=l,t=i,u=Q(),m=fe(),r=O({get:()=>a.modelValue||{url:"",accountId:0,accountToken:"",inboxId:0,inboxIdentifier:"",locale:"en-US"},set:g=>t("update:modelValue",g)}),f=w([]),d=w(!1);Ie(async()=>{await b()});async function b(){if(!(!a.server||!a.server.id))try{d.value=!0,f.value=await m(u.getAppChatWootLocales(a.server.id),void 0,e("apps.chatwoot.failedToLoadLocales"))}catch(g){console.error("Error loading locales:",g)}finally{d.value=!1}}return(g,k)=>{const S=ie,y=us,$=ds,E=$e,D=X("tooltip");return c(),h("div",Ol,[s("div",Ml,[s("label",Pl,p(o(e)("apps.chatwoot.url")),1),n(S,{id:"url",modelValue:r.value.url,"onUpdate:modelValue":k[0]||(k[0]=_=>r.value.url=_),placeholder:"https://app.chatwoot.com",class:te({"p-invalid":l.submitted&&!r.value.url})},null,8,["modelValue","class"]),l.submitted&&!r.value.url?(c(),h("small",jl,p(o(e)("apps.chatwoot.urlRequired")),1)):V("",!0)]),s("div",Nl,[s("div",Bl,[s("div",ql,[s("label",Wl,p(o(e)("apps.chatwoot.accountId")),1),n(y,{id:"accountId",modelValue:r.value.accountId,"onUpdate:modelValue":k[1]||(k[1]=_=>r.value.accountId=_),placeholder:o(e)("apps.chatwoot.accountIdPlaceholder"),class:te({"p-invalid":l.submitted&&!r.value.accountId})},null,8,["modelValue","placeholder","class"]),l.submitted&&!r.value.accountId?(c(),h("small",Hl,p(o(e)("apps.chatwoot.accountIdRequired")),1)):V("",!0)])]),s("div",Fl,[s("div",zl,[s("label",Kl,p(o(e)("apps.chatwoot.accountToken")),1),n($,{id:"accountToken",modelValue:r.value.accountToken,"onUpdate:modelValue":k[2]||(k[2]=_=>r.value.accountToken=_),placeholder:o(e)("apps.chatwoot.accountTokenPlaceholder"),feedback:!1,toggleMask:"",class:te({"p-invalid":l.submitted&&!r.value.accountToken})},null,8,["modelValue","placeholder","class"]),l.submitted&&!r.value.accountToken?(c(),h("small",Gl,p(o(e)("apps.chatwoot.accountTokenRequired")),1)):V("",!0)])])]),s("div",Ql,[s("div",Xl,[s("div",Jl,[s("label",Yl,[N(p(o(e)("apps.chatwoot.inboxId"))+" ",1),M(s("i",Zl,null,512),[[D,o(e)("apps.chatwoot.inboxIdTooltip")]])]),n(y,{id:"inboxId",modelValue:r.value.inboxId,"onUpdate:modelValue":k[3]||(k[3]=_=>r.value.inboxId=_),placeholder:o(e)("apps.chatwoot.inboxIdPlaceholder"),class:te({"p-invalid":l.submitted&&!r.value.inboxId})},null,8,["modelValue","placeholder","class"]),l.submitted&&!r.value.inboxId?(c(),h("small",ei,p(o(e)("apps.chatwoot.inboxIdRequired")),1)):V("",!0)])]),s("div",si,[s("div",oi,[s("label",ti,p(o(e)("apps.chatwoot.inboxIdentifier")),1),n($,{id:"inboxIdentifier",modelValue:r.value.inboxIdentifier,"onUpdate:modelValue":k[4]||(k[4]=_=>r.value.inboxIdentifier=_),placeholder:o(e)("apps.chatwoot.inboxIdentifierPlaceholder"),feedback:!1,toggleMask:"",class:te({"p-invalid":l.submitted&&!r.value.inboxIdentifier})},null,8,["modelValue","placeholder","class"]),l.submitted&&!r.value.inboxIdentifier?(c(),h("small",ni,p(o(e)("apps.chatwoot.inboxIdentifierRequired")),1)):V("",!0)])])]),s("div",li,[s("label",ii,[N(p(o(e)("apps.chatwoot.language"))+" ",1),M(s("i",ai,null,512),[[D,o(e)("apps.chatwoot.languageTooltip")]])]),n(E,{id:"locale",modelValue:r.value.locale,"onUpdate:modelValue":k[5]||(k[5]=_=>r.value.locale=_),options:f.value,optionLabel:"name",optionValue:"locale",placeholder:o(e)("apps.chatwoot.selectLocale"),loading:d.value,class:te({"p-invalid":l.submitted&&!r.value.locale})},null,8,["modelValue","options","placeholder","loading","class"]),l.submitted&&!r.value.locale?(c(),h("small",ri,p(o(e)("apps.chatwoot.languageRequired")),1)):V("",!0)])])}}}),ui=pe(ci,[["__scopeId","data-v-2afcedfb"]]),di={class:"chatwoot-faq"},pi={class:"mb-3"},mi={href:"https://waha.devlike.pro/docs/apps/chatwoot",target:"_blank"},vi={class:"mb-4"},fi={class:"mb-1"},_i={class:"p-inputgroup mb-1"},hi={class:"p-message-secondary"},bi={class:"mt-4"},gi={class:"p-inputgroup"},yi=De({__name:"AppFAQChatWoot",props:{app:{type:Object,required:!0},session:{type:String,required:!0}},setup(l){const{t:i}=W(),e=l,a=O(()=>`/webhooks/chatwoot/${e.session}/${e.app.id}`),t=O(()=>`http://waha:3000${a.value}`),u=O(()=>`{WAHA_BASE_URL}${a.value}`);async function m(){await navigator.clipboard.writeText(u.value)}async function r(){await navigator.clipboard.writeText(t.value)}return(f,d)=>{const b=He,g=ie,k=K,S=Fe,y=X("tooltip");return c(),h("div",di,[n(S,{multiple:!0,activeIndex:[1]},{default:v(()=>[n(b,{header:o(i)("apps.chatwoot.aboutApp")},{default:v(()=>[s("div",pi,[s("a",mi,p(o(i)("apps.chatwoot.learnMore")),1)])]),_:1},8,["header"]),n(b,{header:o(i)("apps.chatwoot.webhookUrl")},{default:v(()=>[s("div",vi,[s("p",fi,p(o(i)("apps.chatwoot.useWebhookUrl")),1),s("div",_i,[n(g,{value:u.value,disabled:"",placeholder:o(i)("apps.chatwoot.webhookUrlPlaceholder")},null,8,["value","placeholder"]),M(n(k,{label:o(i)("apps.chatwoot.copy"),icon:"pi pi-copy",onClick:m},null,8,["label"]),[[y,{value:o(i)("apps.chatwoot.copiedToClipboard")},void 0,{focus:!0,bottom:!0}]])]),s("small",hi,p(o(i)("apps.chatwoot.replaceBaseUrl")),1)]),s("div",bi,[s("p",null,p(o(i)("apps.chatwoot.exampleSetup")),1),s("div",gi,[n(g,{value:t.value,disabled:"",placeholder:o(i)("apps.chatwoot.exampleUrlPlaceholder")},null,8,["value","placeholder"]),M(n(k,{label:o(i)("apps.chatwoot.copy"),icon:"pi pi-copy",onClick:r},null,8,["label"]),[[y,{value:o(i)("apps.chatwoot.copiedToClipboard")},void 0,{focus:!0,bottom:!0}]])])])]),_:1},8,["header"])]),_:1})])}}}),wi=pe(yi,[["__scopeId","data-v-68901460"]]),$i="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_378_9639)'%3e%3cpath%20d='M12%2024C18.6274%2024%2024%2018.6274%2024%2012C24%205.37258%2018.6274%200%2012%200C5.37258%200%200%205.37258%200%2012C0%2018.6274%205.37258%2024%2012%2024Z'%20fill='%232781F6'%3e%3c/path%3e%3cpath%20d='M17.1256%2017.1258H11.5622C8.4955%2017.1258%205.99976%2014.6299%205.99976%2011.5624C5.99976%208.49591%208.4955%206%2011.5623%206C14.6298%206%2017.1256%208.49591%2017.1256%2011.5624V17.1258Z'%20fill='white'%20stroke='white'%20stroke-width='0.28125'%3e%3c/path%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_378_9639'%3e%3crect%20width='24'%20height='24'%20fill='white'%3e%3c/rect%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",bs=l=>(Fs("data-v-50742726"),l=l(),zs(),l),ki={class:"chatwoot-label"},xi=bs(()=>s("img",{src:$i,alt:"ChatWoot Icon",class:"chatwoot-icon"},null,-1)),Ci=bs(()=>s("span",null,"ChatWoot",-1)),Si=[xi,Ci],Vi={__name:"ChatWootLabel",setup(l){return(i,e)=>(c(),h("span",ki,Si))}},Be=pe(Vi,[["__scopeId","data-v-50742726"]]),Ti={class:"app-edit"},Ii={class:"field"},Di={for:"id"},Ai={key:0,class:"p-error"},Ri={class:"field"},Li={for:"app-type"},Ui={key:0},Ei={key:1},Oi={key:0,class:"p-error"},Mi={key:0,class:"field"},Pi={class:"card app-config"},ji=De({__name:"AppEdit",props:{modelValue:{type:Object,required:!0},server:{type:Object,required:!0},visible:{type:Boolean,default:!1},isNewApp:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},emits:["update:modelValue","update:visible","save","cancel"],setup(l,{emit:i}){const{t:e}=W(),a=l,t=O({get:()=>a.visible,set:S=>m("update:visible",S)}),u=O(()=>!a.modelValue.id),m=i;Q(),fe();const r=O({get:()=>a.modelValue,set:S=>m("update:modelValue",S)}),f=w([{name:"ChatWoot",value:"chatwoot",label:"chatwoot"}]),d=w(!1);ne(()=>r.value,S=>{S.id||(r.value={...S,id:b()})},{immediate:!0});function b(){return ps()}function g(){if(d.value=!0,!(!r.value.id||!r.value.app||!r.value.session)){if(r.value.app==="chatwoot"){const S=r.value.config;if(!S||!S.url||!S.accountId||!S.accountToken||!S.inboxId||!S.inboxIdentifier||!S.locale)return}m("save",r.value)}}function k(){d.value=!1,m("update:visible",!1),m("cancel")}return(S,y)=>{const $=ie,E=$e,D=K,_=_e;return c(),R(_,{visible:t.value,"onUpdate:visible":y[3]||(y[3]=L=>t.value=L),modal:!0,class:"p-fluid",header:a.isNewApp?o(e)("apps.addAppTitle"):o(e)("apps.editAppTitle")},{footer:v(()=>[n(D,{label:o(e)("apps.cancel"),icon:"pi pi-times",onClick:k,text:"",severity:"secondary"},null,8,["label"]),n(D,{label:u.value?o(e)("apps.add"):o(e)("apps.save"),icon:u.value?"pi pi-plus":"pi pi-check",onClick:g,loading:a.loading,text:""},null,8,["label","icon","loading"])]),default:v(()=>[s("div",Ti,[s("div",Ii,[s("label",Di,[s("b",null,p(o(e)("apps.appId")),1)]),n($,{id:"id",modelValue:r.value.id,"onUpdate:modelValue":y[0]||(y[0]=L=>r.value.id=L),disabled:!a.isNewApp,placeholder:"Automatically generated"},null,8,["modelValue","disabled"]),d.value&&!r.value.id?(c(),h("small",Ai,p(o(e)("apps.appIdRequired")),1)):V("",!0)]),s("div",Ri,[s("label",Li,[s("b",null,p(o(e)("apps.appType")),1)]),n(E,{id:"app-type",modelValue:r.value.app,"onUpdate:modelValue":y[1]||(y[1]=L=>r.value.app=L),options:f.value,optionLabel:"name",optionValue:"value",placeholder:o(e)("apps.selectAppType"),class:te({"p-invalid":d.value&&!r.value.app}),disabled:!a.isNewApp},{value:v(L=>[L.value?(c(),h("div",Ui,[L.value==="chatwoot"?(c(),R(Be,{key:0})):V("",!0)])):(c(),h("span",Ei,p(L.placeholder),1))]),option:v(L=>[L.option.value==="chatwoot"?(c(),R(Be,{key:0})):V("",!0)]),_:1},8,["modelValue","options","placeholder","class","disabled"]),d.value&&!r.value.app?(c(),h("small",Oi,p(o(e)("apps.appTypeRequired")),1)):V("",!0)]),r.value.app?(c(),h("div",Mi,[s("label",null,[s("b",null,p(o(e)("apps.appFAQ")),1)]),r.value.app==="chatwoot"?(c(),R(wi,{key:0,app:r.value,session:r.value.session||""},null,8,["app","session"])):V("",!0),s("label",null,[s("b",null,p(o(e)("apps.appConfiguration")),1)]),s("div",Pi,[r.value.app==="chatwoot"?(c(),R(ui,{key:0,modelValue:r.value.config,"onUpdate:modelValue":y[2]||(y[2]=L=>r.value.config=L),server:l.server,submitted:d.value},null,8,["modelValue","server","submitted"])):V("",!0)])])):V("",!0)])]),_:1},8,["visible","header"])}}}),Ni=pe(ji,[["__scopeId","data-v-9060dc62"]]),Bi={class:"app-list"},qi={class:"flex justify-content-between align-items-center w-full mb-2"},Wi={class:"mb-0"},Hi={class:"pi pi-info-circle"},Fi={class:"text-center p-4"},zi={class:"flex gap-2 justify-content-end"},Ki=De({__name:"AppList",props:{server:Object,session:Object,isNewSession:{type:Boolean,default:!1}},setup(l){const i=ge(),e=Ye(),a=Q(),t=fe(),{t:u}=W(),m=l,r=w([]),f=w(!1),d=w(!1),b=w(null),g=w(!1);Ie(async()=>{await k()}),ne(()=>[m.server,m.session],async()=>{await k()},{deep:!0});async function k(){if(!m.server||!m.session||!m.session.name){r.value=[];return}try{f.value=!0,r.value=await t(a.getApps(m.server.id,m.session.name),void 0,u("apps.failedToLoad"))}catch(U){console.error("Error loading apps:",U)}finally{f.value=!1}}function S(){if(m.isNewSession){i.add({severity:"info",summary:"Info",detail:u("apps.createSessionFirst"),life:3e3});return}b.value={id:D(),session:m.session.name,app:"chatwoot",config:{}},g.value=!0,d.value=!0}function y(U){b.value={...U},g.value=!1,d.value=!0}function $(U,T){const z=L(U.app);e.require({target:T.currentTarget,message:u("apps.deleteConfirm",{appType:z,id:U.id}),icon:"pi pi-exclamation-triangle",rejectClass:"p-button-secondary p-button-outlined p-button-sm",acceptClass:"p-button-danger p-button-sm",rejectLabel:u("apps.no"),acceptLabel:u("apps.yesDelete"),accept:async()=>{await E(U)},reject:()=>{}})}async function E(U){try{await t(a.deleteApp(m.server.id,U.id),void 0,u("apps.failedToDelete"));const T=L(U.app);i.add({severity:"success",summary:u("apps.deleted"),detail:`${T} (${U.id})`,life:3e3}),await k()}catch(T){console.error("Error deleting app:",T)}}function D(){return ps()}async function _(U){try{const T=L(U.app);return g.value?(await t(a.createApp(m.server.id,U),void 0,u("apps.failedToCreate")),i.add({severity:"success",summary:u("apps.created"),detail:`${T} (${U.id})`,life:3e3})):(await t(a.updateApp(m.server.id,U),void 0,u("apps.failedToUpdate")),i.add({severity:"success",summary:u("apps.updated"),detail:`${T} (${U.id})`,life:3e3})),await k(),d.value=!1,!0}catch(T){return console.error("Error saving app:",T),!1}}function L(U){switch(U){case"chatwoot":return"ChatWoot";default:return U}}return(U,T)=>{const z=K,q=Ae,B=Re,F=We,A=X("tooltip");return c(),h("div",Bi,[s("div",qi,[s("div",null,[s("h5",Wi,[N(p(o(u)("apps.title"))+" ",1),M(s("i",Hi,null,512),[[A,o(u)("apps.builtInIntegrations")]])])]),s("div",null,[n(z,{label:o(u)("apps.addApp"),icon:"pi pi-plus",onClick:S,severity:"success",text:""},null,8,["label"])])]),n(B,{value:r.value,loading:f.value,dataKey:"id",paginator:r.value.length>10,rows:10,showGridlines:""},{empty:v(()=>[s("div",Fi,p(o(u)("apps.noAppsFound")),1)]),default:v(()=>[n(q,{field:"app",header:o(u)("apps.appType")},{body:v(({data:x})=>[x.app==="chatwoot"?(c(),R(Be,{key:0})):(c(),h(H,{key:1},[N(p(L(x.app)),1)],64))]),_:1},8,["header"]),n(q,{field:"id",header:o(u)("apps.id")},null,8,["header"]),n(q,{style:{width:"10rem","text-align":"right"}},{body:v(({data:x})=>[s("div",zi,[M(n(z,{icon:"pi pi-pencil",onClick:G=>y(x),outlined:"",rounded:"",severity:"success"},null,8,["onClick"]),[[A,o(u)("apps.editApp"),void 0,{top:!0}]]),M(n(z,{icon:"pi pi-trash",onClick:G=>$(x,G),outlined:"",rounded:"",severity:"danger"},null,8,["onClick"]),[[A,o(u)("apps.deleteApp"),void 0,{top:!0}]])])]),_:1})]),_:1},8,["value","loading","paginator"]),n(F),b.value?(c(),R(Ni,{key:0,modelValue:b.value,"onUpdate:modelValue":T[0]||(T[0]=x=>b.value=x),server:l.server,visible:d.value,"onUpdate:visible":T[1]||(T[1]=x=>d.value=x),isNewApp:g.value,loading:f.value,onSave:_,onCancel:T[2]||(T[2]=x=>d.value=!1)},null,8,["modelValue","server","visible","isNewApp","loading"])):V("",!0)])}}}),Gi=pe(Ki,[["__scopeId","data-v-5dee10f9"]]),Qi={class:"w-full flex flex-column gap-2"},Xi={key:0},Ji=["innerHTML"],Yi={class:"flex justify-content-end"},Zi={__name:"AppsDialog",props:{visible:{},visibleModifiers:{},session:{},sessionModifiers:{},server:{},serverModifiers:{}},emits:["update:visible","update:session","update:server"],setup(l){const{t:i}=W(),e=Y(l,"visible"),a=Y(l,"session"),t=Y(l,"server"),u=O(()=>a.value.status==="STOPPED");function m(){e.value=!1}return(r,f)=>{const d=K,b=_e;return c(),R(b,{visible:e.value,"onUpdate:visible":f[0]||(f[0]=g=>e.value=g),modal:!0,class:"p-fluid",maximizable:"",style:{"min-width":"50%"}},{header:v(()=>[n(xe,{session:a.value},null,8,["session"])]),footer:v(()=>[s("div",Qi,[u.value?V("",!0):(c(),h("div",Xi,[n(o(rs),{severity:"warn"},{default:v(()=>[s("span",{innerHTML:o(i)("apps.sessionStatusWarning",{status:a.value.status})},null,8,Ji)]),_:1})])),s("div",Yi,[n(d,{label:o(i)("apps.close"),icon:"pi pi-times",text:"",onClick:m,severity:"secondary"},null,8,["label"])])])]),default:v(()=>[n(Gi,{server:t.value,session:a.value,isNewSession:!1},null,8,["server","session"])]),_:1},8,["visible"])}}},ea={class:"flex justify-content-between"},sa={class:"flex align-items-center gap-1"},oa=s("i",{class:"pi pi-whatsapp"},null,-1),ta={class:"mr-1"},na=["disabled"],la=s("i",{class:"pi pi-refresh"},null,-1),ia=[la],aa={class:"flex justify-content-between flex-column sm:flex-row gap-2 sm:gap-0"},ra={class:"flex flex-column"},ca={class:"flex justify-content-between flex-column sm:flex-row gap-2 sm:gap-2"},ua={style:{"text-align":"left"},class:"flex flex-column"},da={class:"text-center"},pa={class:"flex gap-2"},ma={class:"my-auto"},va={key:0,class:"pi pi-info-circle text-orange-400"},fa={class:"flex flex-row gap-2 justify-content-end",style:{order:"2"}},Ja={__name:"SessionTable",setup(l){const i=ge(),{t:e}=W(),a=Q(),{visibleSessions:t,refreshing:u,servers:m}=qe(a),r=w({config:{webhooks:[]}}),f=w(!1),d=w(void 0),b=w(!1),g=w(!1),k=w(!1),S=w(null),y=w(10);w(null);const $=w({}),E=w(null),D=w([]),_=O(()=>D.value.filter(P=>B.value[`session-action-${P.server.id}-${P.name}`])),L=w(!1),U=w(!1),T=w(!1),z=w(!1),q=w(!1),B=w({});function F(P,I){switch(P){case"startSession":L.value=I;break;case"restartSession":U.value=I;break;case"stopSession":T.value=I;break;case"logoutSession":z.value=I;break;case"deleteSession":q.value=I;break}}async function A(P){F(P,!0);try{for(const I of _.value)await B.value[`session-action-${I.server.id}-${I.name}`][P]()}finally{F(P,!1)}}Ks(()=>{B.value=[]}),Gs(()=>{ce()});const x=w([{field:"name",header:e("sessions.name")},{field:"metadata",header:e("sessions.metadata")},{field:"me",header:e("sessions.me")},{field:"status",header:e("sessions.status")},{field:"server",header:e("sessions.server")}]);function G(){return JSON.parse(localStorage.getItem("sessions.table.columns.hidden"))||[]}const ee=G(),J=w(ae.differenceBy(x.value,ee,"field")),le=P=>{J.value=x.value.filter(I=>P.includes(I))};function se(P){return!J.value||J.value.length===0?!0:ae.find(J.value,{field:P})}const re=O(()=>se("name")),Le=O(()=>se("metadata")),Ue=O(()=>se("me")),Ee=O(()=>se("status")),Oe=O(()=>se("server")),Me=O(()=>ae.differenceBy(x.value,J.value,"field"));ne(()=>Me.value,P=>{localStorage.setItem("sessions.table.columns.hidden",JSON.stringify(P))},{deep:!0});const ce=()=>{$.value={global:{value:null,matchMode:he.CONTAINS},status:{value:null,matchMode:he.EQUALS},"server.id":{value:null,matchMode:he.EQUALS},name:{value:null,matchMode:he.CONTAINS},"me.id":{value:null,matchMode:he.CONTAINS}}};function Pe(){const P=m.value.find(I=>I.connected);if(!P){i.add({severity:"error",summary:e("sessions.noConnectedServer"),detail:e("sessions.pleaseConnectToServerFirst"),life:3e3});return}r.value={server:P.id,name:"",config:{metadata:{},webhooks:[],noweb:{markOnline:!0,store:{enabled:!0,fullSync:!1}},proxy:{}}},d.value="new",f.value=!0}function ue(P){r.value=ae.cloneDeep({name:P.name,status:P.status,server:P.server.id,config:P.config}),d.value="update",f.value=!0}function j(){Ve("store",async()=>await a.refresh())}function gs(P){b.value=!0,r.value=P}function ys(P){r.value=P,g.value=!0}function ws(P){r.value=P,S.value=P.server,k.value=!0}ne(g,P=>{P||(r.value={config:{webhooks:[]}})});const $s=O(()=>["name","me.id","me.pushName","_metadata"]);return(P,I)=>{const Ke=Je,je=K,ks=vo,xs=Qs,Ne=ie,Cs=Xs,Ss=es,de=Ae,Vs=ho,Ts=ze,Is=Vo,Ge=ns,Ds=$e,As=ls,Rs=fs,Ls=Do,Us=Re,Es=We,Os=gt,Ms=Qt,Ps=il,Ce=X("tooltip");return c(),h(H,null,[s("div",ea,[s("div",null,[s("h5",sa,[oa,s("span",ta,p(o(e)("sessions.title")),1),n(Ke,{refreshing:o(u)},null,8,["refreshing"])])]),s("div",null,[M((c(),h("button",{onClick:j,class:"p-link layout-topbar-button",disabled:o(u)},ia,8,na)),[[Ce,o(e)("sessions.refresh"),void 0,{top:!0}]])])]),n(Us,{selection:D.value,"onUpdate:selection":I[8]||(I[8]=C=>D.value=C),value:o(t).length>0?o(t):[],paginator:!0,rows:y.value,rowsPerPageOptions:[5,10,20,50,100,500],dataKey:C=>`${C.server.id}-${C.name}`,rowHover:!0,filters:$.value,"onUpdate:filters":I[9]||(I[9]=C=>$.value=C),filterDisplay:"row",loading:E.value,globalFilterFields:o($s),showGridlines:"",style:{"white-space":"nowrap"},sortField:"name",sortOrder:1,resizableColumns:""},{header:v(()=>[s("div",aa,[s("div",ra,[n(je,{label:o(e)("sessions.startNew"),icon:"pi pi-play",severity:"success",onClick:Pe},null,8,["label"])]),s("div",ca,[n(ks),s("div",null,[n(Cs,{iconPosition:"left"},{default:v(()=>[n(xs,{class:"pi pi-search"}),n(Ne,{modelValue:$.value.global.value,"onUpdate:modelValue":I[0]||(I[0]=C=>$.value.global.value=C),placeholder:o(e)("sessions.searchByNamePhoneMetadata"),style:{width:"100%"}},null,8,["modelValue","placeholder"])]),_:1})]),s("div",ua,[n(Ss,{placeholder:o(e)("sessions.columns"),modelValue:J.value,options:x.value,optionLabel:"header",selectedItemsLabel:o(e)("sessions.columns"),maxSelectedLabels:0,"onUpdate:modelValue":le},null,8,["placeholder","modelValue","options","selectedItemsLabel"])])])])]),empty:v(()=>[N(p(o(e)("sessions.noSessionsFound")),1)]),loading:v(()=>[N(p(o(e)("sessions.loadingSessions")),1)]),default:v(()=>[n(de,{selectionMode:"multiple",headerStyle:"width: 3rem"}),o(re)?(c(),R(de,{key:0,field:"name",header:o(e)("sessions.name"),"show-filter-menu":!1,sortable:""},{filter:v(({filterModel:C,filterCallback:Z})=>[n(Ne,{modelValue:$.value.name.value,"onUpdate:modelValue":I[1]||(I[1]=oe=>$.value.name.value=oe),type:"text",placeholder:o(e)("sessions.session")},null,8,["modelValue","placeholder"])]),_:1},8,["header"])):V("",!0),o(Le)?(c(),R(de,{key:1,header:o(e)("sessions.metadata")},{body:v(({data:C})=>{var Z;return[n(Vs,{metadata:(Z=C.config)==null?void 0:Z.metadata},null,8,["metadata"])]}),_:1},8,["header"])):V("",!0),o(Ue)?(c(),R(de,{key:2,header:o(e)("sessions.me")},{body:v(({data:C})=>[s("div",da,[n(Ts,{session:C},null,8,["session"])])]),filter:v(({filterModel:C,filterCallback:Z})=>[n(Ne,{modelValue:$.value["me.id"].value,"onUpdate:modelValue":I[2]||(I[2]=oe=>$.value["me.id"].value=oe),type:"text",placeholder:o(e)("sessions.mePhoneNumber")},null,8,["modelValue","placeholder"])]),_:1},8,["header"])):V("",!0),o(Ee)?(c(),R(de,{key:3,field:"status",header:o(e)("sessions.status"),showFilterMenu:!1,style:{width:"9rem"}},{body:v(({data:C})=>[s("div",pa,[s("div",null,[n(El,{session:C},null,8,["session"])]),s("div",null,[n(Is,{session:C},null,8,["session"])]),s("div",null,[M(n(je,{icon:"pi pi-whatsapp",severity:"",rounded:"",outlined:"",disabled:C.status!=="WORKING",onClick:Z=>ys(C)},null,8,["disabled","onClick"]),[[Ce,o(e)("sessions.chatUI"),void 0,{top:!0}]])]),s("div",null,[M(n(je,{icon:"pi pi-code",severity:"secondary",rounded:"",outlined:"",onClick:Z=>gs(C)},null,8,["onClick"]),[[Ce,o(e)("sessions.sendRequest"),void 0,{top:!0}]])]),s("div",ma,[n(Ge,{status:C.status},null,8,["status"])])])]),filter:v(({filterModel:C,filterCallback:Z})=>[n(Ds,{modelValue:C.value,"onUpdate:modelValue":oe=>C.value=oe,options:o(al),onChange:oe=>Z(),placeholder:o(e)("sessions.any"),class:"p-column-filter",showClear:!0},{option:v(({option:oe})=>[n(Ge,{status:oe},null,8,["status"])]),_:2},1032,["modelValue","onUpdate:modelValue","options","onChange","placeholder"])]),_:1},8,["header"])):V("",!0),o(Oe)?(c(),R(de,{key:4,field:"server.name",filterField:"server.id",header:o(e)("sessions.server"),showFilterMenu:!1},{filter:v(({filterModel:C,filterCallback:Z})=>[n(As,{placeholder:o(e)("sessions.any"),onChange:oe=>Z(),modelValue:C.value,"onUpdate:modelValue":oe=>C.value=oe,showClear:!0,required:!1},null,8,["placeholder","onChange","modelValue","onUpdate:modelValue"])]),body:v(({data:C})=>[N(p(C.server.name)+" ",1),C.assignedWorker&&C.server.name!==C.assignedWorker?M((c(),h("i",va,null,512)),[[Ce,`${o(e)("sessions.assignedWorkerIdDoesNotMatch")}

👉 ${o(e)("sessions.assignedWorkerId")}: ${C.assignedWorker}`]]):V("",!0)]),_:1},8,["header"])):V("",!0),n(de,{showFilterMenu:!1},{filter:v(()=>[s("div",fa,[n(Rs,{group:"dialog",name:`'${o(_).length}' sessions`,"all-disabled":o(_).length===0,"hide-actions":["view","apps"],"is-starting":L.value,"is-restarting":U.value,"is-stopping":T.value,"is-logging-out":z.value,"is-removing":q.value,onStart:I[3]||(I[3]=C=>A("startSession")),onRestart:I[4]||(I[4]=C=>A("restartSession")),onStop:I[5]||(I[5]=C=>A("stopSession")),onLogout:I[6]||(I[6]=C=>A("logoutSession")),onDelete:I[7]||(I[7]=C=>A("deleteSession"))},null,8,["name","all-disabled","is-starting","is-restarting","is-stopping","is-logging-out","is-removing"])])]),body:v(({data:C})=>[n(Ls,{ref:Z=>{B.value[`session-action-${C.server.id}-${C.name}`]=Z},session:C,disabled:o(_).length!==0,onView:ue,onApps:ws},null,8,["session","disabled"])]),_:1})]),_:1},8,["selection","value","rows","dataKey","filters","loading","globalFilterFields"]),n(Es),n(Os,{visible:g.value,"onUpdate:visible":I[10]||(I[10]=C=>g.value=C),session:r.value,"onUpdate:session":I[11]||(I[11]=C=>r.value=C)},null,8,["visible","session"]),n(Ms,{visible:b.value,"onUpdate:visible":I[12]||(I[12]=C=>b.value=C),session:r.value,"onUpdate:session":I[13]||(I[13]=C=>r.value=C)},null,8,["visible","session"]),n(Ps,{visible:f.value,"onUpdate:visible":I[14]||(I[14]=C=>f.value=C),session:r.value,"onUpdate:session":I[15]||(I[15]=C=>r.value=C),mode:d.value},null,8,["visible","session","mode"]),n(Zi,{visible:k.value,"onUpdate:visible":I[16]||(I[16]=C=>k.value=C),session:r.value,"onUpdate:session":I[17]||(I[17]=C=>r.value=C),server:S.value,"onUpdate:server":I[18]||(I[18]=C=>S.value=C)},null,8,["visible","session","server"])],64)}}};export{vo as _,Ja as a};
