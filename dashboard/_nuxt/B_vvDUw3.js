import{u as I,_ as O}from"./fGFUKp75.js";import{O as E,r as _,t as u,L as B,A as $,x as t,v as b,Y as P,N as e,U as R,aK as U,o as q,e as z,c as T,S as V,z as L,Q as x,y as d,$ as F,i as K,P as Q}from"./k26QnfNQ.js";import{useLayout as Y}from"./DhkqQifL.js";import{u as j}from"./zWp4Lv2Z.js";import G from"./CpBIwcip.js";import H from"./CItRxsii.js";import"./ClMtEe3J.js";import"./nFnk-bua.js";import"./C8sXEuvN.js";import"./CVEuqygK.js";import"./B8b8BwN_.js";import"./xBRoWXLS.js";import"./DBidfEJV.js";import"./CrWW-H4f.js";const J={class:"language-options"},W={__name:"LanguageSelector",setup(N,{expose:s}){const{locale:i,locales:v}=E(),o=_(null),a={};for(const n of v.value)a[n.code]=n.name;const g=n=>{o.value.toggle(n)},c=localStorage.getItem("language")||"en";c&&a[c]&&(i.value=c);const f=n=>{i.value=n,localStorage.setItem("language",n),o.value.hide(),window.location.reload()};return s({toggle:g}),(n,w)=>{const y=G;return u(),B(e(H),{ref_key:"overlayPanel",ref:o,appendTo:"body"},{default:$(()=>[t("div",J,[(u(),b(R,null,P(a,(k,p)=>t("div",null,[(u(),B(y,{key:p,class:"language-option",onClick:h=>f(p),label:k,text:"",severity:e(i)===p?"success":"secondary",style:{width:"100%","text-align":"left"}},null,8,["onClick","label","severity"]))])),64))])]),_:1},512)}}},X={class:"layout-topbar"},Z=t("i",{class:"pi pi-bars"},null,-1),tt=[Z],et=["src"],ot=t("i",{class:"pi pi-ellipsis-v"},null,-1),nt=[ot],st=t("i",{class:"pi pi-globe",style:{color:"#38bdf8"}},null,-1),at=t("i",{class:"pi pi-eye",style:{color:"#459e74"}},null,-1),lt={class:"m-auto"},rt=["disabled"],ut=t("i",{class:"pi pi-refresh"},null,-1),St={__name:"AppTopbar",setup(N){const{t:s}=E(),{layoutConfig:i,onMenuToggle:v}=Y(),o=_(null),a=_(!1);U();const g=j();q(()=>{w()}),z(()=>{y()});const c=T(()=>`/dashboard/layout/images/${i.darkTheme.value?"logo-white":"logo-dark"}.svg`),f=()=>{a.value=!a.value},n=T(()=>({"layout-topbar-menu-mobile-active":a.value})),w=()=>{o.value||(o.value=l=>{k(l)&&(a.value=!1)},document.addEventListener("click",o.value))},y=()=>{o.value&&(document.removeEventListener("click",o),o.value=null)},k=l=>{if(!a.value)return;const r=document.querySelector(".layout-topbar-menu"),m=document.querySelector(".layout-topbar-menu-button");return!(r.isSameNode(l.target)||r.contains(l.target)||m.isSameNode(l.target)||m.contains(l.target))};function p(){I("store",async()=>await g.refresh())}const h=_(null),A=l=>{h.value.toggle(l)},{refreshing:M}=V(g);return(l,r)=>{const m=K("router-link"),D=O,C=Q("tooltip");return u(),b("div",X,[t("button",{class:"p-link layout-menu-button layout-topbar-button",onClick:r[0]||(r[0]=S=>e(v)())},tt),L(m,{to:"/",class:"layout-topbar-logo"},{default:$(()=>[t("img",{class:"mb-1",src:c.value,alt:"logo"},null,8,et),t("span",null,d(e(s)("topbar.logo")),1)]),_:1}),t("button",{class:"p-link layout-topbar-menu-button layout-topbar-button",onClick:r[1]||(r[1]=S=>f())},nt),t("div",{class:F(["layout-topbar-menu",n.value])},[x((u(),b("button",{class:"p-link layout-topbar-button",onClick:r[2]||(r[2]=S=>A(S))},[st,t("span",null,d(e(s)("topbar.language")),1)])),[[C,e(s)("topbar.language"),void 0,{bottom:!0}]]),L(W,{ref_key:"languageSelector",ref:h},null,512),x((u(),B(m,{to:"/event-monitor",class:"p-link layout-topbar-button"},{default:$(()=>[at,t("span",null,d(e(s)("menu.eventMonitor")),1)]),_:1})),[[C,e(s)("menu.eventMonitor"),void 0,{bottom:!0}]]),t("div",lt,[L(D,{refreshing:e(M)},null,8,["refreshing"])]),x((u(),b("button",{onClick:p,class:"p-link layout-topbar-button",disabled:e(M)},[ut,t("span",null,d(e(s)("topbar.refresh")),1)],8,rt)),[[C,e(s)("topbar.refresh"),void 0,{bottom:!0}]])],2)])}}};export{St as default};
