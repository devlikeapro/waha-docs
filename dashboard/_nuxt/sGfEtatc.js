import{u as I,_ as O}from"./8zR_9s5J.js";import{O as E,r as b,t as u,L as B,A as $,x as t,v,Y as P,N as e,U as R,aK as U,o as q,e as z,c as T,S as V,z as L,Q as x,y as _,$ as F,i as K,P as Q}from"./CJX7AtTl.js";import{useLayout as Y}from"./C0q2T5Qg.js";import{u as j}from"./BoTHEUMz.js";import G from"./DKYmVgiq.js";import H from"./C73LtYIP.js";import"./DZiS_xkF.js";import"./CDlw6piB.js";import"./C7NLapI8.js";import"./6_R7ESbk.js";import"./B5JXFYh4.js";import"./D1wgvCcy.js";import"./CN5EQrjg.js";import"./CYlRIbDY.js";const J={class:"language-options"},W={__name:"LanguageSelector",setup(N,{expose:l}){const{locale:i,locales:m}=E(),o=b(null),n={};for(const s of m.value)n[s.code]=s.name;console.log(m.value),console.log(n);const d=s=>{o.value.toggle(s)},c=localStorage.getItem("language")||"en";c&&n[c]&&(i.value=c);const f=s=>{i.value=s,localStorage.setItem("language",s),o.value.hide(),window.location.reload()};return l({toggle:d}),(s,w)=>{const y=G;return u(),B(e(H),{ref_key:"overlayPanel",ref:o,appendTo:"body"},{default:$(()=>[t("div",J,[(u(),v(R,null,P(n,(k,p)=>t("div",null,[(u(),B(y,{key:p,class:"language-option",onClick:h=>f(p),label:k,text:"",severity:e(i)===p?"success":"secondary",style:{width:"100%","text-align":"left"}},null,8,["onClick","label","severity"]))])),64))])]),_:1},512)}}},X={class:"layout-topbar"},Z=t("i",{class:"pi pi-bars"},null,-1),tt=[Z],et=["src"],ot=t("i",{class:"pi pi-ellipsis-v"},null,-1),nt=[ot],st=t("i",{class:"pi pi-globe",style:{color:"#38bdf8"}},null,-1),lt=t("i",{class:"pi pi-eye",style:{color:"#459e74"}},null,-1),at={class:"m-auto"},rt=["disabled"],ut=t("i",{class:"pi pi-refresh"},null,-1),St={__name:"AppTopbar",setup(N){const{t:l}=E(),{layoutConfig:i,onMenuToggle:m}=Y(),o=b(null),n=b(!1);U();const d=j();q(()=>{w()}),z(()=>{y()});const c=T(()=>`/dashboard/layout/images/${i.darkTheme.value?"logo-white":"logo-dark"}.svg`),f=()=>{n.value=!n.value},s=T(()=>({"layout-topbar-menu-mobile-active":n.value})),w=()=>{o.value||(o.value=a=>{k(a)&&(n.value=!1)},document.addEventListener("click",o.value))},y=()=>{o.value&&(document.removeEventListener("click",o),o.value=null)},k=a=>{if(!n.value)return;const r=document.querySelector(".layout-topbar-menu"),g=document.querySelector(".layout-topbar-menu-button");return!(r.isSameNode(a.target)||r.contains(a.target)||g.isSameNode(a.target)||g.contains(a.target))};function p(){I("store",async()=>await d.refresh())}const h=b(null),A=a=>{h.value.toggle(a)},{refreshing:M}=V(d);return(a,r)=>{const g=K("router-link"),D=O,C=Q("tooltip");return u(),v("div",X,[t("button",{class:"p-link layout-menu-button layout-topbar-button",onClick:r[0]||(r[0]=S=>e(m)())},tt),L(g,{to:"/",class:"layout-topbar-logo"},{default:$(()=>[t("img",{class:"mb-1",src:c.value,alt:"logo"},null,8,et),t("span",null,_(e(l)("topbar.logo")),1)]),_:1}),t("button",{class:"p-link layout-topbar-menu-button layout-topbar-button",onClick:r[1]||(r[1]=S=>f())},nt),t("div",{class:F(["layout-topbar-menu",s.value])},[x((u(),v("button",{class:"p-link layout-topbar-button",onClick:r[2]||(r[2]=S=>A(S))},[st,t("span",null,_(e(l)("topbar.language")),1)])),[[C,e(l)("topbar.language"),void 0,{bottom:!0}]]),L(W,{ref_key:"languageSelector",ref:h},null,512),x((u(),B(g,{to:"/event-monitor",class:"p-link layout-topbar-button"},{default:$(()=>[lt,t("span",null,_(e(l)("menu.eventMonitor")),1)]),_:1})),[[C,e(l)("menu.eventMonitor"),void 0,{bottom:!0}]]),t("div",at,[L(D,{refreshing:e(M)},null,8,["refreshing"])]),x((u(),v("button",{onClick:p,class:"p-link layout-topbar-button",disabled:e(M)},[ut,t("span",null,_(e(l)("topbar.refresh")),1)],8,rt)),[[C,e(l)("topbar.refresh"),void 0,{bottom:!0}]])],2)])}}};export{St as default};
