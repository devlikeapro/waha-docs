<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=preload as=font href=https://waha.devlike.pro/fonts/vendor/jost/jost-v4-latin-regular.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=https://waha.devlike.pro/fonts/vendor/jost/jost-v4-latin-500.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=https://waha.devlike.pro/fonts/vendor/jost/jost-v4-latin-700.woff2 type=font/woff2 crossorigin><script>(()=>{Object.keys(localStorage).forEach(function(e){/^global-alert-/.test(e)&&document.documentElement.setAttribute("data-global-alert","closed")})})()</script><link rel=stylesheet href=https://waha.devlike.pro/main.36a091074bd4ef6347716c1783514e27c0c20d05fd4c7c63a743a83056e7f0c4ae3a24d4927187f63b0d9f6f5d10e9a3c4bbe2faed3f3fca0891273de177f38b.css integrity="sha512-NqCRB0vU72NHcWwXg1FOJ8DCDQX9THxjp0OoMFbn8MSuOiTUknGH9jsNn29dEOmjxLvi+u0/P8oIkSc94Xfziw==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>üîÑ Webhooks - WAHA</title><meta name=description content="Webhooks, how to set up and handle them."><link rel=canonical href=https://waha.devlike.pro/docs/how-to/webhooks/><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:title" content="üîÑ Webhooks"><meta property="og:description" content="Webhooks, how to set up and handle them."><meta property="og:url" content="https://waha.devlike.pro/docs/how-to/webhooks/"><meta property="og:site_name" content="WAHA"><meta property="article:published_time" content="2020-10-06T08:48:45+00:00"><meta property="article:modified_time" content="2020-10-06T08:48:45+00:00"><meta property="og:image" content="https://waha.devlike.pro/images/logo.png"><meta property="og:image:alt" content="WAHA"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content><meta name=twitter:creator content><meta name=twitter:title content="üîÑ Webhooks"><meta name=twitter:description content="Webhooks, how to set up and handle them."><meta name=twitter:image content="https://waha.devlike.pro/images/logo.png"><meta name=twitter:image:alt content="üîÑ Webhooks"><script type=application/ld+json>{"@context":"https://schema.org","@graph":[{"@type":"Person","@id":"https://waha.devlike.pro/#/schema/person/1","name":"","url":"https://waha.devlike.pro/","sameAs":[],"image":{"@type":"ImageObject","@id":"https://waha.devlike.pro/#/schema/image/1","url":"https://waha.devlike.pro/\u003cnil\u003e","width":null,"height":null,"caption":""}},{"@type":"WebSite","@id":"https://waha.devlike.pro/#/schema/website/1","url":"https://waha.devlike.pro/","name":"WAHA","description":"WAHA - WhatsApp API that you can run in a click!","publisher":{"@id":"https://waha.devlike.pro/#/schema/person/1"}},{"@type":"WebPage","@id":"https://waha.devlike.pro/docs/how-to/webhooks/","url":"https://waha.devlike.pro/docs/how-to/webhooks/","name":"üîÑ Webhooks","description":"Webhooks, how to set up and handle them.","isPartOf":{"@id":"https://waha.devlike.pro/#/schema/website/1"},"about":{"@id":"https://waha.devlike.pro/#/schema/person/1"},"datePublished":"2020-10-06T08:48:45CET","dateModified":"2020-10-06T08:48:45CET","breadcrumb":{"@id":"https://waha.devlike.pro/docs/how-to/webhooks/#/schema/breadcrumb/1"},"primaryImageOfPage":{"@id":"https://waha.devlike.pro/docs/how-to/webhooks/#/schema/image/2"},"inLanguage":"","potentialAction":[{"@type":"ReadAction","target":["https://waha.devlike.pro/docs/how-to/webhooks/"]}]},{"@type":"BreadcrumbList","@id":"https://waha.devlike.pro/docs/how-to/webhooks/#/schema/breadcrumb/1","name":"Breadcrumbs","itemListElement":[{"@type":"ListItem","position":1,"item":{"@type":"WebPage","@id":"https://waha.devlike.pro/","url":"https://waha.devlike.pro/","name":"Home"}},{"@type":"ListItem","position":2,"item":{"@type":"WebPage","@id":"https://waha.devlike.pro/docs/","url":"https://waha.devlike.pro/docs/","name":"Docs"}},{"@type":"ListItem","position":3,"item":{"@type":"WebPage","@id":"https://waha.devlike.pro/docs/how-to/","url":"https://waha.devlike.pro/docs/how-to/","name":"How To"}},{"@type":"ListItem","position":4,"item":{"@id":"https://waha.devlike.pro/docs/how-to/webhooks/"}}]},{"@context":"https://schema.org","@graph":[{"@type":"Article","@id":"https://waha.devlike.pro/#/schema/article/1","headline":"üîÑ Webhooks","description":"Webhooks, how to set up and handle them.","isPartOf":{"@id":"https://waha.devlike.pro/docs/how-to/webhooks/"},"mainEntityOfPage":{"@id":"https://waha.devlike.pro/docs/how-to/webhooks/"},"datePublished":"2020-10-06T08:48:45CET","dateModified":"2020-10-06T08:48:45CET","author":{"@id":"https://waha.devlike.pro/#/schema/person/2"},"publisher":{"@id":"https://waha.devlike.pro/#/schema/person/1"},"image":{"@id":"https://waha.devlike.pro/docs/how-to/webhooks/#/schema/image/2"}}]},{"@context":"https://schema.org","@graph":[{"@type":"Person","@id":"https://waha.devlike.pro/#/schema/person/2","name":null,"sameAs":[]}]},{"@context":"https://schema.org","@graph":[{"@type":"ImageObject","@id":"https://waha.devlike.pro/docs/how-to/webhooks/#/schema/image/2","url":"https://waha.devlike.pro/images/logo.png","contentUrl":"https://waha.devlike.pro/images/logo.png","caption":"üîÑ Webhooks"}]}]}</script><meta name=theme-color content="#fff"><link rel=icon href=https://waha.devlike.pro/favicon.ico sizes=any><link rel=apple-touch-icon sizes=180x180 href=https://waha.devlike.pro/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://waha.devlike.pro/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://waha.devlike.pro/favicon-16x16.png><link rel=manifest crossorigin=use-credentials href=https://waha.devlike.pro/site.webmanifest><script type=text/javascript>(function(e,t,n,s,o,i,a){e[o]=e[o]||function(){(e[o].a=e[o].a||[]).push(arguments)},e[o].l=1*new Date;for(var r=0;r<document.scripts.length;r++)if(document.scripts[r].src===s)return;i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)})(window,document,"script","https://mc.yandex.ru/metrika/tag.js","ym"),ym(91185978,"init",{clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!0})</script><noscript><div><img src=https://mc.yandex.ru/watch/91185978 style=position:absolute;left:-9999px alt></div></noscript><script async src='https://www.googletagmanager.com/gtag/js?id=G-2XLLXRJ1KF'></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-2XLLXRJ1KF")</script><style>.pros-card{border:1px solid #e9ecef;border-radius:.5rem;padding:1.5rem;margin:1rem;background-color:#fff;box-shadow:0 0 1rem rgba(0,0,0,.1)}.article-card{border:1px solid #e9ecef;border-radius:.5rem;padding:1.5rem;background-color:#fff;box-shadow:0 0 1rem #4aae2050}.hr{border-top:1px solid #e9ecef}.pros-card-wide{border:1px solid #e9ecef;border-radius:.5rem;padding:1.5rem;margin:1rem;min-width:25rem;background-color:#fff;box-shadow:0 0 1rem rgba(0,0,0,.1)}.pros-card--highlighted{background-color:#fff;box-shadow:0 0 1.5rem #4aae2050}.tier-pros>*{margin:.5rem 0;text-align:left}.table-highlight-first-column td:nth-child(1){font-weight:700}</style></head><body class="docs single"><div id=announcement data-id=global-alert-85acdd92043e3347d7c5dabd4ebda1c7 class="alert alert-primary alert-dismissible fade show text-lg-center" role=alert>üì¢ <a class="alert-link stretched-link" href=https://waha.devlike.pro/docs/how-to/waha-dashboard/>WAHA Dashboard - UI to manage your WhatsApp sessions!</a> üì¢
<button type=button class=btn-close data-bs-dismiss=alert aria-label=Close></button></div><div class=sticky-top><div class=header-bar></div><header class="navbar navbar-expand-lg navbar-light doks-navbar"><nav class="container-xxl flex-wrap flex-lg-nowrap" aria-label="Main navigation"><a class="navbar-brand order-0" href=/ aria-label=WAHA>WAHA</a>
<button class="btn btn-link order-0 ms-auto d-lg-none" type=button data-bs-toggle=offcanvas data-bs-target=#offcanvasExample aria-controls=offcanvasExample><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-more-horizontal"><circle cx="12" cy="12" r="1"/><circle cx="19" cy="12" r="1"/><circle cx="5" cy="12" r="1"/></svg></button><div class="offcanvas offcanvas-start d-lg-none" tabindex=-1 id=offcanvasExample aria-labelledby=offcanvasExampleLabel><div class=header-bar></div><div class=offcanvas-header><h5 class=offcanvas-title id=offcanvasExampleLabel>Browse docs</h5><button type=button class=btn-close data-bs-dismiss=offcanvas aria-label=Close></button></div><div class=offcanvas-body><aside class="doks-sidebar mt-n3"><nav id=doks-docs-nav aria-label="Tertiary navigation"><h3 class="h6 text-uppercase mb-2">Overview</h3><ul class=list-unstyled><li><a class=docs-link href=https://waha.devlike.pro/docs/overview/introduction/>üìñ Introduction</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/overview/quick-start/>‚ö° Quick Start</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/overview/how-to-avoid-blocking/>‚ö†Ô∏è How to Avoid Blocking</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/overview/faq/>‚ùì FAQ</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/overview/changelog/>üîÑ Changelog</a></li></ul><h3 class="h6 text-uppercase mb-2">How-to guides</h3><ul class=list-unstyled><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/install/>üîß Install</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/waha-dashboard/>üìä Dashboard</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/swagger/>üìö Swagger (OpenAPI)</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/send-messages/>üì§ Send messages</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/receive-messages/>üì• Receive messages</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/sessions/>üñ•Ô∏è Sessions</a></li><li><a class="docs-link active" href=https://waha.devlike.pro/docs/how-to/webhooks/>üîÑ Webhooks</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/proxy/>üåê Proxy</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/polls/>üì∂ Polls</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/chats/>üí¨ Chats</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/contacts/>üë§ Contacts</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/channels/>üì∞ Channels</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/status/>üü¢ Status</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/groups/>üë• Groups</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/engines/>üè≠ Engines</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/presence/>‚úÖ Presence</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/config/>‚öôÔ∏è Configuration</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/observability/>üîç Observability</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/deploy/>üöÄ Deploy</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/security/>üîí Security</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/storages/>üóÑÔ∏è Storages</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/plus-version/>‚ûï WAHA Plus</a></li></ul><h3 class="h6 text-uppercase mb-2">üè≠ Engines</h3><ul class=list-unstyled><li><a class=docs-link href=https://waha.devlike.pro/docs/engines/webjs/>WEBJS</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/engines/noweb/>NOWEB</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/engines/venom/>VENOM</a></li></ul><h3 class="h6 text-uppercase mb-2">üß© Examples</h3><ul class=list-unstyled><li><a class=docs-link href=https://waha.devlike.pro/docs/examples/python/>Python</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/examples/kotlin/>Kotlin</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/examples/live-helper-chat/>Live Helper Chat</a></li></ul></nav></aside></div></div><button class="btn btn-menu order-2 d-block d-lg-none" type=button data-bs-toggle=offcanvas data-bs-target=#offcanvasDoks aria-controls=offcanvasDoks aria-label="Open main menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button><div class="offcanvas offcanvas-end border-0 py-lg-1" tabindex=-1 id=offcanvasDoks data-bs-backdrop=true aria-labelledby=offcanvasDoksLabel><div class="header-bar d-lg-none"></div><div class="offcanvas-header d-lg-none"><h2 class="h5 offcanvas-title ps-2" id=offcanvasDoksLabel><a class=text-dark href=/>WAHA</a></h2><button type=button class="btn-close text-reset me-2" data-bs-dismiss=offcanvas aria-label="Close main menu"></button></div><div class="offcanvas-body p-4 p-lg-0"><ul class="nav flex-column flex-lg-row align-items-lg-center mt-2 mt-lg-0 ms-lg-2 me-lg-auto"><li class=nav-item><a class="nav-link ps-0 py-1" href=/docs/overview/quick-start>‚ö° Quick Start</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle ps-0 py-1" href=# id=navbarDropdownMenuLink role=button data-bs-toggle=dropdown aria-expanded=false>Documentation
<span class=dropdown-caret><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-down"><polyline points="6 9 12 15 18 9"/></svg></span></a><ul class="dropdown-menu dropdown-menu-main shadow rounded border-0" aria-labelledby=navbarDropdownMenuLink><li><a class=dropdown-item href=/docs/overview>üìÑ Overview</a></li><li><a class=dropdown-item href=/docs/how-to>üîç How to guides</a></li><li><a class=dropdown-item href=/docs/engines>üè≠ Engines</a></li><li><a class=dropdown-item href=/docs/examples>üß© Examples</a></li><li><a class=dropdown-item href=/dashboard>Dashboard -></a></li><li><a class=dropdown-item href=/swagger>Swagger -></a></li><li><a class=dropdown-item href="https://www.postman.com/devlikeapro/workspace/waha/collection/35390377-42210829-5a92-45c5-a001-6a453c5d764a?action=share&creator=35390377">Postman -></a></li><li><a class=dropdown-item href=/swagger/openapi.json>OpenAPI JSON -></a></li></ul></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle ps-0 py-1" href=# id=navbarDropdownMenuLink role=button data-bs-toggle=dropdown aria-expanded=false>Plus
<span class=dropdown-caret><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-down"><polyline points="6 9 12 15 18 9"/></svg></span></a><ul class="dropdown-menu dropdown-menu-main shadow rounded border-0" aria-labelledby=navbarDropdownMenuLink><li><a class=dropdown-item href=/docs/how-to/plus-version>‚ûï WAHA Plus</a></li><li><a class=dropdown-item href=https://portal.devlike.pro/>Patron Portal -></a></li><li><a class=dropdown-item href=https://boosty.to/wa-http-api>Get on Boosty -></a></li><li><a class=dropdown-item href=https://patreon.com/wa_http_api>Get on Patreon -></a></li></ul></li><li class=nav-item><a class="nav-link ps-0 py-1" href=/blog>Blog</a></li><li class=nav-item><a class="nav-link ps-0 py-1" href=/pricing>Pricing</a></li><li class=nav-item><a class="nav-link ps-0 py-1" href=/contact>Contact</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle ps-0 py-1" href=# id=navbarDropdownMenuLink role=button data-bs-toggle=dropdown aria-expanded=false>üåç Language
<span class=dropdown-caret><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-down"><polyline points="6 9 12 15 18 9"/></svg></span></a><ul class="dropdown-menu dropdown-menu-main shadow rounded border-0" aria-labelledby=navbarDropdownMenuLink><li><a class=dropdown-item href="https://translate.google.com/translate?sl=en&tl=ar&hl=ar&u=https://waha.devlike.pro/&client=webapp">üá¶üá™ ÿßŸÑÿπÿ±ÿ®Ÿäÿ© (Arabic)</a></li><li><a class=dropdown-item href="https://translate.google.com/translate?sl=en&tl=bn&hl=bn&u=https://waha.devlike.pro/&client=webapp">üáßüá© ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ (Bengali)</a></li><li><a class=dropdown-item href="https://translate.google.com/translate?sl=en&tl=pt&hl=pt&u=https://waha.devlike.pro/&client=webapp">üáßüá∑üáµüáπ Portugu√™s (Portuguese)</a></li><li><a class=dropdown-item href="https://translate.google.com/translate?sl=en&tl=es&hl=es&u=https://waha.devlike.pro/&client=webapp">üá™üá∏ Espa√±ol (Spanish)</a></li><li><a class=dropdown-item href="https://translate.google.com/translate?sl=en&tl=fr&hl=fr&u=https://waha.devlike.pro/&client=webapp">üá´üá∑ Fran√ßais (French)</a></li><li><a class=dropdown-item href=/>üá¨üáß English (English)</a></li><li><a class=dropdown-item href="https://translate.google.com/translate?sl=en&tl=id&hl=id&u=https://waha.devlike.pro/&client=webapp">üáÆüá© Bahasa Indonesia (Indonesian)</a></li><li><a class=dropdown-item href="https://translate.google.com/translate?sl=en&tl=hi&hl=hi&u=https://waha.devlike.pro/&client=webapp">üáÆüá≥ ‡§π‡§ø‡§Ç‡§¶‡•Ä (Hindi)</a></li><li><a class=dropdown-item href="https://translate.google.com/translate?sl=en&tl=fa&hl=fa&u=https://waha.devlike.pro/&client=webapp">üáÆüá∑ ŸÅÿßÿ±ÿ≥€å (Persian)</a></li><li><a class=dropdown-item href="https://translate.google.com/translate?sl=en&tl=pa&hl=pa&u=https://waha.devlike.pro/&client=webapp">üáµüá∞ ‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä (Punjabi)</a></li><li><a class=dropdown-item href="https://translate.google.com/translate?sl=en&tl=ru&hl=ru&u=https://waha.devlike.pro/&client=webapp">üá∑üá∫ –†—É—Å—Å–∫–∏–π (Russian)</a></li><li><a class=dropdown-item href="https://translate.google.com/translate?sl=en&tl=tr&hl=tr&u=https://waha.devlike.pro/&client=webapp">üáπüá∑ T√ºrk√ße (Turkish)</a></li><li><a class=dropdown-item href="https://translate.google.com/translate?sl=en&tl=uk&hl=uk&u=https://waha.devlike.pro/&client=webapp">üá∫üá¶ –£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ (Ukrainian)</a></li></ul></li></ul><hr class="text-black-50 my-4 d-lg-none"><form class="doks-search position-relative flex-grow-1 ms-lg-auto me-lg-2"><input id=search class="form-control is-search" type=search placeholder="Search docs..." aria-label="Search docs..." autocomplete=off><div id=suggestions class="shadow bg-white rounded d-none"></div></form><hr class="text-black-50 my-4 d-lg-none"><ul class="nav flex-column flex-lg-row"><li class=nav-item><a class="nav-link social-link" href=https://github.com/devlikeapro/waha><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg><small class="ms-2 d-lg-none">GitHub</small></a></li></ul></div></div></nav></header></div><div class=container-xxl><aside class=doks-sidebar><nav id=doks-docs-nav class="collapse d-lg-none" aria-label="Tertiary navigation"><h3 class="h6 text-uppercase mb-2">Overview</h3><ul class=list-unstyled><li><a class=docs-link href=https://waha.devlike.pro/docs/overview/introduction/>üìñ Introduction</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/overview/quick-start/>‚ö° Quick Start</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/overview/how-to-avoid-blocking/>‚ö†Ô∏è How to Avoid Blocking</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/overview/faq/>‚ùì FAQ</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/overview/changelog/>üîÑ Changelog</a></li></ul><h3 class="h6 text-uppercase mb-2">How-to guides</h3><ul class=list-unstyled><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/install/>üîß Install</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/waha-dashboard/>üìä Dashboard</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/swagger/>üìö Swagger (OpenAPI)</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/send-messages/>üì§ Send messages</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/receive-messages/>üì• Receive messages</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/sessions/>üñ•Ô∏è Sessions</a></li><li><a class="docs-link active" href=https://waha.devlike.pro/docs/how-to/webhooks/>üîÑ Webhooks</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/proxy/>üåê Proxy</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/polls/>üì∂ Polls</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/chats/>üí¨ Chats</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/contacts/>üë§ Contacts</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/channels/>üì∞ Channels</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/status/>üü¢ Status</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/groups/>üë• Groups</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/engines/>üè≠ Engines</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/presence/>‚úÖ Presence</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/config/>‚öôÔ∏è Configuration</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/observability/>üîç Observability</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/deploy/>üöÄ Deploy</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/security/>üîí Security</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/storages/>üóÑÔ∏è Storages</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/plus-version/>‚ûï WAHA Plus</a></li></ul><h3 class="h6 text-uppercase mb-2">üè≠ Engines</h3><ul class=list-unstyled><li><a class=docs-link href=https://waha.devlike.pro/docs/engines/webjs/>WEBJS</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/engines/noweb/>NOWEB</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/engines/venom/>VENOM</a></li></ul><h3 class="h6 text-uppercase mb-2">üß© Examples</h3><ul class=list-unstyled><li><a class=docs-link href=https://waha.devlike.pro/docs/examples/python/>Python</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/examples/kotlin/>Kotlin</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/examples/live-helper-chat/>Live Helper Chat</a></li></ul></nav></aside></div><div class="wrap container-xxl" role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 docs-sidebar d-none d-lg-block"><nav id=sidebar-default class=docs-links aria-label="Main navigation"><h3 class="h6 text-uppercase mb-2">Overview</h3><ul class=list-unstyled><li><a class=docs-link href=https://waha.devlike.pro/docs/overview/introduction/>üìñ Introduction</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/overview/quick-start/>‚ö° Quick Start</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/overview/how-to-avoid-blocking/>‚ö†Ô∏è How to Avoid Blocking</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/overview/faq/>‚ùì FAQ</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/overview/changelog/>üîÑ Changelog</a></li></ul><h3 class="h6 text-uppercase mb-2">How-to guides</h3><ul class=list-unstyled><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/install/>üîß Install</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/waha-dashboard/>üìä Dashboard</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/swagger/>üìö Swagger (OpenAPI)</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/send-messages/>üì§ Send messages</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/receive-messages/>üì• Receive messages</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/sessions/>üñ•Ô∏è Sessions</a></li><li><a class="docs-link active" href=https://waha.devlike.pro/docs/how-to/webhooks/>üîÑ Webhooks</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/proxy/>üåê Proxy</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/polls/>üì∂ Polls</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/chats/>üí¨ Chats</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/contacts/>üë§ Contacts</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/channels/>üì∞ Channels</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/status/>üü¢ Status</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/groups/>üë• Groups</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/engines/>üè≠ Engines</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/presence/>‚úÖ Presence</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/config/>‚öôÔ∏è Configuration</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/observability/>üîç Observability</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/deploy/>üöÄ Deploy</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/security/>üîí Security</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/storages/>üóÑÔ∏è Storages</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/how-to/plus-version/>‚ûï WAHA Plus</a></li></ul><h3 class="h6 text-uppercase mb-2">üè≠ Engines</h3><ul class=list-unstyled><li><a class=docs-link href=https://waha.devlike.pro/docs/engines/webjs/>WEBJS</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/engines/noweb/>NOWEB</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/engines/venom/>VENOM</a></li></ul><h3 class="h6 text-uppercase mb-2">üß© Examples</h3><ul class=list-unstyled><li><a class=docs-link href=https://waha.devlike.pro/docs/examples/python/>Python</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/examples/kotlin/>Kotlin</a></li><li><a class=docs-link href=https://waha.devlike.pro/docs/examples/live-helper-chat/>Live Helper Chat</a></li></ul></nav></div><nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation"><div class=d-xl-none><button class="btn btn-outline-primary btn-sm doks-toc-toggle collapsed" type=button data-bs-toggle=collapse data-bs-target=#onThisPage aria-controls=doks-docs-nav aria-expanded=false aria-label="Toggle On this page navigation">
<span>On this page</span>
<span><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="doks doks-expand" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Expand</title><polyline points="7 13 12 18 17 13"/><polyline points="7 6 12 11 17 6"/></svg><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="doks doks-collapse" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Collapse</title><polyline points="17 11 12 6 7 11"/><polyline points="17 18 12 13 7 18"/></svg></span></button><div class=collapse id=onThisPage><div class="card card-body mt-3 py-1"><div class=page-links><nav id=TableOfContents><ul><li><a href=#setup>Setup</a><ul><li><a href=#session-webhooks>Session webhooks</a></li><li><a href=#global-webhooks>Global webhooks</a></li><li><a href=#connect-websockets>Connect Websockets</a></li></ul></li><li><a href=#webhook-payload>Webhook payload</a></li><li><a href=#webhooks>Webhooks</a><ul><li><a href=#sessionstatus>session.status</a></li><li><a href=#message>message</a></li><li><a href=#messageany>message.any</a></li><li><a href=#messagereaction>message.reaction</a></li><li><a href=#messageack>message.ack</a></li><li><a href=#messagerevoked>message.revoked</a></li><li><a href=#statechange>state.change</a></li><li><a href=#groupjoin>group.join</a></li><li><a href=#groupleave>group.leave</a></li><li><a href=#presenceupdate>presence.update</a></li><li><a href=#pollvote>poll.vote</a></li><li><a href=#pollvotefailed>poll.vote.failed</a></li></ul></li><li><a href=#webhooks-advanced-imagesversionspluspng>Webhooks Advanced <img src=/images/versions/plus.png alt></a><ul><li><a href=#hmac-authentication>HMAC authentication</a></li><li><a href=#retries>Retries</a></li><li><a href=#custom-headers>Custom Headers</a></li></ul></li><li><a href=#websockets>Websockets</a></li><li><a href=#examples>Examples</a></li></ul></nav></div></div></div></div><div class="page-links d-none d-xl-block"><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=#setup>Setup</a><ul><li><a href=#session-webhooks>Session webhooks</a></li><li><a href=#global-webhooks>Global webhooks</a></li><li><a href=#connect-websockets>Connect Websockets</a></li></ul></li><li><a href=#webhook-payload>Webhook payload</a></li><li><a href=#webhooks>Webhooks</a><ul><li><a href=#sessionstatus>session.status</a></li><li><a href=#message>message</a></li><li><a href=#messageany>message.any</a></li><li><a href=#messagereaction>message.reaction</a></li><li><a href=#messageack>message.ack</a></li><li><a href=#messagerevoked>message.revoked</a></li><li><a href=#statechange>state.change</a></li><li><a href=#groupjoin>group.join</a></li><li><a href=#groupleave>group.leave</a></li><li><a href=#presenceupdate>presence.update</a></li><li><a href=#pollvote>poll.vote</a></li><li><a href=#pollvotefailed>poll.vote.failed</a></li></ul></li><li><a href=#webhooks-advanced-imagesversionspluspng>Webhooks Advanced <img src=/images/versions/plus.png alt></a><ul><li><a href=#hmac-authentication>HMAC authentication</a></li><li><a href=#retries>Retries</a></li><li><a href=#custom-headers>Custom Headers</a></li></ul></li><li><a href=#websockets>Websockets</a></li><li><a href=#examples>Examples</a></li></ul></nav></div></nav><main class="docs-content col-lg-11 col-xl-9 mx-xl-auto"><h1>üîÑ Webhooks</h1><p class=lead></p><nav class=d-xl-none aria-label="Quaternary navigation"><div class=d-xl-none><button class="btn btn-outline-primary btn-sm doks-toc-toggle collapsed" type=button data-bs-toggle=collapse data-bs-target=#onThisPage aria-controls=doks-docs-nav aria-expanded=false aria-label="Toggle On this page navigation">
<span>On this page</span>
<span><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="doks doks-expand" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Expand</title><polyline points="7 13 12 18 17 13"/><polyline points="7 6 12 11 17 6"/></svg><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="doks doks-collapse" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Collapse</title><polyline points="17 11 12 6 7 11"/><polyline points="17 18 12 13 7 18"/></svg></span></button><div class=collapse id=onThisPage><div class="card card-body mt-3 py-1"><div class=page-links><nav id=TableOfContents><ul><li><a href=#setup>Setup</a><ul><li><a href=#session-webhooks>Session webhooks</a></li><li><a href=#global-webhooks>Global webhooks</a></li><li><a href=#connect-websockets>Connect Websockets</a></li></ul></li><li><a href=#webhook-payload>Webhook payload</a></li><li><a href=#webhooks>Webhooks</a><ul><li><a href=#sessionstatus>session.status</a></li><li><a href=#message>message</a></li><li><a href=#messageany>message.any</a></li><li><a href=#messagereaction>message.reaction</a></li><li><a href=#messageack>message.ack</a></li><li><a href=#messagerevoked>message.revoked</a></li><li><a href=#statechange>state.change</a></li><li><a href=#groupjoin>group.join</a></li><li><a href=#groupleave>group.leave</a></li><li><a href=#presenceupdate>presence.update</a></li><li><a href=#pollvote>poll.vote</a></li><li><a href=#pollvotefailed>poll.vote.failed</a></li></ul></li><li><a href=#webhooks-advanced-imagesversionspluspng>Webhooks Advanced <img src=/images/versions/plus.png alt></a><ul><li><a href=#hmac-authentication>HMAC authentication</a></li><li><a href=#retries>Retries</a></li><li><a href=#custom-headers>Custom Headers</a></li></ul></li><li><a href=#websockets>Websockets</a></li><li><a href=#examples>Examples</a></li></ul></nav></div></div></div></div><div class="page-links d-none d-xl-block"><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=#setup>Setup</a><ul><li><a href=#session-webhooks>Session webhooks</a></li><li><a href=#global-webhooks>Global webhooks</a></li><li><a href=#connect-websockets>Connect Websockets</a></li></ul></li><li><a href=#webhook-payload>Webhook payload</a></li><li><a href=#webhooks>Webhooks</a><ul><li><a href=#sessionstatus>session.status</a></li><li><a href=#message>message</a></li><li><a href=#messageany>message.any</a></li><li><a href=#messagereaction>message.reaction</a></li><li><a href=#messageack>message.ack</a></li><li><a href=#messagerevoked>message.revoked</a></li><li><a href=#statechange>state.change</a></li><li><a href=#groupjoin>group.join</a></li><li><a href=#groupleave>group.leave</a></li><li><a href=#presenceupdate>presence.update</a></li><li><a href=#pollvote>poll.vote</a></li><li><a href=#pollvotefailed>poll.vote.failed</a></li></ul></li><li><a href=#webhooks-advanced-imagesversionspluspng>Webhooks Advanced <img src=/images/versions/plus.png alt></a><ul><li><a href=#hmac-authentication>HMAC authentication</a></li><li><a href=#retries>Retries</a></li><li><a href=#custom-headers>Custom Headers</a></li></ul></li><li><a href=#websockets>Websockets</a></li><li><a href=#examples>Examples</a></li></ul></nav></div></nav><p>The project uses
<a href=https://en.wikipedia.org/wiki/Webhook>Webhooks</a> and <a href=https://en.wikipedia.org/wiki/WebSocket>Websockets</a>
to notify your application about the messages and events from WhatsApp.</p><p><img class="img-fluid lazyload blur-up" srcset="/docs/how-to/webhooks/webhooks_hu12ecdb4a667ea223b9ff098a7d1c92e3_29465_02b2f10b68ae6027ae517a15e4ddb4c1.webp 480w, /docs/how-to/webhooks/webhooks_hu12ecdb4a667ea223b9ff098a7d1c92e3_29465_29d50310bf1932bb37ee3cfea1be45d3.webp 720w, /docs/how-to/webhooks/webhooks_hu12ecdb4a667ea223b9ff098a7d1c92e3_29465_6cedf3a24448262b0bdd2ef2e0f134af.webp 1080w, /docs/how-to/webhooks/webhooks_hu12ecdb4a667ea223b9ff098a7d1c92e3_29465_1210x0_resize_q75_h2_box_3.webp 1210w" sizes=80vw src=/docs/how-to/webhooks/webhooks_hu12ecdb4a667ea223b9ff098a7d1c92e3_29465_1210x0_resize_q75_h2_box_3.webp width=1210 height=693></p><p>Webhooks are a way for two different applications to communicate with each other in real-time.
When a certain event happens in one application, it sends a message to another application through a webhook URL.
The receiving application can then take action based on the information received.</p><h2 id=setup>Setup <a href=#setup class=anchor aria-hidden=true>#</a></h2><h3 id=session-webhooks>Session webhooks <a href=#session-webhooks class=anchor aria-hidden=true>#</a></h3><p>You can define webhooks configuration per session when you start it with <code>POST /api/sessions/start</code> request data.</p><p>Here&rsquo;s a simple example:</p><pre><code class=language-json>{
  &quot;name&quot;: &quot;default&quot;,
  &quot;config&quot;: {
    &quot;webhooks&quot;: [
      {
        &quot;url&quot;: &quot;https://webhook.site/11111111-1111-1111-1111-11111111&quot;,
        &quot;events&quot;: [
          &quot;message&quot;
        ]
      }
    ]
  }
}

</code></pre><p>Here&rsquo;s available configuration options for webhooks</p><pre><code class=language-json>{
  &quot;name&quot;: &quot;default&quot;,
  &quot;config&quot;: {
    &quot;webhooks&quot;: [
      {
        &quot;url&quot;: &quot;https://webhook.site/11111111-1111-1111-1111-11111111&quot;,
        &quot;events&quot;: [
          &quot;message&quot;
        ],
        &quot;hmac&quot;: {
          &quot;key&quot;: &quot;your-secret-key&quot;
        },
        &quot;retries&quot;: {
          &quot;delaySeconds&quot;: 2,
          &quot;attempts&quot;: 15
        },
        &quot;customHeaders&quot;: [
          {
            &quot;name&quot;: &quot;X-My-Custom-Header&quot;,
            &quot;value&quot;: &quot;Value&quot;
          }
        ]
      }
    ]
  }
}
</code></pre><h3 id=global-webhooks>Global webhooks <a href=#global-webhooks class=anchor aria-hidden=true>#</a></h3><p>There&rsquo;s a way how you can configure webhooks for ALL sessions - by settings these environment variables:</p><ul><li><code>WHATSAPP_HOOK_URL=https://webhook.site/11111111-1111-1111-1111-11111111</code> - to set up a URL for the webhook</li><li><code>WHATSAPP_HOOK_EVENTS=message,message.any,state.change</code> - specify events. Do not specify all of
them, it&rsquo;s too heavy payload, choose the right for you.</li><li><code>WHATSAPP_HOOK_EVENTS=*</code> - subscribe to all events. It&rsquo;s not recommended for production, but it&rsquo;s fine for
development.</li></ul><p>That webhook configuration <strong>does not appear</strong> in <code>session.config</code> field in <code>GET /api/sessions/</code> request.</p><h3 id=connect-websockets>Connect Websockets <a href=#connect-websockets class=anchor aria-hidden=true>#</a></h3><p>Alternatively, you can use Websockets to receive messages in real-time.</p><pre><code class=language-bash>websocat -E ws://localhost:3000/ws
</code></pre><p>üëâ Read more about it in the <a href=#websockets><strong>Websockets section</strong></a> below.</p><h2 id=webhook-payload>Webhook payload <a href=#webhook-payload class=anchor aria-hidden=true>#</a></h2><p>On the URL that you set you&rsquo;ll receive <strong>HTTP POST</strong> request with a JSON string with following format:</p><pre><code class=language-json>{
  &quot;event&quot;: &quot;message&quot;,
  &quot;session&quot;: &quot;default&quot;,
  &quot;engine&quot;: &quot;WEBJS&quot;,
  &quot;environment&quot;: {
    &quot;tier&quot;: &quot;PLUS&quot;,
    &quot;version&quot;: &quot;2023.10.12&quot;
  },
  &quot;me&quot;: {
    &quot;id&quot;: &quot;71111111111@c.us&quot;,
    &quot;pushName&quot;: &quot;~&quot;
  },
  &quot;payload&quot;: {
  }
}
</code></pre><p>Where <code>event</code> value helps you identify the incoming event with <code>payload</code> for that events.</p><p>Below the list of all events that WhatsApp API sends to your.</p><p>üí° You can open <a href=https://webhook.site>https://webhook.site</a> and paste UUID from it to <code>url</code> field,
and you&rsquo;ll see all requests immediately in your browser to intercept the webhook&rsquo;s payload.</p><p>Run the bellow command and see look at the logs - it prints body request for all events that happen in your WhatsApp!</p><pre><code class=language-bash>docker run -it -e &quot;WHATSAPP_HOOK_EVENTS=*&quot; -e WHATSAPP_HOOK_URL=https://webhook.site/11111111-1111-1111-1111-11111111 -p 3000:3000 devlikeapro/waha
</code></pre><h2 id=webhooks>Webhooks <a href=#webhooks class=anchor aria-hidden=true>#</a></h2><p>See the list of engines <a href=/docs/how-to/engines/#features><strong>that support the features -></strong></a>.</p><h3 id=sessionstatus>session.status <a href=#sessionstatus class=anchor aria-hidden=true>#</a></h3><p>The <code>session.status</code> event is triggered when the session status changes.</p><ul><li><code>STOPPED</code> - session is stopped</li><li><code>STARTING</code> - session is starting</li><li><code>SCAN_QR_CODE</code> - session is required to scan QR code or login via phone number<ul><li>When you receive the <code>session.status</code> event with <code>SCAN_QR_CODE</code> status, you can <a href=/docs/how-to/sessions/#get-qr><strong>fetch updated QR -></strong></a></li><li>The <code>SCAN_QR_CODE</code> is issued every time when QR updated (WhatsApp requirements)</li></ul></li><li><code>WORKING</code> - session is working and ready to use</li><li><code>FAILED</code> - session is failed due to some error. It&rsquo;s likely that authorization is required again or device has been disconnected from that account.
Try to restart the session and if it doesn&rsquo;t help - logout and start the session again.</li></ul><pre><code class=language-json>{
    &quot;event&quot;: &quot;session.status&quot;,
    &quot;session&quot;: &quot;default&quot;,
    &quot;me&quot;: {
        &quot;id&quot;: &quot;7911111@c.us&quot;,
        &quot;pushName&quot;: &quot;~&quot;
    },
    &quot;payload&quot;: {
        &quot;status&quot;: &quot;WORKING&quot;
    },
    &quot;engine&quot;: &quot;WEBJS&quot;,
    &quot;environment&quot;: {
        &quot;version&quot;: &quot;2023.10.12&quot;,
        &quot;engine&quot;: &quot;WEBJS&quot;,
        &quot;tier&quot;: &quot;PLUS&quot;
    }
}
</code></pre><h3 id=message>message <a href=#message class=anchor aria-hidden=true>#</a></h3><p>Incoming message (text/audio/files)</p><pre><code class=language-json>{
  &quot;event&quot;: &quot;message&quot;,
  &quot;session&quot;: &quot;default&quot;,
  &quot;engine&quot;: &quot;WEBJS&quot;,
  &quot;payload&quot;: {
    &quot;id&quot;: &quot;true_11111111111@c.us_AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA&quot;,
    &quot;timestamp&quot;: 1667561485,
    &quot;from&quot;: &quot;11111111111@c.us&quot;,
    &quot;fromMe&quot;: true,
    &quot;to&quot;: &quot;11111111111@c.us&quot;,
    &quot;body&quot;: &quot;Hi there!&quot;,
    &quot;hasMedia&quot;: false,
    &quot;ack&quot;: 1,
    &quot;vCards&quot;: [],
    &quot;_data&quot;: {
      &quot;id&quot;: {
        &quot;fromMe&quot;: true,
        &quot;remote&quot;: &quot;11111111111@c.us&quot;,
        &quot;id&quot;: &quot;AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA&quot;,
        &quot;_serialized&quot;: &quot;true_11111111111@c.us_AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA&quot;
      },
      &quot;body&quot;: &quot;Hi there!&quot;,
      &quot;type&quot;: &quot;chat&quot;,
      &quot;t&quot;: 1667561485,
      &quot;notifyName&quot;: &quot;MyName&quot;,
      &quot;from&quot;: &quot;11111111111@c.us&quot;,
      &quot;to&quot;: &quot;11111111111@c.us&quot;,
      &quot;self&quot;: &quot;in&quot;,
      &quot;ack&quot;: 1,
      &quot;isNewMsg&quot;: true,
      &quot;star&quot;: false,
      &quot;kicNotified&quot;: false,
      &quot;recvFresh&quot;: true,
      &quot;isFromTemplate&quot;: false,
      &quot;pollInvalidated&quot;: false,
      &quot;latestEditMsgKey&quot;: null,
      &quot;latestEditSenderTimestampMs&quot;: null,
      &quot;broadcast&quot;: false,
      &quot;mentionedJidList&quot;: [],
      &quot;isVcardOverMmsDocument&quot;: false,
      &quot;isForwarded&quot;: false,
      &quot;hasReaction&quot;: false,
      &quot;ephemeralOutOfSync&quot;: false,
      &quot;productHeaderImageRejected&quot;: false,
      &quot;lastPlaybackProgress&quot;: 0,
      &quot;isDynamicReplyButtonsMsg&quot;: false,
      &quot;isMdHistoryMsg&quot;: false,
      &quot;stickerSentTs&quot;: 0,
      &quot;isAvatar&quot;: false,
      &quot;requiresDirectConnection&quot;: false,
      &quot;pttForwardedFeaturesEnabled&quot;: true,
      &quot;isEphemeral&quot;: false,
      &quot;isStatusV3&quot;: false,
      &quot;links&quot;: []
    }
  }
}
</code></pre><h3 id=messageany>message.any <a href=#messageany class=anchor aria-hidden=true>#</a></h3><p>Fired on all message creations, including your own. The payload is the same as for <a href=#message>message</a> event.</p><pre><code class=language-json>{
  &quot;event&quot;: &quot;message.any&quot;,
  &quot;session&quot;: &quot;default&quot;,
  &quot;engine&quot;: &quot;WEBJS&quot;,
  &quot;payload&quot;: {
    ...
  }
}
</code></pre><h3 id=messagereaction>message.reaction <a href=#messagereaction class=anchor aria-hidden=true>#</a></h3><p>Receive events when a message is reacted to by a user (or <strong>yourself</strong> reacting to a message).</p><ul><li><code>payload.reaction.text</code> - emoji that was used to react to the message. It&rsquo;ll be an empty string if the reaction was removed.</li><li><code>payload.reaction.messageId</code> - id of the message that was reacted to.</li></ul><pre><code class=language-json>{
    &quot;event&quot;: &quot;message.reaction&quot;,
    &quot;session&quot;: &quot;default&quot;,
    &quot;me&quot;: {
        &quot;id&quot;: &quot;79222222222@c.us&quot;,
        &quot;pushName&quot;: &quot;WAHA&quot;
    },
    &quot;payload&quot;: {
        &quot;id&quot;: &quot;false_79111111@c.us_11111111111111111111111111111111&quot;,
        &quot;from&quot;: &quot;79111111@c.us&quot;,
        &quot;fromMe&quot;: false,
        &quot;participant&quot;: &quot;79111111@c.us&quot;,
        &quot;to&quot;: &quot;79111111@c.us&quot;,
        &quot;timestamp&quot;: 1710481111.853,
        &quot;reaction&quot;: {
            &quot;text&quot;: &quot;üôè&quot;,
            &quot;messageId&quot;: &quot;true_79111111@c.us_11111111111111111111111111111111&quot;
        }
    },
    &quot;engine&quot;: &quot;WEBJS&quot;,
    &quot;environment&quot;: {
        &quot;version&quot;: &quot;2024.3.3&quot;,
        &quot;engine&quot;: &quot;WEBJS&quot;,
        &quot;tier&quot;: &quot;PLUS&quot;,
        &quot;browser&quot;: &quot;/usr/bin/google-chrome-stable&quot;
    }
}
</code></pre><div class="alert alert-doks d-flex" role=alert><div class="flex-shrink-1 alert-icon">üëâ</div><div class=w-100>NOWEB engine note - reactions were sent in 'message' and 'message.any' events, not it's available only in 'message.reaction'!</div></div><h3 id=messageack>message.ack <a href=#messageack class=anchor aria-hidden=true>#</a></h3><p>Receive events when server or recipient gets the message, read or played it.</p><p><code>ackName</code> field contains message status (<code>ack</code> has the same meaning, but show the value in int, but we keep it for backward compatability, they much to each other)</p><p>Possible message ack statuses:</p><ul><li><code>ackName: ERROR, ack: -1</code></li><li><code>ackName: PENDING, ack: 0</code></li><li><code>ackName: SERVER, ack: 1</code></li><li><code>ackName: DEVICE, ack: 2</code></li><li><code>ackName: READ, ack: 3</code></li><li><code>ackName: PLAYED, ack: 4</code></li></ul><p>The payload may have more fields, it depends on the engine you use, but here&rsquo;s a minimum amount that all engines send:</p><pre><code class=language-json>{
  &quot;event&quot;: &quot;message.ack&quot;,
  &quot;session&quot;: &quot;default&quot;,
  &quot;engine&quot;: &quot;WEBJS&quot;,
  &quot;payload&quot;: {
    &quot;id&quot;:&quot;true_11111111111@c.us_4CC5EDD64BC22EBA6D639F2AF571346C&quot;,
    &quot;from&quot;:&quot;11111111111@c.us&quot;,
    &quot;participant&quot;: null,
    &quot;fromMe&quot;:true,
    &quot;ack&quot;:3,
    &quot;ackName&quot;:&quot;READ&quot;
  }
}
</code></pre><h3 id=messagerevoked>message.revoked <a href=#messagerevoked class=anchor aria-hidden=true>#</a></h3><p>The <code>message.revoked</code> event is triggered when a user, whether it be you or any other participant,
revokes a previously sent message.</p><pre><code class=language-json>{
  &quot;event&quot;: &quot;message.revoked&quot;,
  &quot;session&quot;: &quot;default&quot;,
  &quot;payload&quot;: {
    &quot;before&quot;: {
      &quot;id&quot;: &quot;some-id-here&quot;,
      &quot;timestamp&quot;: &quot;some-timestamp-here&quot;,
      &quot;body&quot;: &quot;Hi there!&quot;
    },
    &quot;after&quot;: {
      &quot;id&quot;: &quot;some-id-here&quot;,
      &quot;timestamp&quot;: &quot;some-timestamp-here&quot;,
      &quot;body&quot;: &quot;&quot;
    }
  }
}
</code></pre><p><strong>Important notes</strong>:</p><ol><li>The above messages&rsquo; ids don&rsquo;t match any of the ids you&rsquo;ll receive in the <code>message</code> event, it&rsquo;s a different id.</li><li>In order to find the message that was revoked, you&rsquo;ll need to search for the message with
the same timestamp and chat id as the one in the <code>after</code> object.</li><li><code>before</code> field can be null in some cases.</li></ol><h3 id=statechange>state.change <a href=#statechange class=anchor aria-hidden=true>#</a></h3><p>It&rsquo;s an internal engine&rsquo;s state, not <strong>session</strong> <code>status</code>.</p><pre><code class=language-json>{
  &quot;event&quot;: &quot;state.change&quot;,
  &quot;session&quot;: &quot;default&quot;,
  &quot;engine&quot;: &quot;WEBJS&quot;,
  &quot;payload&quot;: {
    ...
  }
}
</code></pre><h3 id=groupjoin>group.join <a href=#groupjoin class=anchor aria-hidden=true>#</a></h3><pre><code class=language-json>{
  &quot;event&quot;: &quot;group.join&quot;,
  &quot;session&quot;: &quot;default&quot;,
  &quot;engine&quot;: &quot;WEBJS&quot;,
  &quot;payload&quot;: {
    ...
  }
}
</code></pre><h3 id=groupleave>group.leave <a href=#groupleave class=anchor aria-hidden=true>#</a></h3><pre><code class=language-json>{
  &quot;event&quot;: &quot;group.left&quot;,
  &quot;session&quot;: &quot;default&quot;,
  &quot;engine&quot;: &quot;WEBJS&quot;,
  &quot;payload&quot;: {
    ...
  }
}
</code></pre><h3 id=presenceupdate>presence.update <a href=#presenceupdate class=anchor aria-hidden=true>#</a></h3><ul><li><code>payload.id</code> indicates the chat - either direct chat with a contact or a group chat.</li><li><code>payload.id.[].participant</code> - certain participant presence status. For a direct chat there&rsquo;s only one participant.</li></ul><pre><code class=language-json>{
    &quot;event&quot;: &quot;presence.update&quot;,
    &quot;session&quot;: &quot;default&quot;,
    &quot;engine&quot;: &quot;NOWEB&quot;,
    &quot;payload&quot;: {
        &quot;id&quot;: &quot;111111111111111111@g.us&quot;,
        &quot;presences&quot;: [
            {
                &quot;participant&quot;: &quot;11111111111@c.us&quot;,
                &quot;lastKnownPresence&quot;: &quot;typing&quot;,
                &quot;lastSeen&quot;: null
            }
        ]
    }
}
</code></pre><h3 id=pollvote>poll.vote <a href=#pollvote class=anchor aria-hidden=true>#</a></h3><p>We have a dedicated page <a href=/docs/how-to/polls/>how to send polls and receive votes</a>!</p><pre><code class=language-json>{
  &quot;event&quot;: &quot;poll.vote&quot;,
  &quot;session&quot;: &quot;default&quot;,
  &quot;payload&quot;: {
    &quot;vote&quot;: {
      &quot;id&quot;: &quot;false_1111111111@c.us_83ACBE602A05C79B234B54415E95EE8A&quot;,
      &quot;to&quot;: &quot;me&quot;,
      &quot;from&quot;: &quot;1111111@c.us&quot;,
      &quot;fromMe&quot;: false,
      &quot;selectedOptions&quot;: [&quot;Awesome!&quot;],
      &quot;timestamp&quot;: 1692861427
    },
    &quot;poll&quot;: {
      &quot;id&quot;: &quot;true_1111111111@c.us_BAE5F2EF5C69001E&quot;,
      &quot;to&quot;: &quot;1111111111@c.us&quot;,
      &quot;from&quot;: &quot;me&quot;,
      &quot;fromMe&quot;: true
    }
  },
  &quot;engine&quot;: &quot;NOWEB&quot;
}
</code></pre><h3 id=pollvotefailed>poll.vote.failed <a href=#pollvotefailed class=anchor aria-hidden=true>#</a></h3><p>We have a dedicated page <a href=/docs/how-to/polls/>how to send polls and receive votes</a>!</p><pre><code class=language-json>{
  &quot;event&quot;: &quot;poll.vote.failed&quot;,
  &quot;session&quot;: &quot;default&quot;,
  &quot;payload&quot;: {
    &quot;vote&quot;: {
      &quot;id&quot;: &quot;false_11111111111@c.us_2E8C4CDA89EDE3BC0BC7F605364B8451&quot;,
      &quot;to&quot;: &quot;me&quot;,
      &quot;from&quot;: &quot;111111111@c.us&quot;,
      &quot;fromMe&quot;: false,
      &quot;selectedOptions&quot;: [],
      &quot;timestamp&quot;: 1692956972
    },
    &quot;poll&quot;: {
      &quot;id&quot;: &quot;true_1111111111@c.us_BAE595F4E0A2042C&quot;,
      &quot;to&quot;: &quot;111111111@c.us&quot;,
      &quot;from&quot;: &quot;me&quot;,
      &quot;fromMe&quot;: true
    }
  },
  &quot;engine&quot;: &quot;NOWEB&quot;
}
</code></pre><h2 id=webhooks-advanced-imagesversionspluspng>Webhooks Advanced <img class="img-fluid lazyload blur-up" src=/images/versions/plus.png> <a href=#webhooks-advanced-imagesversionspluspng class=anchor aria-hidden=true>#</a></h2><h3 id=hmac-authentication>HMAC authentication <a href=#hmac-authentication class=anchor aria-hidden=true>#</a></h3><p>You can authenticate webhook sender by using <a href=https://www.okta.com/identity-101/hmac/>HMAC Authentication</a>.</p><ol><li>Define you secret key in <code>config.hmac.key</code> field when you start session with <code>POST /api/sessions/start</code>:</li></ol><pre><code class=language-json>{
  &quot;name&quot;: &quot;default&quot;,
  &quot;config&quot;: {
    &quot;webhooks&quot;: [
      {
        &quot;url&quot;: &quot;https://webhook.site/11111111-1111-1111-1111-11111111&quot;,
        &quot;events&quot;: [
          &quot;message&quot;
        ],
        &quot;hmac&quot;: {
          &quot;key&quot;: &quot;your-secret-key&quot;
        }
      }
    ]
  }
}
</code></pre><ol start=2><li>After that you&rsquo;ll receive all webhooks payload with two additional headers:</li></ol><ul><li><code>X-Webhook-Hmac</code> - message authentication code for the raw <strong>body</strong> in HTTP POST request that send to your endpoint.</li><li><code>X-Webhook-Hmac-Algorithm</code> - <code>sha512</code> - algorithm that have been used to create <code>X-Webhook-Hmac</code> value.</li></ul><ol start=3><li>Implement the authentication algorithm by hashing body and using secret key and then verifying it with <code>X-Webhook-Hmac</code>
value. Please <a href=https://www.devglan.com/online-tools/hmac-sha256-online>check your implementation here -></a></li></ol><p>Here&rsquo;s example for</p><pre><code># Full body
{&quot;event&quot;:&quot;message&quot;,&quot;session&quot;:&quot;default&quot;,&quot;engine&quot;:&quot;WEBJS&quot;}
# Secret key
my-secret-key
# X-Webhook-Hmac-Algorithm
sha512
# X-Webhook-Hmac
208f8a55dde9e05519e898b10b89bf0d0b3b0fdf11fdbf09b6b90476301b98d8097c462b2b17a6ce93b6b47a136cf2e78a33a63f6752c2c1631777076153fa89
</code></pre><h3 id=retries>Retries <a href=#retries class=anchor aria-hidden=true>#</a></h3><p><strong>WAHA</strong> retries to reach your webhook URL <strong>15 times</strong> with <strong>2 seconds delay</strong> between attempts by default in
<a href=/docs/how-to/plus-version/>Plus Version ‚Üí</a></p><p>You can configure those parameters by settings <code>config.retries</code> structure when <code>POST /api/sessions/start</code>:</p><pre><code class=language-json>{
  &quot;name&quot;: &quot;default&quot;,
  &quot;config&quot;: {
    &quot;webhooks&quot;: [
      {
        &quot;url&quot;: &quot;https://webhook.site/11111111-1111-1111-1111-11111111&quot;,
        &quot;events&quot;: [
          &quot;message&quot;
        ],
        &quot;retries&quot;: {
          &quot;delaySeconds&quot;: 2,
          &quot;attempts&quot;: 15
        }
      }
    ]
  }
}

</code></pre><h3 id=custom-headers>Custom Headers <a href=#custom-headers class=anchor aria-hidden=true>#</a></h3><p>You can send any customer headers by defining <code>config.webhooks.customHeaders</code> fields this way:</p><pre><code class=language-json>{
  &quot;name&quot;: &quot;default&quot;,
  &quot;config&quot;: {
    &quot;webhooks&quot;: [
      {
        &quot;url&quot;: &quot;https://webhook.site/11111111-1111-1111-1111-11111111&quot;,
        &quot;events&quot;: [
          &quot;message&quot;
        ],
        &quot;customHeaders&quot;: [
          {
            &quot;name&quot;: &quot;X-My-Custom-Header&quot;,
            &quot;value&quot;: &quot;Value&quot;
          }
        ]
      }
    ]
  }
}
</code></pre><h2 id=websockets>Websockets <a href=#websockets class=anchor aria-hidden=true>#</a></h2><p>You can use Websockets to receive messages in real-time.</p><p>Install <a href="https://github.com/vi/websocat?tab=readme-ov-file#installation">websocat</a> first.</p><pre><code class=language-bash># Listen all sessions and events
# -E to end the connection when the server closes it
websocat -E ws://localhost:3000/ws
# Listen all sessions and events (explicitly)
websocat -E ws://localhost:3000/ws?session=*&amp;events=*

# Listen certain events
# (!) Only 'session.status' event is supported now
websocat -E ws://localhost:3000/ws?session=*&amp;events=session.status

# If you're using HTTPS (SSL) connection
websocat -E wss://localhost:3000/ws?session=*&amp;events=session.status

# If you're using Api Key - make sure to add it to the URL
websocat -E ws://localhost:3000/ws?x-api-key=123

# If you want to see the logs and ping the server every 10 seconds
websocat -v --ping-interval=10 -E ws://localhost:3000/ws

# Listen certain session
# NOT SUPPORTED YET
# websocat -E ws://localhost:3000/ws?session=default&amp;events=session.status
</code></pre><p>‚ö†Ô∏è Right now websockets has limited support for events, but we&rsquo;re working on it to add more events in the future.</p><ul><li>No session filtering, you can listen to all sessions only.</li><li>Only <a href=#session.status>session.status</a> event is supported now.</li></ul><p>Fill free to <a href=https://github.com/devlikeapro/waha/issues/new/choose><strong>Create Feature Request</strong></a>
if you need more events or per session filters.</p><h2 id=examples>Examples <a href=#examples class=anchor aria-hidden=true>#</a></h2><p>Here&rsquo;s few examples of how to handle webhook in different languages:</p><ol><li><a href=/docs/examples/python/>Python guide</a></li></ol><p><strong>Do you use another language?</strong></p><p>Please create a short guide how to handle webhook and send message after you finish your setup!
You can create a pull request with your favorite language in the
<a href=https://github.com/devlikeapro/waha/tree/core/examples>GitHub, in examples folder -></a>.</p><div class="page-footer-meta d-flex flex-column flex-md-row justify-content-between"><div class=edit-page><a href=https://github.com/devlikeapro/waha-docs/blob/main/content/en/docs/how-to/webhooks/index.md><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-2"><path d="M17 3a2.828 2.828.0 114 4L7.5 20.5 2 22l1.5-5.5L17 3z"/></svg>Edit this page on GitHub</a></div></div><div class="docs-navigation d-flex justify-content-between"><a href=/docs/how-to/sessions/><div class="card my-1"><div class="card-body py-2">&larr; üñ•Ô∏è Sessions</div></div></a><a class=ms-auto href=/docs/how-to/proxy/><div class="card my-1"><div class="card-body py-2">üåê Proxy &rarr;</div></div></a></div></main></div></div></div><footer class="footer text-muted"><div class=container-xxl><div class=row><div class="col-lg-12 order-last order-lg-first"><ul class=list-inline><li class=list-inline-item>This project is not affiliated, associated, authorized, endorsed by, or in any way officially connected with WhatsApp or any of its subsidiaries or its affiliates. The official WhatsApp website can be found at <a class=text-muted href=https://whatsapp.com/>https://whatsapp.com/</a>. "WhatsApp" as well as related names, marks, emblems and images are registered trademarks of their respective owners.</li></ul></div><div class="col-lg-12 order-first order-lg-last text-lg-end"><ul class=list-inline></ul></div></div></div></footer><script src=/js/bootstrap.min.87685cf4e6585276ff9e7b5d0b97e792615af6921e77821315d1ca7c5511ac2f30667e16c0d031e680ca8b57f63f6c0f6c4a232da777cce474b501ed81e090a9.js integrity="sha512-h2hc9OZYUnb/nntdC5fnkmFa9pIed4ITFdHKfFURrC8wZn4WwNAx5oDKi1f2P2wPbEojLad3zOR0tQHtgeCQqQ==" crossorigin=anonymous defer></script>
<script src=/js/highlight.min.56a414730f1135fe77b5ea30bf74a2cc4101a6f386e85e5b789c800570cc33d33054000f45932c053a59b41018f72687867254a80e1b9710671852492533162f.js integrity="sha512-VqQUcw8RNf53teowv3SizEEBpvOG6F5beJyABXDMM9MwVAAPRZMsBTpZtBAY9yaHhnJUqA4blxBnGFJJJTMWLw==" crossorigin=anonymous defer></script>
<script src=/main.min.2648485633d1f986dba588c052c000e5fa46b7574a634bbfdb336dbd1dc809efa166daf72f9e6d95681873904e25f57c93e9e1cebaa97a6363045a38f2373bdf.js integrity="sha512-JkhIVjPR+YbbpYjAUsAA5fpGt1dKY0u/2zNtvR3ICe+hZtr3L55tlWgYc5BOJfV8k+nhzrqpemNjBFo48jc73w==" crossorigin=anonymous defer></script>
<script src=https://waha.devlike.pro/index.min.da195d9faf7f40c03c476f8440c1a4c6e6ad042e7e9f65835c6d3d9463ee9a05af70e623fd6e3039b9121864027f576e4c1c7a9ecdc53c79a6d442a521242c26.js integrity="sha512-2hldn69/QMA8R2+EQMGkxuatBC5+n2WDXG09lGPumgWvcOYj/W4wObkSGGQCf1duTBx6ns3FPHmm1EKlISQsJg==" crossorigin=anonymous defer></script></body></html>